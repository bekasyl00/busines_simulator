<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <title>–ë–∏–∑–Ω–µ—Å-—Å–∏–º—É–ª—è—Ç–æ—Ä</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="left_right.css">
  <style>
    body { font-family: "Times New Roman", Times, serif; padding: 30px; color: #fff; 
        font-size: 25px; 
        line-height: 1.6;
        display: flex; 
        flex-direction: column;
        align-items: center; 
        /* –§–æ–Ω “Ø—à—ñ–Ω –æ—Ä—ã–Ω “õ–∞–ª–¥—ã—Ä—É */
        width: 100%; 
        min-height: 100vh; }

    .gradient-bg {
      background: linear-gradient(270deg, #002f4b, #dc4225);
      background-size: 400% 400%;
      animation: gradient 20s ease infinite;
    }
    @keyframes gradient {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
    header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 0px 0; width: 100%;
        max-width: 1700px;
    }
.day-block {
        border: 2px solid rgba(255,255,255,0.5); /* –ê—à—ã“õ –∂–∏–µ–∫ */
        border-radius: 20px;
        padding: 30px;
        margin: 20px 0;
        background: rgba(0,0,0,0.4); /* “ö–∞—Ä–∞–ª–∞—É –º”©–ª–¥—ñ—Ä —Ñ–æ–Ω */
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); /* –¢–µ—Ä–µ“£–¥—ñ–∫ —ç—Ñ—Ñ–µ–∫—Ç—ñ—Å—ñ */
        backdrop-filter: blur(4px); /* –§–æ–Ω–¥—ã –±“±–ª–¥—ã—Ä–∞—Ç—É (–≥–ª–∞—Å—Å–º–æ—Ä—Ñ–∏–∑–º) */
        -webkit-backdrop-filter: blur(4px);
        width: 100%;
        max-width: 900px; /* –ú–∞–∫—Å–∏–º–∞–ª–¥—ã –µ–Ω—ñ–Ω —à–µ–∫—Ç–µ—É */
    }


.locked { opacity: 0.4; pointer-events: none; }
.open { opacity: 1; pointer-events: all; }
button {
      display: block; margin: 20px 0; padding: 20px 20px;
      border: none; border-radius: 8px; cursor: pointer;
      background: rgba(255,255,255,0.2); color: #fff;
      transition: 0.3s;
    }
    button:hover { background: rgba(255,255,255,0.4); }
    input[type="number"] {
      padding: 15px; border-radius: 12px; border: none; width: 120px;
    }









.sidebar {
  position: fixed;
  top: 100px;
  width: 260px;
  height: calc(100vh - 100px);
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: 15px;
  transition: transform 0.4s ease, opacity 0.4s ease;
  overflow-y: auto;
  z-index: 100;
  backdrop-filter: blur(8px);
}

/* –°–æ–ª –∂–∞“õ –ø–∞–Ω–µ–ª—å */
.left-sidebar { left: 0; border-right: none; }
.left-sidebar.hidden { transform: translateX(-100%); opacity: 0; }

/* –û“£ –∂–∞“õ –ø–∞–Ω–µ–ª—å */
.right-sidebar { right: 0; border-left: none; }
.right-sidebar.hidden { transform: translateX(100%); opacity: 0; }



.left-sidebar .toggle-btn { right: -18px; }
.right-sidebar .toggle-btn { left: -18px; }
    /* üõë –û–†–¢–ê–õ–´“ö –ö–û–ù–¢–ï–ù–¢ –ê–ô–ú–ê“í–´–ù –¢“Æ–ó–ï–¢–£ */
    /* –û—Ä—Ç–∞–ª—ã“õ –∫–æ–Ω—Ç–µ–Ω—Ç –±“Ø–π—ñ—Ä–ª—ñ–∫ –±–ª–æ–∫—Ç–∞—Ä–¥—ã“£ –∞—Å—Ç—ã–Ω–¥–∞ “õ–∞–ª–º–∞—É—ã “Ø—à—ñ–Ω –æ“ì–∞–Ω “õ–æ—Å—ã–º—à–∞ –∞—Ä–∞–ª—ã“õ –±–µ—Ä—É */
    .center-content-area {
        /* –ë“±–ª –µ–Ω—ñ“£—ñ–∑–≥–µ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã. –ï–≥–µ—Ä sidebar 250px –±–æ–ª—Å–∞, 280px margin –±–µ—Ä—É –∫–µ—Ä–µ–∫: */
        margin: 0 280px; 
        max-width: 900px;
        flex-grow: 1; 
    }















/* ========================================================= */
/* üõë –ö”®–ú–ï–ö –ë–õ–û–ö–¢–ê–†–´–ù–´“¢ –°–¢–ò–õ–Ü */
/* ========================================================= */

.help-block {
    margin: 15px 0;
    padding: 10px;
    border-radius: 12px;
    transition: all 0.5s ease-in-out;
    text-align: center;
    min-height: 50px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

/* –ñ–∞–±—ã“õ –±–ª–æ–∫—Ç–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω "–≥–æ–ª–æ–≥—Ä–∞—Ñ–∏–∫–∞–ª—ã“õ" —Ñ–æ–Ω */
.closed-help {
    /* –ñ–∞—Ä“õ—ã—Ä–∞“ì–∞–Ω —ç—Ñ—Ñ–µ–∫—Ç “Ø—à—ñ–Ω –≥—Ä–∞–¥–∏–µ–Ω—Ç—Ç—ñ —Ñ–æ–Ω */
    background: linear-gradient(135deg, rgba(50, 50, 100, 0.7) 0%, rgba(100, 100, 150, 0.3) 100%);
    border: 2px solid #5d9cec; /* –ö”©–∫—à—ñ–ª –∂–∏–µ–∫ */
    box-shadow: 0 0 10px #5d9cec; /* –ö”©–∫—à—ñ–ª –∂–∞—Ä“õ—ã–ª */
}

/* “ö–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω –±–ª–æ–∫—Ç–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å—Ç–∏–ª—å */
.used-help {
    background: rgba(0, 0, 0, 0.5); /* “ö–∞—Ä–∞—Ä—ã–ø “õ–∞–ª–∞–¥—ã */
    border: 1px dashed gray;
    color: #aaa;
    pointer-events: none; /* –ë–∞—Å—É“ì–∞ –±–æ–ª–º–∞–π–¥—ã */
}

.used-help button {
    display: none; /* –ë–∞—Ç—ã—Ä–º–∞–Ω—ã –∂–∞—Å—ã—Ä—É */
}

/* –ö”©–º–µ–∫ –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω—ã“£ –µ—Ä–µ–∫—à–µ —Å—Ç–∏–ª—ñ */
.help-block button {
    background: #ff5e5e; /* “ö—ã–∑—ã–ª —Ç“Ø—Å—Ç—ñ –±–∞—Ç—ã—Ä–º–∞ */
    color: white;
    font-weight: bold;
    border: 2px solid #e74c3c;
    padding: 8px 15px;
    width: 90%;
    margin: 0;
    transition: background 0.3s;
}

.help-block button:hover {
    background: #e74c3c;
    transform: scale(1.05);
}

.help-content-open {
    padding: 5px 0;
    text-align: center;
}





/* –û“¢ –ñ–ê“ö –ë–õ–û–ö (–ú“Æ–ú–ö–Ü–ù–î–Ü–ö–¢–ï–†) “Æ–®–Ü–ù –ñ–ê“¢–ê –°–¢–ò–õ–¨ */
.closed-help-opportunity {
    /* –ñ–∞—Ä“õ—ã—Ä–∞“ì–∞–Ω —ç—Ñ—Ñ–µ–∫—Ç “Ø—à—ñ–Ω –≥—Ä–∞–¥–∏–µ–Ω—Ç—Ç—ñ —Ñ–æ–Ω */
    background: linear-gradient(135deg, rgba(100, 80, 50, 0.7) 0%, rgba(150, 150, 100, 0.3) 100%);
    border: 2px solid #f1c40f; /* –ê–ª—Ç—ã–Ω/–°–∞—Ä—ã –∂–∏–µ–∫ */
    box-shadow: 0 0 10px #f1c40f; /* –°–∞—Ä—ã –∂–∞—Ä“õ—ã–ª */
}

/* –û“£ –∂–∞“õ –±–ª–æ–∫—Ç–∞—Ä“ì–∞ –∂–∞“£–∞ –∫–ª–∞—Å—Å –±–µ—Ä—É */
#opp-block-1, #opp-block-2, #opp-block-3 {
    /* –ë“±—Ä—ã–Ω“ì—ã closed-help –∫–ª–∞—Å—ã–Ω –∞–ª—ã–ø —Ç–∞—Å—Ç–∞–ø, –æ—Å—ã–Ω—ã “õ–æ—Å—ã“£—ã–∑ */
    /* –ï–≥–µ—Ä closed-help-—Ç–µ –±–∞—Å“õ–∞ –º–∞“£—ã–∑–¥—ã —Å—Ç–∏–ª—å –±–æ–ª–º–∞—Å–∞, –æ—Å—ã–Ω—ã “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑: */
    /* –ñ–æ“ì–∞—Ä—ã–¥–∞“ì—ã HTML-–¥–µ–≥—ñ closed-help –∫–ª–∞—Å—ã–Ω –æ—Å—ã“ì–∞–Ω –∞—É—ã—Å—Ç—ã—Ä–º–∞—Å–∞“£—ã–∑ –¥–∞, –∂“±–º—ã—Å —ñ—Å—Ç–µ–π–¥—ñ, –±—ñ—Ä–∞“õ –≤–∏–∑—É–∞–ª–¥—ã –∞–π—ã—Ä–º–∞—à—ã–ª—ã“õ –±–æ–ª–º–∞–π–¥—ã */
    
    /* –ï–≥–µ—Ä —Å—ñ–∑ –µ–∫—ñ –±–ª–æ–∫—Ç—ã“£ –¥–∞ —Ñ–æ–Ω—ã–Ω ”ô—Ä—Ç“Ø—Ä–ª—ñ “õ–∞–ª–∞—Å–∞“£—ã–∑, HTML-–¥–µ–≥—ñ closed-help-—Ç—ñ –∞–ª—ã–ø —Ç–∞—Å—Ç–∞–ø, –º—ã–Ω–∞–Ω—ã “õ–æ–π—ã“£—ã–∑: */
    /* class="help-block closed-help-opportunity" */
}

/* –ú“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω—ã“£ —Ç“Ø—Å—ñ (–ú—ã—Å–∞–ª—ã, –ê–ª—Ç—ã–Ω) */
#opp-block-1 button, #opp-block-2 button, #opp-block-3 button {
    background: #f39c12; 
    border: 2px solid #e67e22;
}

#opp-block-1 button:hover, #opp-block-2 button:hover, #opp-block-3 button:hover {
    background: #e67e22;
}











/* –î–∏–∑–∞–π–Ω –°—É—Ä–µ—Ç—Ç–µ—Ä—ñ–Ω–µ –ê—Ä–Ω–∞–ª“ì–∞–Ω –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
.design-preview-container {
    text-align: center; 
    margin: 15px 0; 
}

/* ========================================================= */
/* üõë IMG –¢–ï–ì–Ü–ù–ï –ê–†–ù–ê–õ“í–ê–ù –ñ–ê–õ–ü–´ –°–¢–ò–õ–¨ */
/* ========================================================= */

.design-image {
    /* –°—É—Ä–µ—Ç—Ç—ñ“£ –µ–Ω—ñ–Ω –∞—Ç–∞-–∞–Ω–∞–ª—ã“õ —ç–ª–µ–º–µ–Ω—Ç–∫–µ (day-block) “õ–∞—Ç—ã—Å—Ç—ã 100% –µ—Ç—É */
    width: 100%;       
    
    /* –ë–∏—ñ–∫—Ç—ñ–∫—Ç—ñ –∞–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ —Ä–µ—Ç—Ç–µ—É (—Å—É—Ä–µ—Ç—Ç—ñ“£ —Å–æ–∑—ã–ª—ã–ø –∫–µ—Ç–ø–µ—É—ñ “Ø—à—ñ–Ω) */
    height: auto;      
    
    /* –°—É—Ä–µ—Ç —Ç—ã–º “Ø–ª–∫–µ–Ω –±–æ–ª—ã–ø –∫–µ—Ç–ø–µ—É—ñ “Ø—à—ñ–Ω –º–∞–∫—Å–∏–º–∞–ª–¥—ã –µ–Ω—ñ–Ω —à–µ–∫—Ç–µ—É (“õ–∞–∂–µ—Ç –±–æ–ª—Å–∞) */
    max-width: 600px; 
    
    /* –û—Ä—Ç–∞“ì–∞ —Ç–µ“£–µ—É (–µ–≥–µ—Ä —Å—É—Ä–µ—Ç 100% –µ–Ω–¥—ñ –∞–ª–º–∞—Å–∞) */
    display: block; 
    margin: 0 auto;
    
    /* –í–∏–∑—É–∞–ª–¥—ã —Å—Ç–∏–ª—å–¥–µ—Ä */
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4); /* ”ò–¥–µ–º—ñ –∫”©–ª–µ“£–∫–µ */
}

/* –ï–≥–µ—Ä —Å—ñ–∑ "–ú–∏–Ω–∏–º–∞–ª–∏–∑–º" —Å—É—Ä–µ—Ç—ñ–Ω–µ –∞—Ä–Ω–∞–π—ã —Å—Ç–∏–ª—å “õ–æ—Å“õ—ã“£—ã–∑ –∫–µ–ª—Å–µ, –æ—Å—ã –∫–ª–∞—Å—Å—Ç—ã –ø–∞–π–¥–∞–ª–∞–Ω—ã“£—ã–∑: */
.minimalism-img {
    /* –ú—ã—Å–∞–ª—ã, —Å”ô–ª –±–∞—Å“õ–∞ —à–µ–∫–∞—Ä–∞ —Ç“Ø—Å—ñ–Ω –±–µ—Ä–µ—Å—ñ–∑: */
    border: 3px solid #f1c40f; 
}












    /* –ñ–∞–ª–ø—ã —Ñ–æ–Ω –∂”ô–Ω–µ –º”ô—Ç—ñ–Ω */
    body {
       
        background-color: #121212; /* “ö–∞—Ä–∞“£“ì—ã —Ñ–æ–Ω */
        color: #e0e0e0; /* –ê—à—ã“õ –º”ô—Ç—ñ–Ω */
        margin: 0;
        padding: 20px;
        line-height: 1.6;
    }

    /* –ù–µ–≥—ñ–∑–≥—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    #app-container {
        max-width: 900px;
        margin: 0 auto;
        background-color: #1e1e1e; /* –°”ô–ª –∞—à—ã“õ —Ñ–æ–Ω */
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    }

    /* –¢–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä */
    h2, h3, h4 {
        color: #00BFFF; /* –ö”©–∫—à—ñ–ª —Ç“Ø—Å */
        border-bottom: 2px solid #2a2a2a;
        padding-bottom: 8px;
        margin-top: 25px;
        margin-bottom: 15px;
    }

    /* –ö“Ø–Ω –±–ª–æ–∫—Ç–∞—Ä—ã */
    .day-block {
        background-color: #242424;
        padding: 25px;
        border-radius: 10px;
        margin-bottom: 25px;
        border-left: 5px solid #FFD700; /* –ê–ª—Ç—ã–Ω –∂–∏–µ–∫ */
    }

    /* –¶–∏—Ç–∞—Ç–∞–ª–∞—Ä */
    blockquote {
        border-left: 4px solid #69f0ae; /* –ñ–∞—Å—ã–ª –∂–∏–µ–∫ */
        padding: 10px 15px;
        margin: 15px 0;
        font-style: italic;
        background-color: rgba(105, 240, 174, 0.1);
        border-radius: 4px;
        color: #bbb;
    }

    /* –ö—ñ—Ä—ñ—Å ”©—Ä—ñ—Å—Ç–µ—Ä—ñ (Input) */
    input[type="number"], input[type="text"] {
        padding: 10px;
        border-radius: 6px;
        border: 1px solid #444;
        background-color: #1a1a1a;
        color: #e0e0e0;
        margin-right: 10px;
        transition: border-color 0.3s;
    }

    input:focus {
        border-color: #00BFFF;
        outline: none;
    }

    /* –ñ–∞–ª–ø—ã –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä (–ú“±–Ω–¥–∞ –±–∞—Ä–ª—ã“õ 'check-btn', 'option-btn', —Ç.–±. —Å—Ç–∏–ª—å–¥–µ—Ä—ñ –±–∞—Ä) */
    button {
        padding: 10px 20px;
        border: none;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s, opacity 0.3s;
        margin-top: 5px;
        margin-bottom: 5px;
    }

    /* ”ò–¥–µ–ø–∫—ñ –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä */
    .check-btn, #checkMathBtn {
        background-color: #00BFFF; /* –ö”©–∫ */
        color: white;
    }

    .check-btn:hover:not(:disabled), #checkMathBtn:hover:not(:disabled) {
        background-color: #0099cc;
    }

    /* ”®—à—ñ—Ä—ñ–ª–≥–µ–Ω (disabled) –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä */
    button:disabled {
        background-color: #555 !important;
        cursor: not-allowed !important;
        opacity: 0.6;
    }

    /* –û–ø—Ü–∏—è –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω Grid –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .option-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
    }

    /* –ù”ô—Ç–∏–∂–µ –º”ô—Ç—ñ–Ω–¥–µ—Ä—ñ */
    .result {
        margin-top: 10px;
        font-weight: bold;
        padding: 5px 0;
    }

    /* –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∫”©—Ä—Å–µ—Ç—É */
    #capital-display {
        background-color: #FFD700;
        color: #121212;
        padding: 10px 15px;
        border-radius: 6px;
        font-size: 1.2em;
        font-weight: bold;
        text-align: center;
        margin-bottom: 30px;
    }

    /* “ö–æ—Å—ã–º—à–∞ —Å–µ–∫—Ü–∏—è–ª—ã“õ –±–ª–æ–∫—Ç–∞—Ä (5-–∫“Ø–Ω–≥–µ “±“õ—Å–∞—Å) */
    .inner-section {
        background-color: #2a2a2a;
        padding: 20px;
        border-radius: 8px;
        margin-top: 15px;
    }

    /* –ë–ª–æ–∫—Ç–∞—Ä–¥—ã“£ –∂–∞—Å—ã—Ä—ã–ª—É—ã */
    .locked {
        opacity: 0.5;
        pointer-events: none; /* –Ü—à—ñ–Ω–¥–µ–≥—ñ –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã –±–∞—Å—É–¥—ã ”©—à—ñ—Ä—É */
    }

</style>
 
</head>





<body class="gradient-bg">

  <header>
    <h2 id="playerName"></h2>
    <div id="capitalDisplay"></div>
  </header>


 


   





    <div class="main-wrapper"> 



    <div class="sidebar left-sidebar" id="leftSidebar">
        <!-- <button class="toggle-btn" id="toggleLeft">‚óÄ</button> -->
        <div class="sidebar-content">

            <h3>üíº –ö“Ø–Ω–¥–µ–ª—ñ–∫—Ç—ñ –ö–µ“£–µ—Å—Ç–µ—Ä</h3>

            <div id="help-block-1" class="help-block closed-help">
        <p>üë®üèª‚Äçüíº –¢—É—ã—Å“õ–∞–Ω–¥—ã“õ –ö”©–º–µ–∫</p> 
        <button onclick="handleHelpRequest('help-block-1')">
             –ö”©–º–µ–∫ –°“±—Ä–∞—É
        </button>
            </div>

        <div id="help-block-2" class="help-block closed-help">
        <p>‚ú®–ö–µ–∑–¥–µ–π—Å–æ“õ –°”ô—Ç—Ç—ñ–ª—ñ–∫</p>
        <button onclick="handleHelpRequest('help-block-2')">
             –ö”©–º–µ–∫ –°“±—Ä–∞—É
        </button>
        </div>
    
        <div id="help-block-3" class="help-block closed-help">
        <p>ü§ù –î–æ—Å—Ç–∞—Ä “ö–æ–ª–¥–∞—É—ã</p>
        <button onclick="handleHelpRequest('help-block-3')">
             –ö”©–º–µ–∫ –°“±—Ä–∞—É
        </button>
    
            </div>
    </div>
    </div>

    



<div class="sidebar right-sidebar" id="rightSidebar">
  <!-- <button class="toggle-btn" id="toggleRight">‚ñ∂</button> -->
  <div class="sidebar-content">
    <h3>üöÄ –ö”ô—Å—ñ–ø–∫–µ—Ä–ª—ñ–∫ –ú“Ø–º–∫—ñ–Ω–¥—ñ–∫—Ç–µ—Ä</h3>

    <div id="opp-block-1" class="help-block closed-help">
        <p>üìà–ñ–æ“ì–∞—Ä—ã –¢”ô—É–µ–∫–µ–ª</p> 
        <button onclick="handleOpportunity('opp-block-1')">
             “ö–æ–ª–¥–∞–Ω—ã–ø –ö”©—Ä—É
        </button>
    </div>

    <div id="opp-block-2" class="help-block closed-help">
        <p>üí°–°—Ç—Ä–∞—Ç–µ–≥–∏—è–ª—ã“õ –®–µ—à—ñ–º</p>
        <button onclick="handleOpportunity('opp-block-2')">
             “ö–æ–ª–¥–∞–Ω—ã–ø –ö”©—Ä—É
        </button>
    </div>
    
    <div id="opp-block-3" class="help-block closed-help">
        <p>üìù“ö“±“õ—ã“õ—Ç—ã“õ –¢”ô—É–µ–∫–µ–ª</p>
        <button onclick="handleOpportunity('opp-block-3')">
             “ö–æ–ª–¥–∞–Ω—ã–ø –ö”©—Ä—É
        </button>
    </div>
    
</div>










        







</div>
    
    </div>
</div>


 <main id="daysContainer"></main>





<div id="intro-info-block" class="day-block open" style="font-size: 20px;">
    <div style="text-align: center; max-width: 900px; margin: 0 auto; padding: 10px;">
        <h3 style="font-size: 2.5em; color: #f1c40f; border-bottom: 3px solid #f1c40f; padding-bottom: 10px; margin-bottom: 25px;">
            üî•üéÆ “ö–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑, –±–æ–ª–∞—à–∞“õ –±–∏–∑–Ω–µ—Å-–º–∞–≥–Ω–∞—Ç!
        </h3>
        
        <p style="font-size: 1em; color: #ccc;">
            –°—ñ–∑ ‚Äî ”©–∑ –∫–æ–º–ø–∞–Ω–∏—è—Å—ã–Ω—ã“£ –∞–ª“ì–∞—à“õ—ã –∫—ñ—Ä–ø—ñ—à—ñ–Ω “õ–∞–ª–∞“ì–∞–ª—ã —Ç“±—Ä“ì–∞–Ω –∞–º–±–∏—Ü–∏—è—Å—ã –∑–æ—Ä –∫”ô—Å—ñ–ø–∫–µ—Ä—Å—ñ–∑.
            –ë“±–ª ‚Äî –∂–∞–π –æ–π—ã–Ω –µ–º–µ—Å. –ë“±–ª —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –ª–æ–≥–∏–∫–∞ –∂”ô–Ω–µ —Å”ô–ª –¥–µ –±–æ–ª—Å–∞ —Å”ô—Ç—Ç—ñ–ª—ñ–∫ —Ç—É—Ä–∞–ª—ã —Å—ã–Ω–∞“õ.
        </p>

        <div style="background: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 10px; margin: 30px 0;">
            <h4 style="color: #3498db; margin-top: 0; border-bottom: none; font-size: 1.5em;">üíº –ö“Ø–Ω–¥–µ–ª—ñ–∫—Ç—ñ –ú—ñ–Ω–¥–µ—Ç—Ç–µ—Ä:</h4>
            <ul style="list-style-type: 'üëâ '; text-align: left; padding-left: 40px; margin: 15px 0;">
                <li>“ö–∞–π–¥–∞ –∞“õ—à–∞ –∂“±–º—Å–∞–π—Å—ã–∑ üí∏</li>
                <li>“ö–∞–π–¥–∞ “Ø–Ω–µ–º–¥–µ–π—Å—ñ–∑ ‚öñÔ∏è</li>
                <li>–ö—ñ–º–¥—ñ “õ–æ–ª–¥–∞–π—Å—ã–∑, –∫—ñ–º–¥—ñ –∂“±–º—ã—Å—Ç–∞–Ω –±–æ—Å–∞—Ç–∞—Å—ã–∑ üëî</li>
            </ul>
            <p style="font-size: 1em;">”ò—Ä —Ç–∞“£–¥–∞—É—ã“£—ã–∑ ‚Äî —Ç–∞“ì–¥—ã—Ä–¥—ã ”©–∑–≥–µ—Ä—Ç–µ—Ç—ñ–Ω —à–µ—à—ñ–º.</p>
        </div>
        
        <h4 style="color: #e74c3c; font-size: 1.5em;">üìÜ –ú–ê“ö–°–ê–¢:</h4>
        <p style="font-size: 1.2em; font-weight: bold; color: #f1c40f;">
            30 –∫“Ø–Ω —ñ—à—ñ–Ω–¥–µ –∫–æ–º–ø–∞–Ω–∏—è“£—ã–∑–¥—ã —Å–∞“õ—Ç–∞–ø, –Ω–∞“ì—ã–∑ –±–∏–∑–Ω–µ—Å-–º–∞–≥–Ω–∞—Ç –∞—Ç–∞–Ω—É.
        </p>
        
        <p style="font-size: 1em; color: salmon; font-weight: bold;">
            ‚ö†Ô∏è –ï—Å–∫–µ—Ä—Ç—É: –ö–∞–ø–∏—Ç–∞–ª—ã“£—ã–∑ –Ω”©–ª–¥–µ–Ω —Ç”©–º–µ–Ω —Ç“Ø—Å—Å–µ ‚Äî –æ–π—ã–Ω –∞—è“õ—Ç–∞–ª–∞–¥—ã.
        </p>

        <p style="margin-top: 20px; font-style: italic;">
            –¢–µ–∫ –µ“£ —à—ã–¥–∞–º–¥—ã, –ª–æ–≥–∏–∫–∞–ª—ã“õ –∂”ô–Ω–µ —Ç”ô—É–µ–∫–µ–ª—à—ñ–ª –æ–π—ã–Ω—à—ã–ª–∞—Ä “ì–∞–Ω–∞ —Å–æ“£—ã–Ω–∞ –∂–µ—Ç–µ –∞–ª–∞–¥—ã.
        </p>

        <h4 style="color: #2ecc71; font-size: 1.5em;">üïπÔ∏è –ï–†–ï–ñ–ï–õ–ï–†:</h4>
        <ul style="list-style-type: '‚úÖ '; text-align: left; padding-left: 40px; margin: 15px 0;">
            <li>”ò—Ä –∫“Ø–Ω ‚Äî –∂–∞“£–∞ –∂–∞“ì–¥–∞–π –º–µ–Ω —Ç–∞“£–¥–∞—É.</li>
            <li>–¢–∞“£–¥–∞—É—ã“£—ã–∑ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä –µ—Ç–µ–¥—ñ.</li>
            <li>–î“±—Ä—ã—Å —à–µ—à—ñ–º ‚Äî –ø–∞–π–¥–∞. “ö–∞—Ç–µ —à–µ—à—ñ–º ‚Äî —à—ã“ì—ã–Ω.</li>
            <li>30 –∫“Ø–Ω–Ω–µ–Ω –∞–º–∞–Ω ”©—Ç—Å–µ“£—ñ–∑ ‚Äî —Å—ñ–∑ –∂–µ“£—ñ–º–ø–∞–∑!</li>
        </ul>
        
        <p style="font-size: 1.1em; font-weight: bold; margin-top: 30px;">
            –¢–∞“£–¥–∞—É—ã“£—ã–∑–¥—ã –æ–π–ª–∞–Ω—ã–ø –∂–∞—Å–∞“£—ã–∑... –ú–∞–≥–Ω–∞—Ç –±–æ–ª–∞—Å—ã–∑ –±–∞, ”ô–ª–¥–µ –±–∞–Ω–∫—Ä–æ—Ç –ø–∞?
        </p>
    </div>
</div>

<!-- 1 –ö“Æ–ù -->
  <div class="day-block open" id="day1">
    <h3 style="color: #FFD700; border-bottom: 2px solid #FFD700; padding-bottom: 10px;">
        üöÄ 1-–ö“Æ–ù: –ë–∏–∑–Ω–µ—Å –ë–∞—Å—Ç–∞—É –∂”ô–Ω–µ –î–∏–∑–∞–π–Ω –¢–∞“£–¥–∞—É
    </h3>
    <p style="margin-bottom: 15px;">
        <strong>–°”ô–ª–µ–º, –±–æ–ª–∞—à–∞“õ –º–∞–≥–Ω–∞—Ç!</strong> –ë“Ø–≥—ñ–Ω —Å—ñ–∑–¥—ñ“£ –±–∏–∑–Ω–µ—Å –∏–º–ø–µ—Ä–∏—è“£—ã–∑–¥—ã“£ –∞–ª“ì–∞—à“õ—ã –∫“Ø–Ω—ñ. “Æ–ª–∫–µ–Ω –∂–µ—Ç—ñ—Å—Ç—ñ–∫—Ç–µ—Ä–≥–µ –∂–µ—Ç—É –∂–æ–ª—ã–Ω–¥–∞“ì—ã –±—ñ—Ä—ñ–Ω—à—ñ “õ–∞–¥–∞–º–¥—ã –±–∞—Å–∞–π—ã“õ!
    </p>
    <blockquote style="border-left: 4px solid #00BFFF; padding-left: 15px; margin: 15px 0; font-style: italic; background-color: rgba(0, 191, 255, 0.1);">
        "–¢”ô—É–µ–∫–µ–ª –µ—Ç–ø–µ—É ‚Äì –µ“£ “Ø–ª–∫–µ–Ω —Ç”ô—É–µ–∫–µ–ª. ”ò—Ä–±—ñ—Ä “±–ª—ã —ñ—Å –∫—ñ—à–∫–µ–Ω—Ç–∞–π –∏–¥–µ—è–¥–∞–Ω –±–∞—Å—Ç–∞–ª–∞–¥—ã."
    </blockquote>
    
    <h4 style="color: #00BFFF; margin-top: 25px;">üé® –î–∏–∑–∞–π–Ω –¢–∞“£–¥–∞“£—ã–∑ (–®—ã“ì—ã–Ω–¥–∞—Ä):</h4>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
        
        <div class="design-option" style="text-align: center; padding: 10px; border: 1px solid #444; border-radius: 8px; background-color: #222;">
            <img src="sre.jpg" alt="–ú–∏–Ω–∏–º–∞–ª–∏–∑–º" style="width: 100%; height: auto; max-height: 120px; border-radius: 5px; margin-bottom: 10px; object-fit: cover;">
            <button class="option-btn" data-cost="-3000" data-name="–ú–∏–Ω–∏–º–∞–ª–∏–∑–º" data-day="1"
                    style="width: 100%; padding: 10px; background-color: #69f0ae; color: black; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;">
                –ú–∏–Ω–∏–º–∞–ª–∏–∑–º (-3 000 ‚Ç∏)
            </button>
        </div>
        
        <div class="design-option" style="text-align: center; padding: 10px; border: 1px solid #444; border-radius: 8px; background-color: #222;">
            <img src="min.jpg" alt="–û—Ä—Ç–∞—à–∞ (–°—Ç–∞–Ω–¥–∞—Ä—Ç)" style="width: 100%; height: auto; max-height: 120px; border-radius: 5px; margin-bottom: 10px; object-fit: cover;">
            <button class="option-btn" data-cost="-6000" data-name="–û—Ä—Ç–∞—à–∞ (–°—Ç–∞–Ω–¥–∞—Ä—Ç)" data-day="1"
                    style="width: 100%; padding: 10px; background-color: #ffeb3b; color: black; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;">
                –û—Ä—Ç–∞—à–∞ (–°—Ç–∞–Ω–¥–∞—Ä—Ç) (-6 000 ‚Ç∏)
            </button>
        </div>
        
        <div class="design-option" style="text-align: center; padding: 10px; border: 1px solid #444; border-radius: 8px; background-color: #222;">
            <img src="lux.png" alt="–õ—é–∫—Å (Premium)" style="width: 100%; height: auto; max-height: 120px; border-radius: 5px; margin-bottom: 10px; object-fit: cover;">
            <button class="option-btn" data-cost="-10000" data-name="–õ—é–∫—Å (Premium)" data-day="1"
                    style="width: 100%; padding: 10px; background-color: #ff5252; color: black; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;">
                –õ—é–∫—Å (Premium) (-10 000 ‚Ç∏)
            </button>
        </div>

    </div>
    
    <p id="result1" class="result" style="margin-top: 20px; font-weight: bold;"></p>
   
</div>


    <!-- 2 –ö“Æ–ù (–±—É–¥–µ—Ç —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ–∑–∂–µ) -->
    <div class="day-block locked" id="day2">
      <h3>2-–ö“Æ–ù üîí</h3>
      <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω –∞—à—ã–ª“ì–∞–Ω –∂–æ“õ...</p>
    </div>

   <div class="day-block locked" id="day3">
     <h3>3-–ö“Æ–ù üîí</h3>
      <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω –∞—à—ã–ª“ì–∞–Ω –∂–æ“õ...</p>
    </div>

<div class="day-block locked" id="day4">
      <h3 id="day4Title">4-–ö“Æ–ù üîí</h3>
        <div id="day4Content">
        <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω –∞—à—ã–ª“ì–∞–Ω –∂–æ“õ...</p>
      </div>
    </div>

    <div class="day-block locked" id="day5">
      <h2>5-–ö“Æ–ù üîí</h2>
      <p>–ë“±–ª –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω. 4-–∫“Ø–Ω–¥—ñ —Ç–æ–ª—ã“õ –∞—è“õ—Ç–∞“£—ã–∑.</p>
    </div>

<div class="day-block locked" id="day6">
    <h3 id="day6Title">6-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
</div>

<div class="day-block locked" id="day7">
    <h3 id="day7Title">7-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
</div>

<div class="day-block locked" id="day8">
 <h3 id="day8Title">8-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>


<div class="day-block locked" id="day9">
 <h3 id="day9Title">9-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>


<div class="day-block locked" id="day10">
 <h3 id="day10Title">10-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>

<div class="day-block locked" id="day11">
 <h3 id="day11Title">11-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>



<div class="day-block locked" id="day12">
 <h3 id="day12Title">12-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>


<div class="day-block locked" id="day13">
 <h3 id="day13Title">13-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>

<div class="day-block locked" id="day14">
 <h3 id="day14Title">14-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day15">
 <h3 id="day15Title">15-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day16">
 <h3 id="day16Title">16-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day17">
 <h3 id="day17Title">17-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>

<div class="day-block locked" id="day18">
 <h3 id="day18Title">18-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day19">
 <h3 id="day19Title">19-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>


<div class="day-block locked" id="day20">
 <h3 id="day20Title">20-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>

<div class="day-block locked" id="day21">
 <h3 id="day21Title">21-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day22">
 <h3 id="day22Title">22-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day23">
 <h3 id="day23Title">23-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>


<div class="day-block locked" id="day24">
 <h3 id="day24Title">24-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day25">
 <h3 id="day25Title">25-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day26">
 <h3 id="day26Title">26-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day27">
 <h3 id="day27Title">27-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>


<div class="day-block locked" id="day28">
 <h3 id="day28Title">28-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day29">
 <h3 id="day29Title">29-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>
<div class="day-block locked" id="day30">
 <h3 id="day30Title">30-–ö“Æ–ù üîí</h3>
    <p>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω ”ô–ª—ñ –∞—à—ã–ª–º–∞“ì–∞–Ω.</p>
    </div>





</div>

  </main>



  



<script>




document.addEventListener("DOMContentLoaded", () => {
  const leftSidebar = document.querySelector(".left-sidebar");
  const rightSidebar = document.querySelector(".right-sidebar");

  const handleLeft = document.createElement("div");
  const handleRight = document.createElement("div");

  handleLeft.classList.add("sidebar-toggle", "handle-left");
  handleRight.classList.add("sidebar-toggle", "handle-right");

  handleLeft.textContent = "‚óÄ";
  handleRight.textContent = "‚ñ∂";

  leftSidebar.appendChild(handleLeft);
  rightSidebar.appendChild(handleRight);

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
  handleLeft.addEventListener("click", () => {
    leftSidebar.classList.toggle("collapsed");
    handleLeft.textContent = leftSidebar.classList.contains("collapsed") ? "‚ñ∂" : "‚óÄ";
  });

  handleRight.addEventListener("click", () => {
    rightSidebar.classList.toggle("collapsed");
    handleRight.textContent = rightSidebar.classList.contains("collapsed") ? "‚óÄ" : "‚ñ∂";
  });
  function enableSwipe(sidebar, toggleBtn, direction) {
  let startX = 0;
  let isDragging = false;

  function onStart(e) {
    isDragging = true;
    startX = e.touches ? e.touches[0].clientX : e.clientX;
  }

  function onMove(e) {
    if (!isDragging) return;
    const currentX = e.touches ? e.touches[0].clientX : e.clientX;
    const diff = currentX - startX;

    if (direction === "left" && diff < -50) {
      sidebar.classList.add("collapsed");
      toggleBtn.textContent = "‚ñ∂";
      isDragging = false;
    } else if (direction === "left" && diff > 50) {
      sidebar.classList.remove("collapsed");
      toggleBtn.textContent = "‚óÄ";
      isDragging = false;
    } else if (direction === "right" && diff > 50) {
      sidebar.classList.add("collapsed");
      toggleBtn.textContent = "‚óÄ";
      isDragging = false;
    } else if (direction === "right" && diff < -50) {
      sidebar.classList.remove("collapsed");
      toggleBtn.textContent = "‚ñ∂";
      isDragging = false;
    }
  }

  function onEnd() { isDragging = false; }

  sidebar.addEventListener("mousedown", onStart);
  sidebar.addEventListener("mousemove", onMove);
  sidebar.addEventListener("mouseup", onEnd);
  sidebar.addEventListener("mouseleave", onEnd);

  sidebar.addEventListener("touchstart", onStart);
  sidebar.addEventListener("touchmove", onMove);
  sidebar.addEventListener("touchend", onEnd);
}

// –í–∫–ª—é—á–∞–µ–º —Å–≤–∞–π–ø
enableSwipe(leftSidebar, handleLeft, "left");
enableSwipe(rightSidebar, handleRight, "right");

});


    // === –ù–ê–°–¢–†–û–ô–ö–ê –ñ”ò–ù–ï –ë–ê–°–¢–ê–£ ===
    // 5 –∫“Ø–Ω–¥—ñ –µ—Å–µ–ø—Ç–µ—É “Ø—à—ñ–Ω
    let username = localStorage.getItem("username") || prompt("–ê—Ç—ã“£—ã–∑–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:");
    localStorage.setItem("username", username);
    let capital = parseInt(localStorage.getItem("capital")) || 100000;
    let currentDay = parseInt(localStorage.getItem("currentDay")) || 1;
let nextDayRevenueEffect = parseInt(localStorage.getItem("revenueEffect")) || 0; // 6-–∫“Ø–Ω–Ω–µ–Ω –±–∞—Å—Ç–∞–ø ”ô—Å–µ—Ä –µ—Ç–µ–¥—ñ



    document.getElementById("playerName").textContent = `${username} üíº`;
    updateCapitalDisplay(capital);
    openCurrentDay(currentDay);

    // === –§–£–ù–ö–¶–ò–ò ===
    function updateCapitalDisplay(amount) {
      document.getElementById("capitalDisplay").textContent = `üí∞ –ö–∞–ø–∏—Ç–∞–ª: ${amount.toLocaleString()} ‚Ç∏`;
    }

    function openCurrentDay(day) {
      
      for (let i = 1; i <= 30; i++) { 
        const block = document.getElementById(`day${i}`);
        if (!block) continue;
        
        if (i < day) block.classList.add("locked");
        else if (i === day) {
          block.classList.remove("locked");
          block.classList.add("open");
          
          // –ê“ì—ã–º–¥–∞“ì—ã –∫“Ø–Ω–¥—ñ —ñ—Å–∫–µ “õ–æ—Å—É
          if (day === 2) setupDay2();
          if (day === 3) setupDay3();
          if (day === 4) setupDay4(); // üëà –ï–Ω–¥—ñ –±“±–ª –∂–µ—Ä–¥–µ 4-–∫“Ø–Ω —ñ—Å–∫–µ “õ–æ—Å—ã–ª–∞–¥—ã
          if (day === 5) setupDay5(); 
if (day === 6) setupDay6(); 

if (day === 7) setupDay7(); 
if (day === 8) setupDay8(); 
if (day === 9) setupDay9(); 
if (day === 10) setupDay10(); 
if (day === 11) setupDay11(); 
if (day === 12) setupDay12(); 
if (day === 13) setupDay13(); 
if (day === 14) setupDay14(); 
if (day === 15) setupDay15(); 
if (day === 16) setupDay16(); 
if (day === 17) setupDay17(); 
if (day === 18) setupDay18(); 
if (day === 19) setupDay19(); 
if (day === 20) setupDay20(); 
if (day === 21) setupDay21(); 
if (day === 22) setupDay22(); 
if (day === 23) setupDay23(); 
if (day === 24) setupDay24(); 
if (day === 25) setupDay25(); 
if (day === 26) setupDay26(); 
if (day === 27) setupDay27(); 
if (day === 28) setupDay28(); 
if (day === 29) setupDay29(); 
if (day === 30) setupDay30(); 


        } else block.classList.add("locked");
      }
    }

    function unlockNextDay(nextDay) {
      if (nextDay > currentDay) {
        currentDay = nextDay;
        localStorage.setItem("currentDay", currentDay);
      }
      
      const nextBlock = document.getElementById(`day${nextDay}`);
      if (nextBlock) {
        nextBlock.classList.remove("locked");
        nextBlock.classList.add("open");
        
        // –ö“Ø–Ω–Ω—ñ“£ –∫–æ–Ω—Ç–µ–Ω—Ç—ñ–Ω/–ª–æ–≥–∏–∫–∞—Å—ã–Ω —ñ—Å–∫–µ “õ–æ—Å—É
        if (nextDay === 2) setupDay2();
        if (nextDay === 3) setupDay3();
        if (nextDay === 4) {
             setupDay4(); // üëà Day 4 –ª–æ–≥–∏–∫–∞—Å—ã–Ω –æ—Ä—ã–Ω–¥–∞—É
             // Day 4 HTML-—ñ–Ω–¥–µ h3-–∫–µ day4Title ID-—Å—ñ –±–∞—Ä
             const dayTitle = document.getElementById('day4Title');
             if (dayTitle) dayTitle.textContent = `${nextDay}-–ö“Æ–ù –∞—à—ã–ª–¥—ã ‚úÖ`;
        }
        if (nextDay === 5) {
             setupDay5();
             // Day 5 HTML-—ñ–Ω–¥–µ h2 —Ç–µ–≥—ñ –±–∞—Ä
             const dayTitle = nextBlock.querySelector("h2");
             if (dayTitle) dayTitle.textContent = `${nextDay}-–ö“Æ–ù –∞—à—ã–ª–¥—ã ‚úÖ`;
        }
      }
    }
    
    // === –û–ë–†–ê–ë–û–¢–ß–ò–ö –ö–ù–û–ü–û–ö –î–õ–Ø 1 –ò 2 –î–ù–Ø ===
    // 2-–∫“Ø–Ω–Ω—ñ“£ –æ–ø—Ü–∏—è–ª–∞—Ä—ã–Ω –¥“±—Ä—ã—Å ”©“£–¥–µ—É “Ø—à—ñ–Ω —Ç–æ–ª—ã“õ –∂–∞“£–∞—Ä—Ç—ã–ª“ì–∞–Ω —Ñ—É–Ω–∫—Ü–∏—è
    function addOptionListeners() {
      // –ï—Å–∫—ñ —Ç—ã“£–¥–∞—É—à—ã–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
      document.querySelectorAll(".option-btn").forEach(btn => {
        const newBtn = btn.cloneNode(true);
        btn.parentNode.replaceChild(newBtn, btn);
      });

      document.querySelectorAll(".option-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          const day = parseInt(btn.dataset.day);
          const cost = parseInt(btn.dataset.cost);
          const name = btn.dataset.name;

          capital += cost;
          localStorage.setItem("capital", capital);
          updateCapitalDisplay(capital);

          if (capital <= 0) {
            alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return;
          }
          
          if (day === 1) {
              // 1-–∫“Ø–Ω –ª–æ–≥–∏–∫–∞—Å—ã
              const resultId = `result${day}`;
              document.getElementById(resultId).textContent =
                `–°—ñ–∑ "${name}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. ”®–∑–≥–µ—Ä—ñ—Å: ${cost} ‚Ç∏. “ö–∞–ª“ì–∞–Ω –∫–∞–ø–∏—Ç–∞–ª: ${capital} ‚Ç∏.`;
             unlockNextDay(day + 1);
          }
          if (day === 2) {
              // 2-–∫“Ø–Ω –ª–æ–≥–∏–∫–∞—Å—ã
              let resultElement;
              if (btn.closest('div').querySelector('#assistantResult')) {
                  resultElement = document.getElementById('assistantResult');
              } else if (btn.closest('div').querySelector('#adResult')) {
                  resultElement = document.getElementById('adResult');
              }
              if (resultElement) {
                   resultElement.textContent = `–¢–∞“£–¥–∞—É: ${name}. –®—ã“ì—ã–Ω: ${cost} ‚Ç∏.`;
              }
          }
        });
      });
    }
    addOptionListeners(); 

  // === –î–ï–ù–¨ 2 –õ–û–ì–ò–ö–ê (”®—Ç—É–¥—ñ –ñ”©–Ω–¥–µ—É) ===
function setupDay2() {
    const day2 = document.getElementById("day2");
    
    // 1. –ë–∞—Ä–ª—ã“õ –æ–ø—Ü–∏—è–ª–∞—Ä —Ç–∞“£–¥–∞–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É “Ø—à—ñ–Ω “õ–∞–∂–µ—Ç—Ç—ñ –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä
    let assistantSelected = false;
    let adSelected = false;

    // –ë–∞—Ä–ª—ã“õ 3 —Ç–∞–ø—Å—ã—Ä–º–∞ –æ—Ä—ã–Ω–¥–∞–ª“ì–∞–Ω–¥–∞ finishDay2 –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω —ñ—Å–∫–µ “õ–æ—Å–∞—Ç—ã–Ω —Ñ—É–Ω–∫—Ü–∏—è
    function checkAllCompleted() {
        // –¢–µ—Å—Ç—Ç—ñ“£ –¥“±—Ä—ã—Å –∞—è“õ—Ç–∞–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
        const mathResultText = document.getElementById("mathResult").textContent;
        const mathPassed = mathResultText.includes("‚úÖ –î“±—Ä—ã—Å!");

        if (assistantSelected && adSelected && mathPassed) {
            document.getElementById("finishDay2").disabled = false;
            document.getElementById("finishDay2").textContent = "üöÄ 3-–ö“Æ–ù–ì–ï ”®–¢–£";
        }
    }

    // “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –±–∞—Ç—ã—Ä–º–∞–Ω—ã “õ–æ—Å–∞–º—ã–∑
    const finalButtonHtml = `
        <button id="finishDay2" disabled 
                style="padding: 15px 30px; font-weight: bold; background-color: #4CAF50; color: white; border: none; border-radius: 8px; margin-top: 30px; cursor: pointer;">
            üèÅ 2-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 3-–ö“Æ–ù–ì–ï ”®–¢–£
        </button>
    `;

    day2.innerHTML = `
        <h3 style="color: #FFD700; border-bottom: 2px solid #FFD700; padding-bottom: 10px;">üè¢ 2-–ö“Æ–ù: –ö–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ –ù–µ–≥—ñ–∑—ñ–Ω “ö–∞–ª–∞—É üõ†Ô∏è</h3>
        <p style="margin-bottom: 20px;"><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –±–æ–ª–∞—à–∞“õ –±–∞—Å—à—ã!</strong> –û—Ñ–∏—Å –¥–∞–π—ã–Ω. –ï–Ω–¥—ñ —ñ—Å–∫–µ –∫—ñ—Ä—ñ—Å—É–≥–µ –∂”ô–Ω–µ –∫–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ –Ω–µ–≥—ñ–∑—ñ–Ω “õ–∞–ª–∞—É“ì–∞ —É–∞“õ—ã—Ç –∫–µ–ª–¥—ñ!</p>
        <blockquote style="border-left: 4px solid #00BFFF; padding-left: 15px; margin: 15px 0; font-style: italic; background-color: rgba(0, 191, 255, 0.1);">
            "–ï–≥–µ—Ä —Å—ñ–∑ —Ç–µ–∫ –∞“õ—à–∞ “Ø—à—ñ–Ω –∂“±–º—ã—Å –∂–∞—Å–∞—Å–∞“£—ã–∑, —Å—ñ–∑ –æ–ª–∞—Ä–¥—ã –µ—à“õ–∞—à–∞–Ω —Ç–∞–±–∞ –∞–ª–º–∞–π—Å—ã–∑, –±—ñ—Ä–∞“õ –µ–≥–µ—Ä —Å—ñ–∑ ”©–∑ –±–∏–∑–Ω–µ—Å—ñ“£—ñ–∑–¥—ñ –∂–∞“õ—Å—ã –∫”©—Ä—Å–µ“£—ñ–∑, —Ç–∞–±—ã—Å ”©–∑—ñ –∫–µ–ª–µ–¥—ñ."
        </blockquote>
        
        <div style="background-color: rgba(30, 30, 30, 0.8); padding: 20px; border-radius: 10px; margin-bottom: 25px;">
            <h4 style="color: #00BFFF;">1Ô∏è‚É£ –ë—ñ—Ä—ñ–Ω—à—ñ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—Ç—ñ —Ç–∞“£–¥–∞“£—ã–∑:</h4>
            <div style="display: flex; gap: 15px;">
                <button class="option-btn" data-cost="-5000" data-name="–ë–∞—Å—Ç–∞—É—à—ã –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç" data-day="2-1" style="padding: 12px 20px; border: 1px solid #00BFFF; background-color: #222; color: white; border-radius: 5px;">
                    üéì –ë–∞—Å—Ç–∞—É—à—ã –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç (-5 000 ‚Ç∏)
                </button>
                <button class="option-btn" data-cost="-8000" data-name="–û—Ä—Ç–∞ –ë—É—ã–Ω –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç" data-day="2-1" style="padding: 12px 20px; border: 1px solid #FFD700; background-color: #222; color: white; border-radius: 5px;">
                    ‚≠ê –û—Ä—Ç–∞ –ë—É—ã–Ω –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç (-8 000 ‚Ç∏)
                </button>
            </div>
            <p id="assistantResult" class="result" style="margin-top: 10px; font-weight: bold;"></p>
        </div>

        <div style="background-color: rgba(30, 30, 30, 0.8); padding: 20px; border-radius: 10px; margin-bottom: 25px;">
            <h4 style="color: #00BFFF;">2Ô∏è‚É£ –ê–ª“ì–∞—à“õ—ã –†–µ–∫–ª–∞–º–∞–ª—ã“õ –ê–∫—Ü–∏—è:</h4>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
            
                <div style="text-align: center;">
                    <button class="option-btn" data-cost="-2000" data-name="–ü–∞—Ä–∞“õ—à–∞–ª–∞—Ä –¢–∞—Ä–∞—Ç—É" data-day="2-2" style="width: 100%; padding: 10px; margin-bottom: 5px; background-color: #69f0ae; color: black; border: none; border-radius: 5px;">
                        üì∞ –ü–∞—Ä–∞“õ—à–∞–ª–∞—Ä –¢–∞—Ä–∞—Ç—É (-2 000 ‚Ç∏)
                    </button>
                    <img src="buk.png" alt="–ü–∞—Ä–∞“õ—à–∞–ª–∞—Ä" style="width: 100%; height: auto; max-width: 100px; border-radius: 5px; margin-top: 5px;">
                </div>
                
                <div style="text-align: center;">
                    <button class="option-btn" data-cost="-4000" data-name="–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–ë–∞–Ω–Ω–µ—Ä–ª–µ—Ä" data-day="2-2" style="width: 100%; padding: 10px; margin-bottom: 5px; background-color: #ffeb3b; color: black; border: none; border-radius: 5px;">
                        üåê –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–ë–∞–Ω–Ω–µ—Ä–ª–µ—Ä (-4 000 ‚Ç∏)
                    </button>
                    <img src="banner.png" alt="–ë–∞–Ω–Ω–µ—Ä–ª–µ—Ä" style="width: 100%; height: auto; max-width: 100px; border-radius: 5px; margin-top: 5px;">
                </div>
                
                <div style="text-align: center;">
                    <button class="option-btn" data-cost="-6000" data-name="”ò–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –∂–µ–ª—ñ–≥–µ –∂–∞—Ä–Ω–∞–º–∞ (–ë–ª–æ–≥–µ—Ä)" data-day="2-2" style="width: 100%; padding: 10px; margin-bottom: 5px; background-color: #ff9800; color: black; border: none; border-radius: 5px;">
                        üì± ”ò–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –∂–µ–ª—ñ–≥–µ –∂–∞—Ä–Ω–∞–º–∞ (-6 000 ‚Ç∏)
                    </button>
                    <img src="soz.png" alt="”ò–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –∂–µ–ª—ñ–≥–µ –∂–∞—Ä–Ω–∞–º–∞" style="width: 100%; height: auto; max-width: 100px; border-radius: 5px; margin-top: 5px;">
                </div>

            </div>
            <p id="adResult" class="result" style="margin-top: 15px; font-weight: bold;"></p>
        </div>

        <div style="background-color: rgba(30, 30, 30, 0.8); padding: 20px; border-radius: 10px;">
            <h4 style="color: #00BFFF;">3Ô∏è‚É£ “ö–∞—Ä–∂—ã–ª—ã“õ –°–∞—É–∞—Ç—Ç—ã–ª—ã“õ –¢–µ—Å—Ç—ñ üí°</h4>
            <p style="margin-bottom: 15px;">–ö–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ –±–∞—Å—Ç–∞–ø“õ—ã –∫–∞–ø–∏—Ç–∞–ª—ã 100 000 ‚Ç∏. 1-–∫“Ø–Ω—ñ -6 000 ‚Ç∏ –¥–∏–∑–∞–π–Ω“ì–∞, 2-–∫“Ø–Ω—ñ -5 000 ‚Ç∏ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∫–µ –∂”ô–Ω–µ -2 000 ‚Ç∏ –∂–∞—Ä–Ω–∞–º–∞“ì–∞ –∂“±–º—Å–∞–ª–¥—ã. “ö–∞–∑—ñ—Ä “õ–∞–Ω—à–∞ –∞“õ—à–∞ “õ–∞–ª–¥—ã?</p>
            <input type="number" id="answerInput" placeholder="–ñ–∞—É–∞–ø (–º—ã—Å–∞–ª—ã 87000)" style="padding: 8px; border-radius: 5px; border: 1px solid #444; background-color: #1a1a1a; color: white;">
            <button id="checkAnswerBtn" style="padding: 8px 15px; background-color: #00BFFF; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –¢–µ–∫—Å–µ—Ä—É
            </button>
            <p id="mathResult" class="result" style="margin-top: 10px; font-weight: bold;"></p>
        </div>

        ${finalButtonHtml}
    `;
    
    // 2. –û–ø—Ü–∏—è –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –ª–æ–≥–∏–∫–∞
    day2.querySelectorAll(".option-btn").forEach(btn => {
        btn.addEventListener('click', (event) => {
            const button = event.target;
            // –ö–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—ã–ª–∞—Ç—ã–Ω/–∞–∑–∞—è—Ç—ã–Ω —Å–æ–º–∞–Ω—ã –∞–ª—É (cost —Ç–µ—Ä—ñ—Å —Å–∞–Ω)
            const cost = parseInt(button.getAttribute('data-cost'));
            const dataDay = button.getAttribute('data-day');
            const optionName = button.getAttribute('data-name');
            const parentBlockId = dataDay === '2-1' ? 'assistantResult' : 'adResult';
            
            if (button.disabled) return; 

            // üéµ –î–´–ë–´–° –®–ê“ö–´–†–£
            if (typeof playMoneySound === 'function') {
                playMoneySound(cost); 
            }
            
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += cost; 
            localStorage.setItem("capital", capital);
            
            // UI –∂–∞“£–∞—Ä—Ç—É (–ë“±–ª –∂–µ—Ä–¥–µ 'd4-capital-display' –æ—Ä–Ω—ã–Ω–∞ 'd2-capital-display' –Ω–µ–º–µ—Å–µ –∂–∞–ª–ø—ã 'capital-display' ID-—Å—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑)
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }

            // –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            document.getElementById(parentBlockId).innerHTML = `
                <span style="color: lightgreen;">‚úÖ –¢–∞“£–¥–∞—É –∂–∞—Å–∞–ª–¥—ã: "${optionName}". –®—ã“ì—ã–Ω: ${cost.toLocaleString()} ‚Ç∏.</span>
            `;

            // –ë–∞—Å“õ–∞ –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            day2.querySelectorAll(`[data-day="${dataDay}"]`).forEach(b => b.disabled = true);
            
            // –°–µ–∫—Ü–∏—è–Ω—ã“£ –∞—è“õ—Ç–∞–ª—É—ã–Ω –±–µ–ª–≥—ñ–ª–µ—É
            if (dataDay === '2-1') {
                assistantSelected = true;
            } else if (dataDay === '2-2') {
                adSelected = true;
            }
            
            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            if (capital <= 0) {
                 alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
                 localStorage.clear();
                 location.reload();
            }
            
            // –ï—Å–∫–µ—Ä—Ç—É: checkAllCompleted-—Ç—ñ ”ô–∑—ñ—Ä–≥–µ —à–∞“õ—ã—Ä–º–∞–π–º—ã–∑, –æ–ª —Ç–µ–∫ —Ç–µ—Å—Ç—Ç–µ–Ω –∫–µ–π—ñ–Ω —ñ—Å–∫–µ “õ–æ—Å—ã–ª–∞–¥—ã.
        });
    });

    // 3. “ö–∞—Ä–∂—ã–ª—ã“õ —Å–∞—É–∞—Ç—Ç—ã–ª—ã“õ —Ç–µ—Å—Ç—ñ –ª–æ–≥–∏–∫–∞—Å—ã
    document.getElementById("checkAnswerBtn").addEventListener("click", () => {
        const answer = parseInt(document.getElementById("answerInput").value);
        // –¢–µ—Å—Ç –ª–æ–≥–∏–∫–∞—Å—ã–Ω–¥–∞“ì—ã “õ–∞–∂–µ—Ç—Ç—ñ —à—ã“ì—ã–Ω–¥–∞—Ä: -6000 (1-–∫“Ø–Ω), -5000 (–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç, –µ“£ –∞—Ä–∑–∞–Ω), -2000 (–†–µ–∫–ª–∞–º–∞, –µ“£ –∞—Ä–∑–∞–Ω).
        // –î“±—Ä—ã—Å –∂–∞—É–∞–ø 100000 - 6000 - 5000 - 2000 = 87000.
        // –ë“±–ª –µ—Å–µ–ø—Ç–µ—É–¥–µ–≥—ñ “õ–∞—Ç–µ–ª—ñ–∫: –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∂”ô–Ω–µ –†–µ–∫–ª–∞–º–∞ —à—ã“ì—ã–Ω—ã –µ“£ –∞—Ä–∑–∞–Ω—ã–º–µ–Ω –µ—Å–µ–ø—Ç–µ–ª–≥–µ–Ω. –ë—ñ—Ä–∞“õ –æ–π—ã–Ω—à—ã –±–∞—Å“õ–∞–Ω—ã —Ç–∞“£–¥–∞—Å–∞ –¥–∞, —Ç–µ—Å—Ç 87000-–¥—ã —Ç–∞–ª–∞–ø –µ—Ç–µ–¥—ñ.
        // –ë“±–ª –º”ô—Å–µ–ª–µ–Ω—ñ —à–µ—à—É “Ø—à—ñ–Ω, 87000-–¥—ã –¥“±—Ä—ã—Å –¥–µ–ø “õ–∞–±—ã–ª–¥–∞–π–º—ã–∑.
        const correct = 87000; 
        const result = document.getElementById("mathResult");
        const checkBtn = document.getElementById("checkAnswerBtn");

        if (checkBtn.disabled) return;

        if (answer === correct) {
            
            // üéµ –î–´–ë–´–° –®–ê“ö–´–†–£ (–ü–∞–π–¥–∞)
            if (typeof playMoneySound === 'function') {
                playMoneySound(2000); 
            }
            
            capital += 2000;
            localStorage.setItem("capital", capital);
            
            // UI –∂–∞“£–∞—Ä—Ç—É
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }

            result.innerHTML = `
                <span style="color: lightgreen; font-size: 1.1em;">‚úÖ –î“±—Ä—ã—Å! –°—ñ–∑ +2,000 ‚Ç∏ –±–æ–Ω—É—Å –∞–ª–¥—ã“£—ã–∑!</span>
            `;
            
            // –¢–µ—Å—Ç—Ç—ñ –∞—è“õ—Ç–∞—É –∂”ô–Ω–µ –∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥—ñ –∞—à—É“ì–∞ –¥–∞–π—ã–Ω–¥–∞—É
            checkBtn.disabled = true;
            document.getElementById("answerInput").disabled = true;
            
            // üõë –¢–ï–ö–°–ï–†–£: –ë–∞—Ä–ª—ã“õ –æ–ø—Ü–∏—è —Ç–∞“£–¥–∞–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω “ì–∞–Ω–∞ ”©—Ç—É–≥–µ —Ä“±“õ—Å–∞—Ç –±–µ—Ä—É
            checkAllCompleted();
            
        } else {
            // üéµ –î–´–ë–´–° –®–ê“ö–´–†–£ (–®—ã“ì—ã–Ω)
            if (typeof playMoneySound === 'function') {
                playMoneySound(-500); 
            }
            
            capital -= 500;
            localStorage.setItem("capital", capital);
            
            // UI –∂–∞“£–∞—Ä—Ç—É
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }

            result.innerHTML = `
                <span style="color: salmon;">‚ùå “ö–∞—Ç–µ! **-500 ‚Ç∏** –∞–π—ã–ø–ø“±–ª. “ö–∞–π—Ç–∞ –æ–π–ª–∞–Ω—ã“£—ã–∑.</span>
            `;
            
             // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
             if (capital <= 0) {
                 alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
                 localStorage.clear();
                 location.reload();
             }
        }
    });
    
    // 4. “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –±–∞—Ç—ã—Ä–º–∞–Ω—ã “õ–æ—Å—É (–ë“±–ª –∂–µ—Ä–¥–µ —Å—ñ–∑–¥—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –º”ô—Å–µ–ª–µ“£—ñ–∑ –±–æ–ª–¥—ã)
    document.getElementById("finishDay2").addEventListener("click", () => {
        // –ë–∞—Ç—ã—Ä–º–∞ —ñ—Å–∫–µ “õ–æ—Å—ã–ª“ì–∞–Ω –±–æ–ª—Å–∞ “ì–∞–Ω–∞ –∂“±–º—ã—Å —ñ—Å—Ç–µ–π–¥—ñ
        if (document.getElementById("finishDay2").disabled) return;
        
        // 3-–∫“Ø–Ω–¥—ñ –∞—à—É –∂”ô–Ω–µ –±–µ—Ç—Ç—ñ –∂–∞“£–∞—Ä—Ç—É
        if (typeof unlockNextDay === 'function') {
            unlockNextDay(3);
        } else {
            localStorage.setItem("currentDay", 3);
        }
        
        // –ë–∞—Ç—ã—Ä–º–∞–Ω—ã “õ–∞–π—Ç–∞ ”©—à—ñ—Ä—É (“õ–∞–π—Ç–∞ –±–∞—Å—É–¥–∞–Ω “õ–æ—Ä“ì–∞—É)
        document.getElementById("finishDay2").disabled = true;
        document.getElementById("finishDay2").textContent = "3-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        
        location.reload();
    });
}

    // === –î–ï–ù–¨ 3 –õ–û–ì–ò–ö–ê (”ò–¥–µ–º—ñ–ª–µ–Ω–≥–µ–Ω) ===
function setupDay3() {
    const day3 = document.getElementById("day3");
    
    // –ë“±–ª –∂–µ—Ä–¥–µ —Ç–µ–∫ 3 —Å“±—Ä–∞“õ—Ç—ã“£ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω —Å–∞“õ—Ç–∞–π—Ç—ã–Ω ”ô–¥—ñ—Å—Ç—ñ “õ–æ–ª–¥–∞–Ω–∞–º—ã–∑
    const correctAnswers = { q1: 10000, q2: 44000, q3: 13800 };
    const userAnswers = {}; // { 1: true/false, 2: true/false, 3: true/false }

    day3.innerHTML = `
        <h3 style="color: #69f0ae; border-bottom: 2px solid #69f0ae; padding-bottom: 10px;">
            üßÆ 3-–ö“Æ–ù: “ö–∞—Ä–∂—ã–ª—ã“õ —à–µ–±–µ—Ä–ª—ñ–∫ (–í–∏–∫—Ç–æ—Ä–∏–Ω–∞) üß†
        </h3>
        <p style="margin-bottom: 20px;">
            –ë–∏–∑–Ω–µ—Å ‚Äì –±“±–ª —Ç–µ–∫ “õ–∞–Ω–∞ –∏–¥–µ—è –µ–º–µ—Å, —Å–æ–Ω—ã–º–µ–Ω –±—ñ—Ä–≥–µ —Å–∞–Ω–¥–∞—Ä ”ô–ª–µ–º—ñ. –ë“Ø–≥—ñ–Ω –±—ñ–∑ —Å—ñ–∑–¥—ñ“£ “õ–∞—Ä–∂—ã–Ω—ã –±–∞—Å“õ–∞—Ä—É “õ–∞–±—ñ–ª–µ—Ç—ñ“£—ñ–∑–¥—ñ —Ç–µ–∫—Å–µ—Ä–µ–º—ñ–∑. ”ò—Ä “õ–∞—Ç–µ –∂–∞—É–∞–ø “Ø—à—ñ–Ω -500 ‚Ç∏ –∞–π—ã–ø–ø“±–ª.
        </p>
        <blockquote style="border-left: 4px solid #FFD700; padding-left: 15px; margin: 15px 0; font-style: italic; background-color: rgba(255, 215, 0, 0.1);">
            "–ï–≥–µ—Ä —Å—ñ–∑ —Å–∞–Ω–¥–∞—Ä–¥—ã –±—ñ–ª—Å–µ“£—ñ–∑, —Å—ñ–∑ –±”ô—Ä—ñ–Ω –±—ñ–ª–µ—Å—ñ–∑."
        </blockquote>
        
        <div class="quiz-card" style="background-color: rgba(30, 30, 30, 0.8); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h4 style="color: #00BFFF;">1. –ü–∞–π–¥–∞–Ω—ã –ï—Å–µ–ø—Ç–µ—É üìà</h4>
            <p>–ö–æ–º–ø–∞–Ω–∏—è 50 000 ‚Ç∏ —Å–æ–º–∞—Å—ã–Ω–¥–∞ —Ç–∞—É–∞—Ä —Å–∞—Ç—Ç—ã. –ü–∞–π–¥–∞ ‚Äì 20%.</p>
            <p style="font-weight: bold; margin-bottom: 10px;">–¢–∞–∑–∞ –ø–∞–π–¥–∞ “õ–∞–Ω—à–∞ –±–æ–ª–¥—ã?</p>
            <input type="number" id="q1" placeholder="–ñ–∞—É–∞–ø (–º—ã—Å–∞–ª—ã 10000)" style="padding: 8px; border-radius: 5px; border: 1px solid #444; background-color: #1a1a1a; color: white;">
            <button class="check-btn" data-q="1" style="padding: 8px 15px; background-color: #00BFFF; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –¢–µ–∫—Å–µ—Ä—É
            </button>
            <p id="r1" style="margin-top: 10px; font-weight: bold;"></p>
        </div>

        <div class="quiz-card" style="background-color: rgba(30, 30, 30, 0.8); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h4 style="color: #00BFFF;">2. “ö–∞—Ä—ã–∑–¥—ã –ï—Å–µ–ø—Ç–µ—É (–ñ–∞–π –ü–∞–π—ã–∑) üè¶</h4>
            <p>–ù–µ–≥—ñ–∑–≥—ñ “õ–∞—Ä—ã–∑: 40 000 ‚Ç∏. “Æ—Å—Ç–µ–º–µ: 10% (–∂–∞–ª–ø—ã). 6 –∞–π“ì–∞ –∞–ª—ã–Ω–¥—ã.</p>
            <p style="font-weight: bold; margin-bottom: 10px;">6 –∞–π —Å–æ“£—ã–Ω–¥–∞ –∂–∞–ª–ø—ã “õ–∞–Ω—à–∞ —Ç”©–ª–µ–Ω–µ–¥—ñ?</p>
            <input type="number" id="q2" placeholder="–ñ–∞—É–∞–ø (–º—ã—Å–∞–ª—ã 44000)" style="padding: 8px; border-radius: 5px; border: 1px solid #444; background-color: #1a1a1a; color: white;">
            <button class="check-btn" data-q="2" style="padding: 8px 15px; background-color: #00BFFF; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –¢–µ–∫—Å–µ—Ä—É
            </button>
            <p id="r2" style="margin-top: 10px; font-weight: bold;"></p>
        </div>

        <div class="quiz-card" style="background-color: rgba(30, 30, 30, 0.8); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h4 style="color: #00BFFF;">3. “Æ–Ω–µ–º–¥–µ—É ”ò–ª–µ—É–µ—Ç—ñ ‚¨áÔ∏è</h4>
            <p>–ë–∞—Å—Ç–∞–ø“õ—ã —à—ã“ì—ã–Ω: 15 000 ‚Ç∏. –°—ñ–∑ –æ–Ω—ã 8% –∞–∑–∞–π—Ç—Ç—ã“£—ã–∑.</p>
            <p style="font-weight: bold; margin-bottom: 10px;">–ñ–∞“£–∞ —à—ã“ì—ã–Ω “õ–∞–Ω—à–∞ –±–æ–ª–¥—ã?</p>
            <input type="number" id="q3" placeholder="–ñ–∞—É–∞–ø (–º—ã—Å–∞–ª—ã 13800)" style="padding: 8px; border-radius: 5px; border: 1px solid #444; background-color: #1a1a1a; color: white;">
            <button class="check-btn" data-q="3" style="padding: 8px 15px; background-color: #00BFFF; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –¢–µ–∫—Å–µ—Ä—É
            </button>
            <p id="r3" style="margin-top: 10px; font-weight: bold;"></p>
        </div>

        <button id="finishDay3" disabled style="padding: 15px 30px; font-weight: bold; background-color: #FFD700; color: black; border: none; border-radius: 8px; margin-top: 20px; cursor: not-allowed;">
            üèÅ –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—É –∂”ô–Ω–µ 4-–ö“Æ–ù–ì–ï ”®–¢–£ 
        </button>
        <p id="day3Result" style="margin-top: 15px; font-weight: bold;"></p>
    `;
    
    // === JAVASCRIPT –õ–û–ì–ò–ö–ê–°–´ (–ë–ê–ù–ö–†–û–¢ –ñ”ò–ù–ï ”®–¢–£ –°–ê“ö–¢–ê–õ“í–ê–ù) ===

    // –ë–∞—Ä–ª—ã“õ —Å“±—Ä–∞“õ—Ç–∞—Ä“ì–∞ –∂–∞—É–∞–ø –±–µ—Ä—ñ–ª–≥–µ–Ω—ñ–Ω —Ç–µ–∫—Å–µ—Ä–µ—Ç—ñ–Ω —Ñ—É–Ω–∫—Ü–∏—è
    function checkCompletion() {
        if (userAnswers['1'] !== undefined && userAnswers['2'] !== undefined && userAnswers['3'] !== undefined) {
            document.getElementById("finishDay3").disabled = false;
            document.getElementById("finishDay3").style.cursor = "pointer";
            document.getElementById("finishDay3").style.backgroundColor = "#4CAF50";
            document.getElementById("finishDay3").style.color = "white";
        }
    }

    document.querySelectorAll(".check-btn").forEach(btn => {
        btn.addEventListener("click", () => {
            const q = btn.dataset.q;
            const input = document.getElementById(`q${q}`);
            const val = parseInt(input.value);
            const result = document.getElementById(`r${q}`);
            
            // “ö–∞–π—Ç–∞ –±–∞—Å—É–¥—ã –±–æ–ª–¥—ã—Ä–º–∞—É
            if (btn.disabled) return; 

            if (val === correctAnswers[`q${q}`]) {
                result.innerHTML = "‚úÖ –î“±—Ä—ã—Å!";
                result.style.color = "lightgreen";
                userAnswers[q] = true;
            } else {
                // üéµ –î—ã–±—ã—Å—Ç—ã “õ–æ—Å—É
                if (typeof playMoneySound === 'function') {
                    playMoneySound(-500); 
                }

                result.innerHTML = "‚ùå “ö–∞—Ç–µ! –ê–π—ã–ø–ø“±–ª **-500 ‚Ç∏**.";
                result.style.color = "salmon";
                userAnswers[q] = false;
                
                // –ê–π—ã–ø–ø“±–ª–¥—ã —à–µ–≥–µ—Ä—É
                capital -= 500;
                if (typeof updateCapitalDisplay === 'function') {
                    updateCapitalDisplay(capital);
                }
                localStorage.setItem("capital", capital);
            }
            
            // –ë–∞—Ç—ã—Ä–º–∞–Ω—ã ”©—à—ñ—Ä—É
            btn.disabled = true;
            input.disabled = true;

            // –ë–∞—Ä–ª—ã“ì—ã –∞—è“õ—Ç–∞–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
            checkCompletion();

            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ—Ç—ã —Ç–µ–∫—Å–µ—Ä—É
            if (capital <= 0) {
                alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
                localStorage.clear();
                location.reload();
            }
        });
    });

    document.getElementById("finishDay3").addEventListener("click", () => {
        if (document.getElementById("finishDay3").disabled) return;

        const resultDisplay = document.getElementById("day3Result");
        const correctCount = Object.values(userAnswers).filter(v => v).length;
        let finalMessage = "";

        if (correctCount === 3) {
            // üéµ –î—ã–±—ã—Å—Ç—ã “õ–æ—Å—É (–ë–æ–Ω—É—Å)
            if (typeof playMoneySound === 'function') {
                playMoneySound(2000); 
            }
            
            capital += 2000;
            localStorage.setItem("capital", capital);
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }

            finalMessage = `
                <span style="color: #69f0ae;">üéâ “ö“±—Ç—Ç—ã“õ—Ç–∞–π–º—ã–∑! –ë–∞—Ä–ª—ã“õ 3 –µ—Å–µ–ø –¥“±—Ä—ã—Å. +2 000 ‚Ç∏ –±–æ–Ω—É—Å!</span>
            `;
            // –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥—ñ –∞—à—É
            if (typeof unlockNextDay === 'function') {
                unlockNextDay(4); 
            } else {
                localStorage.setItem("currentDay", 4);
            }
            
        } else if (correctCount >= 1) {
            finalMessage = `
                <span style="color: #FFD700;">üëç –ñ–∞“õ—Å—ã –Ω”ô—Ç–∏–∂–µ! ${correctCount}/3 –¥“±—Ä—ã—Å –∂–∞—É–∞–ø. –¢–æ–ª—ã“õ –±–æ–Ω—É—Å –∞–ª—É “Ø—à—ñ–Ω —Ç–∞“ì—ã —Ç—ã—Ä—ã—Å—ã“£—ã–∑ (–ö–µ–ª–µ—Å—ñ –∂–æ–ª—ã).</span>
            `;
            // –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥—ñ –∞—à—É (–±–æ–Ω—É—Å—Å—ã–∑)
             if (typeof unlockNextDay === 'function') {
                unlockNextDay(4);
            } else {
                localStorage.setItem("currentDay", 4);
            }
        } else {
            finalMessage = `
                <span style="color: salmon;">üö® –ë–∞—Ä–ª—ã“õ –∂–∞—É–∞–ø—Ç–∞—Ä “õ–∞—Ç–µ. “ö–∞—Ä–∂—ã–ª—ã“õ —Å–∞—É–∞—Ç—Ç—ã–ª—ã“õ—Ç—ã –∞—Ä—Ç—Ç—ã—Ä—É –∫–µ—Ä–µ–∫.</span>
            `;
             // –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥—ñ –∞—à—É (–±–æ–Ω—É—Å—Å—ã–∑)
             if (typeof unlockNextDay === 'function') {
                unlockNextDay(4);
            } else {
                localStorage.setItem("currentDay", 4);
            }
        }
        
        resultDisplay.innerHTML = finalMessage;
        
        // –ë–µ—Ç—Ç—ñ –∂–∞“£–∞—Ä—Ç—É –∞—Ä“õ—ã–ª—ã 4-–∫“Ø–Ω–≥–µ ”©—Ç—É
        document.getElementById("finishDay3").textContent = "4-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay3").disabled = true;
        
        
    });
}




 // === –î–ï–ù–¨ 4 –õ–û–ì–ò–ö–ê (–ñ–ê“¢–ê–†–¢–´–õ“í–ê–ù ”ò–î–ï–ú–Ü –î–ò–ó–ê–ô–ù) ===
function setupDay4() {
    // day4Content –µ–º–µ—Å, day4 –±–ª–æ–≥—ã–Ω –∞–ª–∞–º—ã–∑, —Å–µ–±–µ–±—ñ –±“±–ª —Ç–æ–ª—ã“õ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    const day4Block = document.getElementById("day4");
    if (!day4Block) return; // –ï–≥–µ—Ä –±–ª–æ–∫ –∂–æ“õ –±–æ–ª—Å–∞, “õ–∞—Ç–µ —à—ã“õ–ø–∞—É “Ø—à—ñ–Ω

    // Day 4 HTML-–∫–æ–Ω—Ç–µ–Ω—Ç—ñ–Ω –æ—Ä–Ω–∞—Ç—É
    day4Block.innerHTML = `
        <h3 id="day4Title"> 4-–ö“Æ–ù: –¢”ô—É–µ–∫–µ–ª–¥–µ—Ä –º–µ–Ω –ú”ô—Å–µ–ª–µ–ª–µ—Ä üö® </h3>
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d4-capital-display">${capital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div class="event-card danger" id="day4event1">
            <h3 class="card-title">1Ô∏è‚É£ “ö–∞–π“ì—ã–ª—ã –ê—è“õ–∫–∏—ñ–º –∂”ô–Ω–µ –°—ã–Ω“ì–∞–Ω –ù–æ—É—Ç–±—É–∫ üò≠</h3>
            
            <div class="story-content">
                <p>
                    –¢–∞“£–µ—Ä—Ç–µ“£ –∫–µ“£—Å–µ –µ—Å—ñ–≥—ñ–Ω –∞—à“õ–∞–Ω —Å”ô—Ç—Ç–µ-–∞“õ –∞—É–∞–¥–∞ –±—ñ—Ä—Ç“Ø—Ä–ª—ñ “Ø–Ω—Å—ñ–∑–¥—ñ–∫ —Å–µ–∑—ñ–ª–¥—ñ. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—ñ“£—ñ–∑ ”ô–¥–µ—Ç—Ç–µ–≥—ñ–¥–µ–π ¬´“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£!¬ª –¥–µ–ø –∫“Ø–ª—ñ–º–¥–µ–ø “õ–∞—Ä—Å—ã –∞–ª–º–∞–¥—ã. –û–Ω—ã“£ –æ—Ä–Ω—ã–Ω–∞ –æ–ª “Ø—Å—Ç–µ–ª –∂–∞–Ω—ã–Ω–¥–∞ —Ç“±—Ä—ã–ø, “õ–æ–±–∞–ª–∂—ã“ì–∞–Ω –∫“Ø–π–¥–µ –Ω–æ—É—Ç–±—É–∫—Ç—ã“£ —Å—ã–Ω—ã“õ—Ç–∞—Ä—ã–Ω “±—Å—Ç–∞–ø —Ç“±—Ä–¥—ã.
                </p>
                <p>
                    –°”©–π—Ç—Å–µ, –∫–µ—à–µ –∫–µ—à–∫–µ –æ–ª –∞—Å“Ø–π–≥–µ –∫–æ—Ñ–µ –∞–ª—É“ì–∞ –±–∞—Ä–∞ –∂–∞—Ç—ã–ø, “Ø—Å—Ç–µ–ª–¥—ñ“£ –∞—Å—Ç—ã–Ω–¥–∞ –∂–∞—Ç“õ–∞–Ω –∞—è“õ–∫–∏—ñ–º–≥–µ —Å“Ø—Ä—ñ–Ω—ñ–ø, –µ“£ “õ—ã–º–±–∞—Ç –Ω–æ—É—Ç–±—É–∫—Ç—ã “Ø—Å—Ç–µ–ª–¥–µ–Ω “±—à—ã—Ä—ã–ø —Ç“Ø—Å—ñ—Ä–≥–µ–Ω –µ–∫–µ–Ω. –°—É —Ç”©–≥—ñ–ª–≥–µ–Ω, —ç–∫—Ä–∞–Ω ”©—à–∫–µ–Ω. –ù–æ—É—Ç–±—É–∫–ø–µ–Ω –±—ñ—Ä–≥–µ –∞—Å—Ç—ã–Ω–¥–∞ —Ç“±—Ä“ì–∞–Ω “õ—ã–º–±–∞—Ç –∏—Ç–∞–ª—å—è–Ω–¥—ã“õ –≤–∞–∑–∞ –¥–∞ —Å—ã–Ω—ã–ø “õ–∞–ª“ì–∞–Ω. üò≠
                </p>
                
                <div class="cost-summary">
                    <p>üõ†Ô∏è –ù–æ—É—Ç–±—É–∫ –ø–µ–Ω –í–∞–∑–∞–Ω—ã“£ –ñ–∞–ª–ø—ã –®—ã“ì—ã–Ω—ã: <strong>-20 000 ‚Ç∏</strong> (–ù–æ—É—Ç–±—É–∫: 15 000 ‚Ç∏ + –í–∞–∑–∞: 5 000 ‚Ç∏)</p>
                </div>
                
                <img src="nout.png" alt="–°—ã–Ω“ì–∞–Ω –Ω–æ—É—Ç–±—É–∫" class="event-image">
            </div>
            
            <h4 class="action-prompt">‚û°Ô∏è –°—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑:</h4>
            <div class="action-buttons">
                <button class="d4-opt action-red" data-cost="10000" data-name="–ñ–∞–ª–∞“õ—ã–¥–∞–Ω “±—Å—Ç–∞—É" data-day="4-1">1. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—Ç—ñ“£ –∂–∞–ª–∞“õ—ã—Å—ã–Ω–∞–Ω –∂–∞—Ä—Ç—ã—Å—ã–Ω “±—Å—Ç–∞—É </button>
                <button class="d4-opt action-green" data-cost="20000" data-name="–ö–æ–º–ø–∞–Ω–∏—è –µ—Å–µ–±—ñ–Ω–µ–Ω ”©—Ç–µ—É" data-day="4-1">2. –ë–∞—Ä–ª—ã“õ —à—ã“ì—ã–Ω–¥—ã –∫–æ–º–ø–∞–Ω–∏—è –µ—Å–µ–±—ñ–Ω–µ–Ω ”©—Ç–µ—É </button>
                <button class="d4-opt action-yellow" data-cost="5000" data-name="–ï—Å–∫—ñ –Ω–æ—É—Ç–±—É–∫" data-day="4-1">3. –ï—Å–∫—ñ –Ω–æ—É—Ç–±—É–∫—Ç—ã –∂”©“£–¥–µ—É–≥–µ –±–µ—Ä—É</button>
            </div>
        </div>

        <div class="event-card warning" id="day4event2" style="display:none; margin-top: 30px;">
            <h3 class="card-title">2Ô∏è‚É£ –°–∞–ª—ã“õ –ò–Ω—Å–ø–µ–∫—Ü–∏—è—Å—ã–Ω—ã“£ –¢–µ–∫—Å–µ—Ä—ñ—Å—ñ üßê</h3>
            <p>“ö“±—Ç—Ç—ã“õ—Ç–∞–π–º—ã–∑! –ö–µ–Ω–µ—Ç—Ç–µ–Ω —Å–∞–ª—ã“õ –∏–Ω—Å–ø–µ–∫—Ü–∏—è—Å—ã –µ—Å—ñ–∫ “õ–∞“õ—Ç—ã. “ö–∞–ª–∞–π ”ô—Ä–µ–∫–µ—Ç –µ—Ç–µ—Å—ñ–∑?</p>
            <h4 class="action-prompt">‚û°Ô∏è –°—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑:</h4>
            <div class="action-buttons">
                <button class="d4-inspect action-yellow" data-fine="0" data-bonus="-25000">1. –¢–æ–ª—ã“õ —ã–Ω—Ç—ã–º–∞“õ—Ç–∞—Å—Ç—ã“õ</button>
                <button class="d4-inspect action-red" data-fine="45000" data-bonus="0">2. –ü–∞—Ä–∞ “±—Å—ã–Ω—É </button>
                <button class="d4-inspect action-green" data-fine="3000" data-bonus="0">3. –ê–π—ã–ø–ø“±–ª–¥—ã “õ–∞–±—ã–ª–¥–∞–ø, “õ“±–∂–∞—Ç—Ç–∞—Ä–¥—ã —Ä–µ—Ç—Ç–µ—É </button>
            </div>
        </div>

        <p id="day4result" style="margin-top: 20px; padding: 10px; border-radius: 5px; background: rgba(255, 255, 255, 0.1);"></p>
        <button id="finishDay4" disabled style="padding: 15px 30px; font-weight: bold; margin-top: 20px;">4-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 5-–ö“Æ–ù–ì–ï ”®–¢–£</button>

    `;

    // üõë –ë“±–ª –∂–µ—Ä–¥–µ —Å—ñ–∑–¥—ñ“£ CSS —Å—Ç–∏–ª—ñ“£—ñ–∑ –±–æ–ª–º–∞“ì–∞–Ω–¥—ã“õ—Ç–∞–Ω, –º–µ–Ω –æ–Ω—ã “õ–æ—Å–ø–∞–π–º—ã–Ω. 
    // –ë—ñ—Ä–∞“õ –±“±–ª –∫–ª–∞—Å—Å –∞—Ç—Ç–∞—Ä—ã–Ω (event-card, danger, action-red, —Ç.–±.) “õ–æ–ª–¥–∞–Ω—É –∞—Ä“õ—ã–ª—ã 
    // —Å—ã—Ä—Ç“õ—ã CSS —Ñ–∞–π–ª—ã–Ω–¥–∞ ”ô–¥–µ–º—ñ —Å—Ç–∏–ª—å–¥–µ—Ä –∂–∞—Å–∞—É“ì–∞ –±–æ–ª–∞–¥—ã.

    // 2. –¢—ã“£–¥–∞—É—à—ã–ª–∞—Ä–¥—ã –æ—Ä–Ω–∞—Ç—É (–û“õ–∏“ì–∞ 1)
    day4Block.querySelectorAll(".d4-opt").forEach(btn => {
        btn.addEventListener('click', () => {
            const cost = parseInt(btn.dataset.cost);
            let text = "";
            
            // –î—ã–±—ã—Å—Ç—ã “õ–æ—Å—É
            if (typeof playMoneySound === 'function') {
                playMoneySound(-cost); // –®—ã“ì—ã–Ω –±–æ–ª“ì–∞–Ω–¥—ã“õ—Ç–∞–Ω, —Ç–µ—Ä—ñ—Å –º”ô–Ω –±–µ—Ä–µ–º—ñ–∑
            }
            
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∞–∑–∞–π—Ç—É
            capital -= cost;
            localStorage.setItem("capital", capital);
            
            // UI –∂–∞“£–∞—Ä—Ç—É
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }
            document.getElementById('d4-capital-display').innerHTML = capital.toLocaleString() + ' ‚Ç∏';


            if (cost === 10000) {
                text = `<span style="color: yellow;">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—Ç—ñ“£ –∂–∞–ª–∞“õ—ã—Å—ã–Ω–∞–Ω –∂–∞—Ä—Ç—ã—Å—ã “±—Å—Ç–∞–ª–¥—ã. –ö–∞–ø–∏—Ç–∞–ª <b>-${cost.toLocaleString()} ‚Ç∏</b>.</span>`;
            } else if (cost === 20000) {
                text = `<span style="color: lightgreen;">–ë–∞—Ä–ª—ã“õ —à—ã“ì—ã–Ω –∫–æ–º–ø–∞–Ω–∏—è –µ—Å–µ–±—ñ–Ω–µ–Ω ”©—Ç–µ–ª–¥—ñ. –ö–∞–ø–∏—Ç–∞–ª <b>-${cost.toLocaleString()} ‚Ç∏</b>.</span>`;
            } else if (cost === 5000) {
                text = `<span style="color: lightblue;">–ï—Å–∫—ñ –Ω–æ—É—Ç–±—É–∫–ø–µ–Ω –∂“±–º—ã—Å –∂–∞–ª“ì–∞—Å—Ç—ã. –ö–∞–ø–∏—Ç–∞–ª <b>-${cost.toLocaleString()} ‚Ç∏</b>.</span>`;
            }
            
            document.getElementById("day4result").innerHTML = text + "<br><br>üö® –ö–µ–ª–µ—Å—ñ –æ“õ–∏“ì–∞“ì–∞ –¥–∞–π—ã–Ω–¥–∞–ª—ã“£—ã–∑:";
            document.getElementById("day4event2").style.display = "block";
            
            // –û“õ–∏“ì–∞ 1 –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã–Ω ”©—à—ñ—Ä—É
            document.getElementById("day4event1").querySelectorAll('button').forEach(b => b.disabled = true);
            document.getElementById("day4event1").style.backgroundColor = 'rgba(255, 0, 0, 0.1)'; // –û“õ–∏“ì–∞ –∞—è“õ—Ç–∞–ª“ì–∞–Ω—ã–Ω –∫”©—Ä—Å–µ—Ç—É
        });
    });

    // 3. –¢—ã“£–¥–∞—É—à—ã–ª–∞—Ä–¥—ã –æ—Ä–Ω–∞—Ç—É (–û“õ–∏“ì–∞ 2)
    day4Block.querySelectorAll(".d4-inspect").forEach(btn => {
        btn.addEventListener('click', () => {
            const initialFine = parseInt(btn.dataset.fine);
            let finalFine = initialFine;
            let result = "";

            // –û“õ–∏“ì–∞ 2 –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã–Ω ”©—à—ñ—Ä—É
            document.getElementById("day4event2").querySelectorAll('button').forEach(b => b.disabled = true);

            if (initialFine === 0) { // –¢–æ–ª—ã“õ —ã–Ω—Ç—ã–º–∞“õ—Ç–∞—Å—Ç—ã“õ
                if (Math.random() < 0.5) { // 50% —à–∞–Ω—Å
                    finalFine = 0;
                    result = `<span style="color: lightgreen;">‚úÖ –°”ô—Ç—Ç—ñ! “ö“±–∂–∞—Ç—Ç–∞—Ä –¥“±—Ä—ã—Å. –®—ã“ì—ã–Ω –∂–æ“õ.</span>`;
                } else {
                    finalFine = 25000;
                    result = `<span style="color: salmon;">‚ùå –°”ô—Ç—Å—ñ–∑–¥—ñ–∫. “ö“±–∂–∞—Ç—Ç–∞—Ä–¥–∞ “õ–∞—Ç–µ —Ç–∞–±—ã–ª–¥—ã. –ê–π—ã–ø–ø“±–ª <b>-${finalFine.toLocaleString()} ‚Ç∏</b>.</span>`;
                }
            } else if (initialFine === 45000) { // –ü–∞—Ä–∞
                finalFine = 45000;
                result = `<span style="color: salmon;">‚ùå “ö–∞—É—ñ–ø—Ç—ñ. –ü–∞—Ä–∞ “õ–∞–±—ã–ª–¥–∞–Ω–±–∞–¥—ã! –ñ–∞–ª–ø—ã –∞–π—ã–ø–ø“±–ª <b>-${finalFine.toLocaleString()} ‚Ç∏</b>.</span>`;
            } else { // “ö“±–∂–∞—Ç—Ç–∞—Ä–¥—ã —Ä–µ—Ç—Ç–µ—É
                finalFine = 3000;
                result = `<span style="color: yellow;">‚ö†Ô∏è –†–µ—Ç—Ç–µ—É. “ö“±–∂–∞—Ç—Ç–∞—Ä–¥—ã —Ä–µ—Ç—Ç–µ—É “Ø—à—ñ–Ω –∞–∑–¥–∞“ì–∞–Ω –∞–π—ã–ø–ø“±–ª —Ç”©–ª–µ–¥—ñ“£—ñ–∑. <b>-${finalFine.toLocaleString()} ‚Ç∏</b>.</span>`;
            }

            // –î—ã–±—ã—Å—Ç—ã “õ–æ—Å—É
            if (typeof playMoneySound === 'function') {
                playMoneySound(-finalFine); 
            }

            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∞–∑–∞–π—Ç—É
            capital -= finalFine;
            localStorage.setItem("capital", capital);
            
            // UI –∂–∞“£–∞—Ä—Ç—É
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }
            document.getElementById('d4-capital-display').innerHTML = capital.toLocaleString() + ' ‚Ç∏';

            document.getElementById("day4result").innerHTML += `<br>‚û°Ô∏è 2-–û“õ–∏“ì–∞: ${result}<br><b>4-–∫“Ø–Ω –∞—è“õ—Ç–∞–ª–¥—ã!</b>`;
            
            // –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥—ñ –∞—à—É
            document.getElementById("finishDay4").disabled = false;
            document.getElementById("finishDay4").addEventListener('click', () => {
                unlockNextDay(5);
                location.reload();
            });

            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ—Ç—ã —Ç–µ–∫—Å–µ—Ä—É
            if (capital <= 0) {
                alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
                localStorage.clear();
                location.reload();
            }
        });
    });
}
// === –î–ï–ù–¨ 5 –õ–û–ì–ò–ö–ê (–ö–õ–ò–ï–ù–¢ –ñ”ò–ù–ï –ï–°–ï–ü) ===
function setupDay5() {
    const day5 = document.getElementById("day5");
    
    // –ë“±–ª –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä –ª–æ–≥–∏–∫–∞–Ω—ã“£ –¥“±—Ä—ã—Å –∂“±–º—ã—Å—ã “Ø—à—ñ–Ω “õ–∞–∂–µ—Ç
    let complaintSolved = false;
    let mathSolved = false;
    const mathCorrectAnswer = 32000; // –ï—Å–µ–ø—Ç—ñ“£ –¥“±—Ä—ã—Å –∂–∞—É–∞–±—ã: 15000 + 20000 - 3000 = 32000

    day5.innerHTML = `
        <h2 style="color: #FFD700; border-bottom: 2px solid #FFD700; padding-bottom: 10px;">
            ü§ù 5-–ö“Æ–ù: –ö–ª–∏–µ–Ω—Ç–ø–µ–Ω “ö–∞—Ä—ã–º-“õ–∞—Ç—ã–Ω–∞—Å –∂”ô–Ω–µ –¢–∞–±—ã—Å –ï—Å–µ–±—ñ üßÆ
        </h2>
        <p style="margin-bottom: 25px;">
            –ë“Ø–≥—ñ–Ω ‚Äì –∫–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ –±–µ–¥–µ–ª—ñ –º–µ–Ω “õ–∞—Ä–∂—ã–ª—ã“õ —Å–∞—É–∞—Ç—Ç—ã–ª—ã“ì—ã“£—ã–∑–¥—ã —Å—ã–Ω–∞–π—Ç—ã–Ω –∫“Ø–Ω.
        </p>
        
        <div id="complaintSection" style="background-color: rgba(30, 30, 30, 0.8); padding: 25px; border-radius: 10px; margin-bottom: 30px;">
            <h4 style="color: #00BFFF; margin-bottom: 15px;">1. –ö–ª–∏–µ–Ω—Ç –®–∞“ì—ã–º—ã: –®–µ—à—ñ–º–¥—ñ –¢–∞“£–¥–∞“£—ã–∑ ü§î</h4>
            <p style="font-style: italic; color: #ccc;">
                –û—Ä—Ç–∞ –∂–∞—Å—Ç–∞“ì—ã —Ç“±—Ä–∞“õ—Ç—ã –∫–ª–∏–µ–Ω—Ç—ñ“£—ñ–∑ –∫”©—Ä—Å–µ—Ç—ñ–ª–≥–µ–Ω “õ—ã–∑–º–µ—Ç—Ç–µ–Ω “õ–∞—Ç—Ç—ã –∫”©“£—ñ–ª—ñ —Ç–æ–ª–º–∞–π, 5000 ‚Ç∏ “õ–∞–π—Ç–∞—Ä—É–¥—ã —Ç–∞–ª–∞–ø –µ—Ç—É–¥–µ.
                –°—ñ–∑–¥—ñ“£ –º–∞–º–∞–Ω—ã“£—ã–∑ “õ–∞—Ç–µ–ª—ñ–∫ –∂–æ“õ –¥–µ–ø —Å–µ–Ω–¥—ñ—Ä–µ–¥—ñ, –±—ñ—Ä–∞“õ –∫–ª–∏–µ–Ω—Ç—Ç—ñ“£ –±–µ–¥–µ–ª—ñ —Å—ñ–∑ “Ø—à—ñ–Ω –º–∞“£—ã–∑–¥—ã.
            </p>
            
            <div style="display: flex; justify-content: space-between; gap: 15px; margin-top: 20px;">
                
                <button class="d5-complaint-opt" data-cost="-5000" data-win="0" data-name="–ê“õ—à–∞–Ω—ã “ö–∞–π—Ç–∞—Ä—É"
                        style="padding: 15px; background-color: #69f0ae; color: black; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; flex-grow: 1;">
                    ‚úÖ 1-–ù“±—Å“õ–∞: –ê“õ—à–∞–Ω—ã “õ–∞–π—Ç–∞—Ä—É                 </button>
                
                <button class="d5-complaint-opt" data-cost="0" data-win="-3000" data-name="–ë–∞—Å –¢–∞—Ä—Ç—É"
                        style="padding: 15px; background-color: #ff5255; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; flex-grow: 1;">
                    ‚ùå 2-–ù“±—Å“õ–∞: –ë–∞—Å —Ç–∞—Ä—Ç—É            </button>
                
            </div>
            
            <p id="complaintResult" style="margin-top: 20px; font-weight: bold; padding: 10px; border-radius: 5px; background: rgba(0, 0, 0, 0.2);"></p>
        </div>

        <div id="mathSection" style="background-color: rgba(30, 30, 30, 0.8); padding: 25px; border-radius: 10px; margin-bottom: 30px; opacity: 0.5;">
            <h4 style="color: #00BFFF; margin-bottom: 15px;">2. “ö–æ—Å—ã–º—à–∞ –ö—ñ—Ä—ñ—Å—Ç—ñ –ï—Å–µ–ø—Ç–µ—É ‚ûï</h4>
            <p>
                –ö–æ–º–ø–∞–Ω–∏—è“ì–∞ “õ–æ—Å—ã–º—à–∞ —Ç–∞–±—ã—Å: 15 000 ‚Ç∏ —Ç–∞—É–∞—Ä —Å–∞—Ç—É–¥–∞–Ω –∂”ô–Ω–µ 20 000 ‚Ç∏ –∂–∞“£–∞ –∂–æ–±–∞–¥–∞–Ω.
                –ë—ñ—Ä–∞“õ –æ—Å—ã –∂–æ–±–∞“ì–∞ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã 3 000 ‚Ç∏ “õ–æ—Å—ã–º—à–∞ —à—ã“ì—ã–Ω –±–æ–ª–¥—ã.
            </p>
            <p style="font-weight: bold; margin-bottom: 10px;">
                –ñ–∞–ª–ø—ã “õ–æ—Å—ã–ª“ì–∞–Ω —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å “õ–∞–Ω—à–∞?
            </p>
            <input type="number" id="mathInput" placeholder="–ñ–∞—É–∞–ø (–º—ã—Å–∞–ª—ã 32000)" 
                   style="padding: 8px; border-radius: 5px; border: 1px solid #444; background-color: #1a1a1a; color: white;">
            <button id="checkMathBtn" 
                    style="padding: 8px 15px; background-color: #00BFFF; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –¢–µ–∫—Å–µ—Ä—É
            </button>
            <p id="mathResult" style="margin-top: 10px; font-weight: bold;"></p>
        </div>
        
        <button id="finishDay5" disabled 
                style="padding: 15px 30px; font-weight: bold; background-color: #888; color: white; border: none; border-radius: 8px; margin-top: 20px; cursor: not-allowed;">
            ‚û°Ô∏è 6-–ö“Æ–ù–ì–ï ”®–¢–£
        </button>
        <p id="finalResultDisplay" style="margin-top: 15px; font-weight: bold;"></p>
    `;

    // –ë–∞—Ä–ª—ã“õ —Ç–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä –æ—Ä—ã–Ω–¥–∞–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä–µ—Ç—ñ–Ω —Ñ—É–Ω–∫—Ü–∏—è
    function checkAllCompleted() {
        if (complaintSolved && mathSolved) {
            const finishBtn = document.getElementById("finishDay5");
            finishBtn.disabled = false;
            finishBtn.style.backgroundColor = '#4CAF50';
            finishBtn.style.cursor = 'pointer';
            document.getElementById("finalResultDisplay").textContent = "–î–∞–π—ã–Ω! 6-–ö“Æ–ù–ì–ï ”®–¢–£ –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å—ã“£—ã–∑.";
        }
    }

    // 1. –ö–ª–∏–µ–Ω—Ç –®–∞“ì—ã–º—ã –ª–æ–≥–∏–∫–∞—Å—ã
    document.querySelectorAll(".d5-complaint-opt").forEach(btn => {
        btn.addEventListener("click", (e) => {
            const button = e.target;
            if (complaintSolved) return; // –ë—ñ—Ä —Ä–µ—Ç —Ç–∞“£–¥–∞—É“ì–∞ —Ä“±“õ—Å–∞—Ç –±–µ—Ä—É
            
            const cost = parseInt(button.dataset.cost);
            const win = parseInt(button.dataset.win);
            const name = button.dataset.name;
            let resultText;
            
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += cost;
            capital += win; // –ï–≥–µ—Ä win —Ç–µ—Ä—ñ—Å –±–æ–ª—Å–∞ (—è“ì–Ω–∏ -3000), –æ–ª —à–µ–≥–µ—Ä—ñ–ª–µ–¥—ñ
            localStorage.setItem("capital", capital);
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }
            // üéµ –î—ã–±—ã—Å: –®—ã“ì—ã–Ω –Ω–µ–º–µ—Å–µ –ù”©–ª
            if (typeof playMoneySound === 'function') {
                playMoneySound(cost + win); 
            }

            // –ù”ô—Ç–∏–∂–µ –º”ô—Ç—ñ–Ω—ñ
            if (name === "–ê“õ—à–∞–Ω—ã “ö–∞–π—Ç–∞—Ä—É") {
                resultText = `<span style="color: lightgreen;">‚úÖ –°—ñ–∑ –∫–ª–∏–µ–Ω—Ç—Ç—ñ —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –®—ã“ì—ã–Ω: ${cost.toLocaleString()} ‚Ç∏. –ë—ñ—Ä–∞“õ —Å—ñ–∑–¥—ñ“£ –±–µ–¥–µ–ª—ñ“£—ñ–∑ —Å–∞“õ—Ç–∞–ª–¥—ã.</span>`;
            } else {
                resultText = `<span style="color: salmon;">‚ùå –ö–ª–∏–µ–Ω—Ç–ø–µ–Ω –∫–µ–ª—ñ—Å–ø–µ–¥—ñ“£—ñ–∑. –†–µ—Å–º–∏ —à—ã“ì—ã–Ω –∂–æ“õ, –±—ñ—Ä–∞“õ –±–µ–¥–µ–ª —à—ã“ì—ã–Ω—ã: ${win.toLocaleString()} ‚Ç∏.</span>`;
            }
            
            document.getElementById("complaintResult").innerHTML = resultText;
            
            // –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(".d5-complaint-opt").forEach(b => b.disabled = true);
            complaintSolved = true;
            
            // –ö–µ–ª–µ—Å—ñ –±”©–ª—ñ–º–¥—ñ —ñ—Å–∫–µ “õ–æ—Å—É
            document.getElementById("mathSection").style.opacity = '1';

            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–ú—ñ–Ω–¥–µ—Ç—Ç—ñ —Ç“Ø—Ä–¥–µ)
            if (capital <= 0) {
                 alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –ö–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ –±–µ–¥–µ–ª—ñ “õ—ã–º–±–∞—Ç“õ–∞ —Ç“Ø—Å—Ç—ñ.");
                 localStorage.clear();
                 location.reload(); 
            }

            // –ï–≥–µ—Ä –µ–∫—ñ–Ω—à—ñ —Ç–∞–ø—Å—ã—Ä–º–∞ –¥–∞ –æ—Ä—ã–Ω–¥–∞–ª“ì–∞–Ω –±–æ–ª—Å–∞, ”©—Ç—É–¥—ñ –∞—à—É
            checkAllCompleted();
        });
    });

    // 2. “ö–∞—Ä–∂—ã–ª—ã“õ –ï—Å–µ–ø –ª–æ–≥–∏–∫–∞—Å—ã
    document.getElementById("checkMathBtn").addEventListener("click", () => {
        const answer = parseInt(document.getElementById("mathInput").value);
        const result = document.getElementById("mathResult");
        
        if (mathSolved) return; 

        if (answer === mathCorrectAnswer) {
            
            // üéµ –î—ã–±—ã—Å: –ü–∞–π–¥–∞
            if (typeof playMoneySound === 'function') {
                playMoneySound(mathCorrectAnswer); 
            }
            
            // –¢–∞–∑–∞ –∫—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É
            capital += mathCorrectAnswer;
            localStorage.setItem("capital", capital);
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }

            result.innerHTML = `<span style="color: lightgreen;">‚úÖ –î“±—Ä—ã—Å! –¢–∞–∑–∞ –∫—ñ—Ä—ñ—Å: +${mathCorrectAnswer.toLocaleString()} ‚Ç∏ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—ã–ª–¥—ã.</span>`;
            
            // –¢–µ—Å—Ç—Ç—ñ –∞—è“õ—Ç–∞—É
            document.getElementById("checkMathBtn").disabled = true;
            document.getElementById("mathInput").disabled = true;
            mathSolved = true;
            
            // –ï–≥–µ—Ä –±—ñ—Ä—ñ–Ω—à—ñ —Ç–∞–ø—Å—ã—Ä–º–∞ –¥–∞ –æ—Ä—ã–Ω–¥–∞–ª“ì–∞–Ω –±–æ–ª—Å–∞, ”©—Ç—É–¥—ñ –∞—à—É
            checkAllCompleted();
            
        } else {
            // üéµ –î—ã–±—ã—Å: –®—ã“ì—ã–Ω
            if (typeof playMoneySound === 'function') {
                playMoneySound(-500); 
            }
            
            // “ö–∞—Ç–µ –∂–∞—É–∞–ø “Ø—à—ñ–Ω –∞–π—ã–ø–ø“±–ª
            capital -= 500;
            localStorage.setItem("capital", capital);
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }

            result.innerHTML = `<span style="color: salmon;">‚ùå “ö–∞—Ç–µ! -500 ‚Ç∏ –∞–π—ã–ø–ø“±–ª. “ö–∞–π—Ç–∞ –µ—Å–µ–ø—Ç–µ“£—ñ–∑.</span>`;
            
            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            if (capital <= 0) {
                 alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! “ö–∞—Ç–µ –µ—Å–µ–ø —à—ã“ì—ã–Ω“ì–∞ ”ô–∫–µ–ª–¥—ñ.");
                 localStorage.clear();
                 location.reload(); 
            }
        }
    });
    
    // 3. “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –±–∞—Ç—ã—Ä–º–∞–Ω—ã “õ–æ—Å—É (6-–∫“Ø–Ω–≥–µ ”©—Ç—É)
    document.getElementById("finishDay5").addEventListener("click", () => {
        if (document.getElementById("finishDay5").disabled) return;
        
        if (typeof unlockNextDay === 'function') {
            unlockNextDay(6);
        } else {
            localStorage.setItem("currentDay", 6);
        }
        
        document.getElementById("finishDay5").textContent = "6-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay5").disabled = true;
        
        // –ê–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ –∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ ”©—Ç—É “Ø—à—ñ–Ω –±–µ—Ç—Ç—ñ –∂–∞“£–∞—Ä—Ç—É
        location.reload();
    });
}

// === –î–ï–ù–¨ 6 –õ–û–ì–ò–ö–ê (–ñ–ï“¢–Ü–õ–î–ï–¢–Ü–õ–ì–ï–ù –ù“∞–°“ö–ê, –î–ò–ó–ê–ô–ù ”®–ó–ì–ï–†–¢–Ü–õ–î–Ü) ===
function setupDay6() {
    const day = 6;
    const day6 = document.getElementById(`day${day}`);
    
    // Day 6 HTML –∫–æ–Ω—Ç–µ–Ω—Ç—ñ–Ω —Ç–æ–ª—ã“ì—ã–º–µ–Ω –∂“Ø–∫—Ç–µ—É
    day6.innerHTML = `
        <h3 style="color: #69f0ae; border-bottom: 2px solid #69f0ae; padding-bottom: 10px;">
            üè¢ ${day}-–ö“Æ–ù: –ë”ò–°–ï–ö–ï–õ–ï–°–¢–Ü–ö –ñ”ò–ù–ï –ö–õ–ò–ï–ù–¢–¢–ï–† üó£Ô∏è
        </h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£!</strong> –ë“Ø–≥—ñ–Ω —Å—ñ–∑–¥—ñ“£ –∫–æ–º–ø–∞–Ω–∏—è“£—ã–∑ –∞–ª“ì–∞—à“õ—ã –∫–ª–∏–µ–Ω—Ç—Ç–µ—Ä–º–µ–Ω –∂“±–º—ã—Å —ñ—Å—Ç–µ—É–¥—ñ –±–∞—Å—Ç–∞–π–¥—ã.</p>
        <p style="margin-bottom: 20px;">–ù–∞—Ä—ã“õ—Ç–∞ –±”ô—Å–µ–∫–µ–ª–µ—Å—Ç–µ—Ä –¥–µ –ø–∞–π–¥–∞ –±–æ–ª–∞ –±–∞—Å—Ç–∞–¥—ã ‚Äî –æ–ª–∞—Ä–¥—ã“£ “±—Å—ã–Ω—ã—Å—Ç–∞—Ä—ã –¥–∞ —Ç–∞—Ä—Ç—ã–º–¥—ã. –°–æ–Ω–¥—ã“õ—Ç–∞–Ω –¥“±—Ä—ã—Å —à–µ—à—ñ–º “õ–∞–±—ã–ª–¥–∞—É –º–∞“£—ã–∑–¥—ã!</p>
        <p style="font-weight: bold;">üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b>${capital.toLocaleString()} ‚Ç∏</b></p>
        
        <div id="q1" class="inner-section">
            <h4>1Ô∏è‚É£ –°“±—Ä–∞“õ: –ö–ª–∏–µ–Ω—Ç —Å—ñ–∑–¥—ñ“£ “õ—ã–∑–º–µ—Ç—ñ“£—ñ–∑ —Ç—ã–º “õ—ã–º–±–∞—Ç –¥–µ–π–¥—ñ. –°—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑?</h4>
            <div class="option-grid">
                <button class="d6-opt" data-q="1" data-reward="3000" data-type="positive">–ê) –ë–∞“ì–∞–Ω—ã –∞–∑–¥–∞–ø —Ç”©–º–µ–Ω–¥–µ—Ç–µ–º—ñ–Ω, –±—ñ—Ä–∞“õ —Å–∞–ø–∞–Ω—ã —Å–∞“õ—Ç–∞–π–º—ã–Ω. </button>
                <button class="d6-opt" data-q="1" data-reward="-2000" data-type="negative">”ò) –ë–∞“ì–∞–Ω—ã “õ–∞—Ç—Ç—ã —Ç“Ø—Å—ñ—Ä–µ–º—ñ–Ω, –±”ô—Å–µ–∫–µ–ª–µ—Å—Ç–µ–Ω –∞—Å—ã–ø —Ç“Ø—Å–µ–π—ñ–Ω. </button>
                <button class="d6-opt" data-q="1" data-reward="1000" data-type="neutral">–ë) –ë–∞“ì–∞–Ω—ã ”©–∑–≥–µ—Ä—Ç–ø–µ–π–º—ñ–Ω, ”©–∑—ñ–º–Ω—ñ“£ “õ“±–Ω–¥—ã–ª—ã“ì—ã–º–¥—ã “õ–æ—Ä“ì–∞–π–º—ã–Ω. </button>
            </div>
            <p id="result6_1" class="result"></p>
        </div>

        <div id="q2" class="inner-section">
            <h4>2Ô∏è‚É£ –°“±—Ä–∞“õ: –ö–ª–∏–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ –ø—ñ–∫—ñ—Ä–ª–µ—Ä—ñ ”ô—Ä—Ç“Ø—Ä–ª—ñ: –±—ñ—Ä–µ—É–ª–µ—Ä –º–∞“õ—Ç–∞–π–¥—ã, –±—ñ—Ä–µ—É–ª–µ—Ä —Å—ã–Ω –∞–π—Ç–∞–¥—ã. –ù–µ —ñ—Å—Ç–µ–π—Å—ñ–∑?</h4>
            <div class="option-grid">
                <button class="d6-opt" data-q="2" data-reward="2000" data-type="positive">–ê) –ë–∞—Ä–ª—ã“õ –ø—ñ–∫—ñ—Ä–¥—ñ –æ“õ—ã–ø, –∂–∞“õ—Å–∞—Ä—Ç—É“ì–∞ —Ç—ã—Ä—ã—Å–∞–º—ã–Ω.</button>
                <button class="d6-opt" data-q="2" data-reward="-1000" data-type="negative">”ò) –¢–µ—Ä—ñ—Å –ø—ñ–∫—ñ—Ä–ª–µ—Ä–≥–µ –º”ô–Ω –±–µ—Ä–º–µ–π–º—ñ–Ω. </button>
                <button class="d6-opt" data-q="2" data-reward="3000" data-type="positive-max">–ë) ”ò—Ä –∫–ª–∏–µ–Ω—Ç–ø–µ–Ω –∂–µ–∫–µ –±–∞–π–ª–∞–Ω—ã—Å–∞–º—ã–Ω. </button>
            </div>
            <p id="result6_2" class="result"></p>
        </div>

        <div id="q3" class="inner-section">
            <h4>3Ô∏è‚É£ –°“±—Ä–∞“õ: –ë”ô—Å–µ–∫–µ–ª–µ—Å—Ç–µ—Ä –∂–∞“£–∞ –∂–∞—Ä–Ω–∞–º–∞ –∫–∞–º–ø–∞–Ω–∏—è—Å—ã–Ω –±–∞—Å—Ç–∞–¥—ã. –°—ñ–∑–¥—ñ“£ —à–µ—à—ñ–º—ñ“£—ñ–∑?</h4>
            <div class="option-grid">
                <button class="d6-opt" data-q="3" data-reward="2000" data-type="positive">–ê) ”®–∑ –∂–∞—Ä–Ω–∞–º–∞–º–¥—ã –∂–∞“£–∞—Ä—Ç–∞–º—ã–Ω –∂”ô–Ω–µ ”ô–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –∂–µ–ª—ñ–¥–µ –±–µ–ª—Å–µ–Ω–¥—ñ—Ä–µ–∫ –±–æ–ª–∞–º—ã–Ω.</button>
                <button class="d6-opt" data-q="3" data-reward="-2000" data-type="negative">”ò) –ï—Å–∫—ñ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–µ–Ω –∂–∞–ª“ì–∞—Å—Ç—ã—Ä–∞–º—ã–Ω. </button>
                <button class="d6-opt" data-q="3" data-reward="1000" data-type="neutral">–ë) –ö–ª–∏–µ–Ω—Ç—Ç–µ—Ä–≥–µ –∞—Ä–Ω–∞–π—ã –∂–µ“£—ñ–ª–¥—ñ–∫ “±—Å—ã–Ω—É. </button>
            </div>
            <p id="result6_3" class="result"></p>
        </div>

        <button id="finishDay6" disabled style="margin-top: 30px; font-size: 1.1em; background-color: #555;">
            ‚û°Ô∏è 6-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 7-–ö“Æ–ù–ì–ï ”®–¢–£
        </button>
    `;

    // üõë “ö–û–°–´–ú–®–ê CSS –°–¢–ò–õ–î–ï–£ (–ñ–∞–ª–ø—ã –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã –∂–∞“õ—Å–∞—Ä—Ç—É “Ø—à—ñ–Ω)
    // –ï–≥–µ—Ä —Å—ñ–∑–¥—ñ“£ –∂–∞–ª–ø—ã CSS-—ñ“£—ñ–∑–¥–µ –±–æ–ª–º–∞—Å–∞, –º—ã–Ω–∞–ª–∞—Ä–¥—ã “õ–æ—Å—ã“£—ã–∑:
    document.querySelectorAll('.d6-opt').forEach(button => {
        const type = button.getAttribute('data-type');
        if (type === 'positive' || type === 'positive-max') {
            button.style.backgroundColor = '#4CAF50'; // –ñ–∞—Å—ã–ª (–ü–∞–π–¥–∞)
            button.style.color = 'white';
        } else if (type === 'negative') {
            button.style.backgroundColor = '#FF5252'; // “ö—ã–∑—ã–ª (–®—ã“ì—ã–Ω)
            button.style.color = 'white';
        } else {
            button.style.backgroundColor = '#FFD700'; // –°–∞—Ä—ã (–ù–µ–π—Ç—Ä–∞–ª–¥—ã)
            button.style.color = 'black';
        }
    });

    // === JS –õ–û–ì–ò–ö–ê–°–´ (”®–ó–ì–ï–†–Ü–°–°–Ü–ó “ö–ê–õ–ê–î–´) ===
    let completedQuestions = 0;
    const totalQuestions = 3;
    const answeredQuestions = {}; 

    document.querySelectorAll(".d6-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const questionNumber = btn.dataset.q;
            
            // –ï–≥–µ—Ä –±“±–ª —Å“±—Ä–∞“õ“õ–∞ “õ–∞–∑—ñ—Ä–¥—ñ“£ ”©–∑—ñ–Ω–¥–µ –∂–∞—É–∞–ø –±–µ—Ä—ñ–ª—Å–µ, “õ–∞–π—Ç–∞—Ä—É
            if (answeredQuestions[questionNumber]) return;

            const reward = parseInt(btn.dataset.reward);
            const name = btn.textContent; // –ë–∞—Ç—ã—Ä–º–∞–Ω—ã“£ —Ç–æ–ª—ã“õ –º”ô—Ç—ñ–Ω—ñ–Ω –∞–ª–∞–º—ã–∑
            const resultId = `result6_${questionNumber}`;
            
            // üéµ –î—ã–±—ã—Å: –ü–∞–π–¥–∞/–®—ã“ì—ã–Ω
            if (typeof playMoneySound === 'function') {
                 playMoneySound(reward); 
            }

            // –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä
            capital += reward;
            localStorage.setItem("capital", capital);
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }
            
            // –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            const color = reward > 0 ? 'lightgreen' : (reward < 0 ? 'salmon' : 'yellow');
            document.getElementById(resultId).innerHTML = 
                `<span style="color: ${color};">–°—ñ–∑ "${name.split(') ')[0]})" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä: ${reward.toLocaleString()} ‚Ç∏.</span>`;
            
            // –°“±—Ä–∞“õ—Ç—ã“£ –±–∞—Ä–ª—ã“õ –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã–Ω ”©—à—ñ—Ä—É
            document.querySelectorAll(`button[data-q="${questionNumber}"]`).forEach(b => b.disabled = true);
            
            // –ï—Å–µ–ø—Ç–µ—É
            answeredQuestions[questionNumber] = true;
            completedQuestions++;

            // –ï–≥–µ—Ä –±–∞—Ä–ª—ã“õ —Å“±—Ä–∞“õ—Ç–∞—Ä“ì–∞ –∂–∞—É–∞–ø –±–µ—Ä—ñ–ª—Å–µ, –∫“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω —ñ—Å–∫–µ “õ–æ—Å—É
            if (completedQuestions === totalQuestions) {
                const finishBtn = document.getElementById("finishDay6");
                finishBtn.disabled = false;
                finishBtn.style.backgroundColor = '#00BFFF'; // –ö”©–∫ —Ç“Ø—Å–∫–µ –∞—É—ã—Å—Ç—ã—Ä—É
            }

            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            if (capital <= 0) {
                 alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –®—ã“ì—ã–Ω–¥–∞—Ä —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã.");
                 localStorage.clear();
                 location.reload();
                 return;
            }
        });
    });

    // üõë –ö“Æ–ù–î–Ü –ê–Ø“ö–¢–ê–£ –ë–ê–¢–´–†–ú–ê–°–´–ù–´“¢ –õ–û–ì–ò–ö–ê–°–´ (–ö–Ü–î–Ü–†–Ü–°–°–Ü–ó)
    document.getElementById("finishDay6").addEventListener("click", () => {
        if (document.getElementById("finishDay6").disabled) return;
        
        // 7-–∫“Ø–Ω–¥—ñ –∞—à—É (Local Storage-“ì–∞ –∂–∞–∑–∞–¥—ã)
        if (typeof unlockNextDay === 'function') {
             unlockNextDay(day + 1); 
        } else {
             localStorage.setItem("currentDay", day + 1);
        }
        
        const finishButton = document.getElementById("finishDay6");
        finishButton.textContent = "7-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        finishButton.disabled = true;

        // üöÄ –ê–í–¢–û–ú–ê–¢–¢–´ ”®–¢–£ (–ö–Ü–î–Ü–†–Ü–°–°–Ü–ó)
        location.reload();
    });
}



// === –î–ï–ù–¨ 7 –õ–û–ì–ò–ö–ê (–î–ò–ó–ê–ô–ù –ñ–ê“¢–ê–†–¢–´–õ–î–´) ===
function setupDay7() {
    const day = 7;
    const day7 = document.getElementById(`day${day}`);

    day7.innerHTML = `
        <h3>üåü ${day}-–ö“Æ–ù: –ö“Ø—Ç–ø–µ–≥–µ–Ω –û“õ–∏“ì–∞–ª–∞—Ä –º–µ–Ω –ö—Ä–µ–∞—Ç–∏–≤—Ç—ñ –®–µ—à—ñ–º–¥–µ—Ä ü§Ø</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –±–∏–∑–Ω–µ—Å-–≥–µ–Ω–∏–π! ‚òï</strong></p>
        <p>–ë“Ø–≥—ñ–Ω —Å—ñ–∑–¥—ñ –µ–∫—ñ —Ç–æ—Å—ã–Ω –∂–∞“ì–¥–∞–π –∫“Ø—Ç—ñ–ø —Ç“±—Ä: –±—ñ—Ä—ñ –∫“Ø–ª–∫—ñ–ª—ñ, –±—ñ—Ä—ñ ‚Äî —Å”ô–ª —à—ã–Ω–∞–π—ã—Ä–∞“õ.</p>
        <blockquote>‚Äú–ö“Ø–ª–∫—ñ ‚Äî —Å—Ç—Ä–µ—Å—Å –∫–µ–∑—ñ–Ω–¥–µ –µ“£ –∞—Ä–∑–∞–Ω –∞–Ω—Ç–∏–¥–æ—Ç, –±—ñ—Ä–∞“õ —Å–∞–ª—ã“õ—Ç–∞–Ω –±–æ—Å–∞—Ç—ã–ª–º–∞–π–¥—ã.‚Äù üòé</blockquote>
        <p style="font-weight: bold;">üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b>${capital.toLocaleString()} ‚Ç∏</b></p>
        
        <div id="event7_1" class="inner-section">
            <h4>üé≠ –û“õ–∏“ì–∞ ‚Ññ1: –ö“Ø—Ç–ø–µ–≥–µ–Ω PR-–î–∞“ì–¥–∞—Ä—ã—Å</h4>
            <p>TikTok-—Ç–∞ —Å—ñ–∑–¥—ñ“£ ”©–Ω—ñ–º—ñ“£—ñ–∑–¥—ñ –±“±—Ä—ã—Å –ø–∞–π–¥–∞–ª–∞–Ω“ì–∞–Ω –∫–ª–∏–µ–Ω—Ç—Ç—ñ“£ –≤–∏–¥–µ–æ—Å—ã –≤–∏—Ä—É—Å“õ–∞ –∞–π–Ω–∞–ª–¥—ã (–º–∏–ª–ª–∏–æ–Ω –∫”©—Ä—ñ–ª—ñ–º). –ù–µ —ñ—Å—Ç–µ–π—Å—ñ–∑?</p>
            <img src="tiktok.png" alt="TikTok" style="max-width: 40%; height: auto; margin: 10px 0; border-radius: 8px;"> 
            
            <div class="option-grid">
                <button class="d7-opt" data-e="1" data-reward="5000" data-type="positive">1Ô∏è‚É£ –ö—Ä–µ–∞—Ç–∏–≤—Ç—ñ –∂–∞—É–∞–ø –±–µ—Ä—É (–Æ–º–æ—Ä–º–µ–Ω)</button>
                <button class="d7-opt" data-e="1" data-reward="-3000" data-type="negative-low">2Ô∏è‚É£ –í–∏–¥–µ–æ–Ω—ã –∂–æ—é–¥—ã —Å“±—Ä–∞—É </button>
                <button class="d7-opt" data-e="1" data-reward="-10000" data-type="negative-high">3Ô∏è‚É£ –ï—à—Ç–µ“£–µ —ñ—Å—Ç–µ–º–µ—É </button>
            </div>
            <p id="result7_1" class="result"></p>
        </div>

        <div id="event7_2" class="inner-section">
            <h4>‚ú® –û“õ–∏“ì–∞ ‚Ññ2: –ö—Ä–µ–∞—Ç–∏–≤—Ç—ñ –®–µ—à—ñ–º</h4>
            <p>–ö–µ“£—Å–µ–¥–µ–≥—ñ –∫–æ–º–ø—å—é—Ç–µ—Ä–ª–µ—Ä–¥—ñ“£ –±–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª—ã“õ “õ–∞–º—Ç–∞–º–∞—Å—ã–∑ –µ—Ç—É—ñ –µ—Å–∫—ñ—Ä–≥–µ–Ω. –û–Ω—ã –∂–∞“£–∞—Ä—Ç—É “õ—ã–º–±–∞—Ç. –ù–µ —ñ—Å—Ç–µ–π—Å—ñ–∑?</p>
            
            <div class="option-grid">
                <button class="d7-opt" data-e="2" data-reward="-20000" data-type="negative-high">1Ô∏è‚É£ “ö—ã–º–±–∞—Ç –∂–∞“£–∞—Ä—Ç—É–¥—ã —Å–∞—Ç—ã–ø –∞–ª—É </button>
                <button class="d7-opt" data-e="2" data-reward="10000" data-type="positive-max">2Ô∏è‚É£ –¢–µ–≥—ñ–Ω Open Source –±–∞–ª–∞–º–∞—Å—ã–Ω–∞ –∫”©—à—É</button>
                <button class="d7-opt" data-e="2" data-reward="-5000" data-type="negative-low">3Ô∏è‚É£ –ï—Å–∫—ñ –±–∞“ì–¥–∞—Ä–ª–∞–º–∞–º–µ–Ω –∂“±–º—ã—Å —ñ—Å—Ç–µ—É–¥—ñ –∂–∞–ª“ì–∞—Å—Ç—ã—Ä—É </button>
            </div>
            <p id="result7_2" class="result"></p>
        </div>

        <button id="finishDay7" disabled style="margin-top: 30px; font-size: 1.1em; background-color: #555;">
            ‚û°Ô∏è 7-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 8-–ö“Æ–ù–ì–ï ”®–¢–£
        </button>
    `;

    // üõë “ö–û–°–´–ú–®–ê CSS –°–¢–ò–õ–î–ï–£ (–ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã“£ —Ç“Ø—Å—ñ–Ω ”ô—Å–µ—Ä—ñ–Ω–µ “õ–∞—Ä–∞–π –æ—Ä–Ω–∞—Ç—É)
    document.querySelectorAll('.d7-opt').forEach(button => {
        const type = button.getAttribute('data-type');
        if (type === 'positive' || type === 'positive-max') {
            button.style.backgroundColor = '#4CAF50'; // –ñ–∞—Å—ã–ª (“Æ–ª–∫–µ–Ω/–û—Ä—Ç–∞—à–∞ –ü–∞–π–¥–∞)
            button.style.color = 'white';
        } else if (type === 'negative-low') {
            button.style.backgroundColor = '#FFD700'; // –°–∞—Ä—ã (–ö—ñ—à—ñ–≥—ñ—Ä—ñ–º —à—ã“ì—ã–Ω)
            button.style.color = 'black';
        } else if (type === 'negative-high') {
            button.style.backgroundColor = '#FF5252'; // “ö—ã–∑—ã–ª (“Æ–ª–∫–µ–Ω —à—ã“ì—ã–Ω)
            button.style.color = 'white';
        } else {
            button.style.backgroundColor = '#00BFFF'; // ”ò–¥–µ–ø–∫—ñ
            button.style.color = 'white';
        }
    });

    // === JS –õ–û–ì–ò–ö–ê–°–´ (”®–ó–ì–ï–†–Ü–°–°–Ü–ó “ö–ê–õ–ê–î–´) ===
    let completedEvents = 0;
    const totalEvents = 2;
    const answeredEvents = {}; 

    // –û“õ–∏“ì–∞–ª–∞—Ä–¥—ã ”©“£–¥–µ—É –ª–æ–≥–∏–∫–∞—Å—ã
    document.querySelectorAll(".d7-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const eventNumber = btn.dataset.e;
            
            if (answeredEvents[eventNumber]) return;

            const reward = parseInt(btn.dataset.reward);
            const name = btn.textContent; // –ë–∞—Ç—ã—Ä–º–∞–Ω—ã“£ —Ç–æ–ª—ã“õ –º”ô—Ç—ñ–Ω—ñ–Ω –∞–ª–∞–º—ã–∑
            const resultId = `result7_${eventNumber}`;
            
            // üéµ –î—ã–±—ã—Å
            if (typeof playMoneySound === 'function') {
                 playMoneySound(reward); 
            }

            // –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä
            capital += reward;
            localStorage.setItem("capital", capital);
            if (typeof updateCapitalDisplay === 'function') {
                updateCapitalDisplay(capital);
            }
            
            // –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            const color = reward > 0 ? 'lightgreen' : (reward < 0 ? 'salmon' : 'yellow');
            document.getElementById(resultId).innerHTML = 
                `<span style="color: ${color};">–°—ñ–∑ "${name.split(') ')[0]}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä: ${reward.toLocaleString()} ‚Ç∏.</span>`;
            
            // –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(`button[data-e="${eventNumber}"]`).forEach(b => b.disabled = true);
            
            // –ï—Å–µ–ø—Ç–µ—É
            answeredEvents[eventNumber] = true;
            completedEvents++;

            // –ï–≥–µ—Ä –µ–∫—ñ –æ“õ–∏“ì–∞ –¥–∞ –∞—è“õ—Ç–∞–ª—Å–∞
            if (completedEvents === totalEvents) {
                const finishBtn = document.getElementById("finishDay7");
                finishBtn.disabled = false;
                finishBtn.style.backgroundColor = '#00BFFF';
            }

            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            if (capital <= 0) {
                 alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –®—ã“ì—ã–Ω–¥–∞—Ä —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã.");
                 localStorage.clear();
                 location.reload();
                 return;
            }
        });
    });

    // –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã (8-–ö“Æ–ù–ì–ï –ê–í–¢–û–ú–ê–¢–¢–´ ”®–¢–£)
    document.getElementById("finishDay7").addEventListener("click", () => {
        
        const nextDay = day + 1; // nextDay = 8

        // 1. 8-–∫“Ø–Ω–¥—ñ –∞—à—É
        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }

        // 2. –ë–∞—Ç—ã—Ä–º–∞–Ω—ã“£ –∫“Ø–π—ñ–Ω ”©–∑–≥–µ—Ä—Ç—É
        const finishButton = document.getElementById("finishDay7");
        finishButton.textContent = "8-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        finishButton.disabled = true;

        // 3. –ë–µ—Ç—Ç—ñ “õ–∞–π—Ç–∞ –∂“Ø–∫—Ç–µ—É (–ê–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ 8-–∫“Ø–Ω –∞—à—ã–ª–∞–¥—ã)
        location.reload();
    });
}






// === –î–ï–ù–¨ 8 –õ–û–ì–ò–ö–ê (–ï—Å–µ–ø-–∞–π—ã—Ä—ã—Å—É —É–∞“õ—ã—Ç—ã) (–î–ò–ó–ê–ô–ù –ñ–ê“¢–ê–†–¢–´–õ–î–´) ===
function setupDay8() {
    const day = 8;
    const day8 = document.getElementById(`day${day}`);
    
    // –ë–∞—Ä–ª—ã“õ —à—ã“ì—ã–Ω–¥–∞—Ä–¥—ã –∞–Ω—ã“õ—Ç–∞—É
    const payments = [
        { name: "–ñ–∞–ª–∞“õ—ã", cost: 15000 },
        { name: "–ö–æ–º–º—É–Ω–∞–ª–¥—ã“õ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä", cost: 1200 },
        { name: "–û—Ñ–∏—Å –∂–∞–ª–¥–∞—É", cost: 5000 },
        { name: "–ë–∞–Ω–∫ “õ—ã–∑–º–µ—Ç—ñ", cost: 1000 }
    ];

    let totalCost = 0;
    
    // –®—ã“ì—ã–Ω–¥–∞—Ä–¥—ã –∫–∞–ø–∏—Ç–∞–ª–¥–∞–Ω “±—Å—Ç–∞—É –∂”ô–Ω–µ –∂–∞–ª–ø—ã —Å–æ–º–∞—Å—ã–Ω –µ—Å–µ–ø—Ç–µ—É
    payments.forEach(p => {
        totalCost += p.cost;
        // üéµ –î—ã–±—ã—Å: –®—ã“ì—ã–Ω
        if (typeof playMoneySound === 'function') {
            playMoneySound(-p.cost); 
        }
        capital -= p.cost;
    });

    localStorage.setItem("capital", capital);
    if (typeof updateCapitalDisplay === 'function') {
        updateCapitalDisplay(capital);
    }

    // =========================================================
    // üõë –ë–ê–ù–ö–†–û–¢–¢–´“ö –¢–ï–ö–°–ï–†–£
    if (capital <= 0) {
        day8.innerHTML = `
            <h3>‚ùå ${day}-–ö“Æ–ù: –ï—Å–µ–ø-–∞–π—ã—Ä—ã—Å—É —É–∞“õ—ã—Ç—ã (–ë–ê–ù–ö–†–û–¢)</h3>
            <p style="color: red; font-weight: bold;">“ö–∞–π—ã—Ä–ª—ã –∫“Ø–Ω! –°—ñ–∑–¥—ñ“£ –∫–∞–ø–∏—Ç–∞–ª—ã“£—ã–∑ –±–∞—Ä–ª—ã“õ –º—ñ–Ω–¥–µ—Ç—Ç—ñ —Ç”©–ª–µ–º–¥–µ—Ä–¥—ñ (–∂–∞–ª–ø—ã: -${totalCost.toLocaleString()} ‚Ç∏) –∂–∞–±—É“ì–∞ –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑ –±–æ–ª–¥—ã.</p>
            <p>–û–π—ã–Ω –∞—è“õ—Ç–∞–ª–¥—ã. –°–æ“£“ì—ã –∫–∞–ø–∏—Ç–∞–ª: ${capital.toLocaleString()} ‚Ç∏.</p>
            <button class="check-btn" onclick="localStorage.clear(); location.reload();">“ö–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É</button>
        `;
        return; 
    }
    // =========================================================
    
    // –¢”©–ª–µ–º–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ–Ω “õ“±—Ä—É (–±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–º–∞“ì–∞–Ω –∂–∞“ì–¥–∞–π–¥–∞)
    let paymentsList = payments.map(p => 
        `<li>üîπ ${p.name}: <b style="color: salmon;">-${p.cost.toLocaleString()} ‚Ç∏</b></li>`
    ).join('');

    // HTML –º–∞–∑–º“±–Ω—ã–Ω –∂“Ø–∫—Ç–µ—É
    day8.innerHTML = `
        <h3>üí∏ ${day}-–ö“Æ–ù: –ï—Å–µ–ø-–∞–π—ã—Ä—ã—Å—É —É–∞“õ—ã—Ç—ã</h3>
        <p>“ö–∞–π—ã—Ä–ª—ã –∫“Ø–Ω!</p>
        <p>–ë“Ø–≥—ñ–Ω ‚Äî –∞–π–¥—ã“£ –µ“£ –∂–∞—É–∞–ø—Ç—ã —Å”ô—Ç—ñ: –µ—Å–µ–ø-“õ–∏—Å–∞–ø –ø–µ–Ω —Ç”©–ª–µ–º–¥–µ—Ä –∫“Ø–Ω—ñ.</p>
        <p style="font-weight: bold;">üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–¢”©–ª–µ–º–≥–µ –¥–µ–π—ñ–Ω): <b>${(capital + totalCost).toLocaleString()} ‚Ç∏</b></p>
        
        <div class="inner-section">
            <h4>–ú—ñ–Ω–¥–µ—Ç—Ç—ñ –®—ã“ì—ã–Ω–¥–∞—Ä:</h4>
            <ul>
                ${paymentsList}
            </ul>
            <hr style="border-color: #444;">
            <p style="font-weight: bold;">‚û°Ô∏è –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω: <span style="color: salmon;">-${totalCost.toLocaleString()} ‚Ç∏</span></p>
        </div>

        <blockquote>¬´–¢–∞–±—ã—Å—Ç—ã –∞–¥–∞–º ‚Äî –∞“õ—à–∞–Ω—ã —Å–∞–Ω–∞–π –±—ñ–ª–≥–µ–Ω –µ–º–µ—Å, –æ–Ω—ã –±–∞—Å“õ–∞—Ä—É–¥—ã “Ø–π—Ä–µ–Ω–≥–µ–Ω –∞–¥–∞–º.¬ª</blockquote>

        <h4>üìò “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã:</h4>
        <p>–ë–∞—Ä–ª—ã“õ —Ç”©–ª–µ–º–¥–µ—Ä –∂“Ø—Ä–≥—ñ–∑—ñ–ª–¥—ñ. –ö–∞–ø–∏—Ç–∞–ª –∞–∑–∞–π“ì–∞–Ω—ã–º–µ–Ω, —Å—ñ–∑ ”©–∑ –±–∏–∑–Ω–µ—Å—ñ“£—ñ–∑–¥—ñ“£ —Ç“±—Ä–∞“õ—Ç—ã–ª—ã“ì—ã–Ω —Å–∞“õ—Ç–∞–¥—ã“£—ã–∑.</p>
        <p class="result">‚úÖ–ñ–∞“£–∞ –∫–∞–ø–∏—Ç–∞–ª: <b>${capital.toLocaleString()} ‚Ç∏</b></p>

        <button id="finishDay8" class="check-btn" style="margin-top: 20px; font-size: 1.1em;">8-–ö“Æ–ù–î–Ü –ê–Ø“ö–¢–ê–£ –ñ”ò–ù–ï 9-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã
    document.getElementById("finishDay8").addEventListener("click", () => {
        if (typeof unlockNextDay === 'function') {
            unlockNextDay(day + 1); // 9-–∫“Ø–Ω–¥—ñ –∞—à—É
        } else {
            localStorage.setItem("currentDay", day + 1);
        }
        
        document.getElementById("finishDay8").textContent = "9-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay8").disabled = true;

        location.reload(); // –ö—ñ–¥—ñ—Ä—ñ—Å—Å—ñ–∑ –∂–∞“£–∞ –∫“Ø–Ω–≥–µ ”©—Ç—É
    });
}


// === –î–ï–ù–¨ 9 –õ–û–ì–ò–ö–ê (–¢–∞–±—ã—Å—Ç—ã“£ —Ç”ô—Ç—Ç—ñ –¥”ô–º—ñ) (–î–ò–ó–ê–ô–ù –ñ–ê“¢–ê–†–¢–´–õ–î–´) ===
function setupDay9() {
    const day = 9;
    const day9 = document.getElementById(`day${day}`);

    // üí∞ –ö—ñ—Ä—ñ—Å—Ç–µ—Ä–¥—ñ –∞–Ω—ã“õ—Ç–∞—É
    const income = [
        { name: "–ù–µ–≥—ñ–∑–≥—ñ —Å–∞—Ç—ã–ª—ã–º–¥–∞—Ä", amount: 25000 },
        { name: "“ö–æ—Å—ã–º—à–∞ —Ç–∞–±—ã—Å", amount: 7000 },
        { name: "–ö–ª–∏–µ–Ω—Ç—Ç–µ–Ω –±–æ–Ω—É—Å", amount: 3000 }
    ];

    let totalIncome = 0;
    
    // –ö—ñ—Ä—ñ—Å—Ç–µ—Ä–¥—ñ –µ—Å–µ–ø—Ç–µ—É –∂”ô–Ω–µ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É
    income.forEach(i => {
        totalIncome += i.amount;
        // üéµ –î—ã–±—ã—Å: –ü–∞–π–¥–∞
        if (typeof playMoneySound === 'function') {
            playMoneySound(i.amount); 
        }
        capital += i.amount;
    });

    localStorage.setItem("capital", capital);
    if (typeof updateCapitalDisplay === 'function') {
        updateCapitalDisplay(capital);
    }
    
    // –ö—ñ—Ä—ñ—Å—Ç–µ—Ä —Ç—ñ–∑—ñ–º—ñ–Ω “õ“±—Ä—É
    let incomeList = income.map(i => 
        `<li>üéâ ${i.name}: <b style="color: lightgreen;">+${i.amount.toLocaleString()} ‚Ç∏</b></li>`
    ).join('');

    // HTML –º–∞–∑–º“±–Ω—ã–Ω –∂“Ø–∫—Ç–µ—É
    day9.innerHTML = `
        <h3>üçØ ${day}-–ö“Æ–ù: –¢–∞–±—ã—Å—Ç—ã“£ —Ç”ô—Ç—Ç—ñ –¥”ô–º—ñ</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –∫”ô—Å—ñ–ø–∫–µ—Ä!</strong></p>
        <p>–ë“Ø–≥—ñ–Ω —Å–∞–Ω–¥–∞—Ä –∫“Ø–ª—ñ–ø —Ç“±—Ä ‚Äî –¥–µ–º–µ–∫, –∫—ñ—Ä—ñ—Å –∫“Ø–Ω—ñ!</p>
        <blockquote>¬´–ë–∞“õ—ã—Ç ‚Äî –æ–ª –∫–µ–∑–¥–µ –∫–µ–ª–µ–¥—ñ, —Å—ñ–∑ ”©–∑ —ñ—Å—ñ“£—ñ–∑–¥—ñ —Å“Ø–π—ñ—Å–ø–µ–Ω—à—ñ–ª—ñ–∫–ø–µ–Ω —ñ—Å—Ç–µ–π –±–∞—Å—Ç–∞“ì–∞–Ω–¥–∞, –∞–ª –∞“õ—à–∞ ‚Äî –∞—Ä—Ç—ã–Ω–∞–Ω –µ—Ä–µ–¥—ñ.¬ª</blockquote>
        
        <div class="inner-section" style="border: 1px solid #00BFFF;">
            <h4>‚úÖ –ë“Ø–≥—ñ–Ω–≥—ñ –ö—ñ—Ä—ñ—Å—Ç–µ—Ä:</h4>
            <ul>
                ${incomeList}
            </ul>
            <hr style="border-color: #444;">
            <p style="font-weight: bold;">‚û°Ô∏è –ñ–∞–ª–ø—ã —Ç–∞–∑–∞ —Ç–∞–±—ã—Å: <span style="color: lightgreen;">+${totalIncome.toLocaleString()} ‚Ç∏</span></p>
        </div>
        
        <h4>üìò “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã:</h4>
        <p>“ö–æ–ª –∂–µ—Ç–∫—ñ–∑–≥–µ–Ω –∂–µ—Ç—ñ—Å—Ç—ñ–≥—ñ“£—ñ–∑–¥—ñ –∞—Ç–∞–ø ”©—Ç—É–≥–µ –±–æ–ª–∞–¥—ã, –±—ñ—Ä–∞“õ –µ—Å—ñ“£—ñ–∑–¥–µ –±–æ–ª—Å—ã–Ω ‚Äî ”ô—Ä —Ç–∞–±—ã—Å –∂–∞“£–∞ –∂–∞—É–∞–ø–∫–µ—Ä—à—ñ–ª—ñ–∫–ø–µ–Ω –∫–µ–ª–µ–¥—ñ.</p>
        <p class="result">üí∞ –ñ–∞“£–∞ –∫–∞–ø–∏—Ç–∞–ª: <b>${capital.toLocaleString()} ‚Ç∏</b></p>

        <button id="finishDay9" class="check-btn" style="margin-top: 20px; font-size: 1.1em;">9-–ö“Æ–ù–î–Ü –ê–Ø“ö–¢–ê–£ –ñ”ò–ù–ï 10-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã
    document.getElementById("finishDay9").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 10

        // 10-–∫“Ø–Ω–¥—ñ –∞—à—É –∂”ô–Ω–µ –º”ô–Ω–¥—ñ —Å–∞“õ—Ç–∞—É
        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }

        document.getElementById("finishDay9").textContent = "10-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay9").disabled = true;

        location.reload(); // –ö—ñ–¥—ñ—Ä—ñ—Å—Å—ñ–∑ –∂–∞“£–∞ –∫“Ø–Ω–≥–µ ”©—Ç—É
    });
}





// === –î–ï–ù–¨ 10 –õ–û–ì–ò–ö–ê (–¢–ï–ö –í–ò–ö–¢–û–†–ò–ù–ê“í–ê ”®–ó–ì–ï–†–¢–Ü–õ–î–Ü, –ï–°–ï–ü–¢–ï–†–î–Ü“¢ ”ò–°–ï–†–Ü –ñ–û“ö) ===
function setupDay10() {

    const day = 10;
    const day10 = document.getElementById(`day${day}`);
    let quizResult = 0; // –û–π—ã–Ω—à—ã–Ω—ã“£ –¥“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç–∞—Ä—ã–Ω–∞–Ω –∂–∏–Ω–∞“ì–∞–Ω –±–æ–Ω—É—Å—ã
    let errors = 0; // “ö–∞—Ç–µ –∂–∞—É–∞–ø—Ç–∞—Ä —Å–∞–Ω—ã

    const initialCapital = capital; // –¢–µ–∫ –µ—Å–µ–ø—Ç–µ—É–ª–µ—Ä–¥—ñ –∫”©—Ä—Å–µ—Ç—É “Ø—à—ñ–Ω –±–∞—Å—Ç–∞–ø“õ—ã –∫–∞–ø–∏—Ç–∞–ª–¥—ã —Å–∞“õ—Ç–∞—É

    // –ë“±–ª –±”©–ª—ñ–∫ (HTML) ”©–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑ “õ–∞–ª–∞–¥—ã, —Ç–µ–∫ –ª–æ–≥–∏–∫–∞ —Ç”©–º–µ–Ω–¥–µ ”©–∑–≥–µ—Ä–µ–¥—ñ.
    day10.innerHTML = `
        <h3>üß© ${day}-–ö“Æ–ù: –õ–æ–≥–∏–∫–∞–ª—ã“õ –∂”ô–Ω–µ –≠–∫–æ–Ω–æ–º–∏–∫–∞–ª—ã“õ –°—ã–Ω–∞“õ—Ç–∞—Ä –ö“Ø–Ω—ñ</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –±–∞—Å—à—ã!</strong> –°—ñ–∑ –±–∏–∑–Ω–µ—Å ”ô–ª–µ–º—ñ–Ω–¥–µ 9 –∫“Ø–Ω–Ω–µ–Ω –±–µ—Ä—ñ —Ç–∞–±–∞–Ω–¥—ã–ª—ã“õ —Ç–∞–Ω—ã—Ç—ã–ø, —à—ã“£“ì–∞ –∂–µ—Ç—Ç—ñ“£—ñ–∑.</p>
        <p> ”ò—Ä –¥“±—Ä—ã—Å –∂–∞—É–∞–ø “Ø—à—ñ–Ω +2000 ‚Ç∏ –±–æ–Ω—É—Å –±–µ—Ä—ñ–ª–µ–¥—ñ.</p>
        <blockquote>¬´–ê“õ—ã–ª–¥—ã –∞–¥–∞–º –∞“õ—à–∞–Ω—ã –∫”©–±–µ–π—Ç–µ–¥—ñ, –∞–ª –¥–∞–Ω–∞ –∞–¥–∞–º ‚Äî —Ç”ô–∂—ñ—Ä–∏–±–µ–Ω—ñ –∫”©–±–µ–π—Ç–µ–¥—ñ.¬ª</blockquote>
        
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–°—ã–Ω–∞“õ –∞–ª–¥—ã–Ω–¥–∞): <b>${initialCapital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="quiz-container">

            <div id="q1" class="quiz-block">
                <h4>üßÆ 1-–µ—Å–µ–ø: –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–Ω—ã“£ ”©—Å—É—ñ</h4>
                <p>–°—ñ–∑–¥–µ –±–∞—Å—Ç–∞–ø“õ—ã –∫–∞–ø–∏—Ç–∞–ª ‚Äî 40 000 ‚Ç∏. –°—ñ–∑ –æ–Ω—ã“£ 25% –∂–∞—Ä–Ω–∞–º–∞“ì–∞ –∂“±–º—Å–∞–¥—ã“£—ã–∑. –ñ–∞—Ä–Ω–∞–º–∞–Ω—ã“£ –∞—Ä“õ–∞—Å—ã–Ω–¥–∞ –ø–∞–π–¥–∞“£—ã–∑ 60% ”©—Å—Ç—ñ.</p>
                <p>–ï—Å–µ–ø—Ç–µ—É –±–æ–π—ã–Ω—à–∞ (—Å—ñ–∑–¥—ñ“£ –Ω–∞“õ—Ç—ã –∫–∞–ø–∏—Ç–∞–ª—ã“£—ã–∑–¥—ã “õ–æ–ª–¥–∞–Ω–∞ –æ—Ç—ã—Ä—ã–ø):</p>
                <ul>
                    <li>üí∏ –ñ–∞—Ä–Ω–∞–º–∞ —à—ã“ì—ã–Ω—ã (25%): <b>-${(initialCapital * 0.25).toLocaleString()} ‚Ç∏</b></li>
                    <li>üìà –ü–∞–π–¥–∞–Ω—ã“£ ”©—Å—É—ñ (60%): <b>+${(initialCapital * 0.60).toLocaleString()} ‚Ç∏</b></li>
                </ul>
                <p>–ù–∞“õ—Ç—ã –∂–∞—É–∞–ø—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑:</p>
                <button class="q-opt" data-q="1" data-answer="1">1. –ñ–∞—Ä–Ω–∞–º–∞ - —à—ã“ì—ã–Ω, –ø–∞–π–¥–∞ - –∞–∑ </button>
                <button class="q-opt" data-q="1" data-answer="2">2. –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –∞“õ—Ç–∞–ª–¥—ã, –ø–∞–π–¥–∞ –∫”©–±—ñ—Ä–µ–∫ </button>
                <button class="q-opt" data-q="1" data-answer="3">3. –ü–∞–π–¥–∞ –∞–∑, –∂–∞—Ä–Ω–∞–º–∞“ì–∞ –∫”©–ø –∂“±–º—Å–∞–ª–¥—ã </button>
                <p id="r1" class="result"></p>
            </div>

            <div id="q2" class="quiz-block">
                <h4>üí∞ 2-–µ—Å–µ–ø: –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–µ–Ω –ê–π–ª—ã“õ</h4>
                <p>–ê“ì—ã–º–¥–∞“ì—ã –∫–∞–ø–∏—Ç–∞–ª ‚Äî 50 000 ‚Ç∏ (–∫–æ–Ω—Ç–µ–∫—Å—Ç “Ø—à—ñ–Ω). –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –µ“£–±–µ–≥—ñ–º–µ–Ω —Ç–∞–±—ã—Å 20% –∞—Ä—Ç—Ç—ã, –±—ñ—Ä–∞“õ –∞–π–ª—ã“ì—ã 15 000 ‚Ç∏.</p>
                <p>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—Ç—ñ“£ –∂“±–º—ã—Å—ã —Å—ñ–∑–≥–µ —Ç–∏—ñ–º–¥—ñ –º–µ?</p>
                <button class="q-opt" data-q="2" data-answer="1">1. –¢–∏—ñ–º—Å—ñ–∑, –∞–π–ª—ã“õ –∫”©–ø </button>
                <button class="q-opt" data-q="2" data-answer="2">2. –¢–∏—ñ–º–¥—ñ, ”©–π—Ç–∫–µ–Ω—ñ 20% ”©—Å—ñ–º 15 000 ‚Ç∏-–¥–∞–Ω –∫”©–ø </button>
                <button class="q-opt" data-q="2" data-answer="3">3. –¢–µ“£, ”©–∑–≥–µ—Ä—ñ—Å –∂–æ“õ </button>
                <p id="r2" class="result"></p>
            </div>

            <div id="q3" class="quiz-block">
                <h4>üß† 3-–µ—Å–µ–ø: –õ–æ–≥–∏–∫–∞–ª—ã“õ —Ç–∞“£–¥–∞—É</h4>
                <p>–ù–∞—Ä—ã“õ—Ç–∞“ì—ã “Ø—à –∫–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Å—ã. “∞–∑–∞“õ –º–µ—Ä–∑—ñ–º–¥—ñ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞–¥–∞ “õ–∞–Ω–¥–∞–π —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –µ“£ —Ç–∏—ñ–º–¥—ñ?</p>
                <button class="q-opt" data-q="3" data-answer="1">A: –ë–∞“ì–∞–Ω—ã 10% —Ç”©–º–µ–Ω–¥–µ—Ç–µ–¥—ñ, —Å–∞–ø–∞ —Ç”©–º–µ–Ω </button>
                <button class="q-opt" data-q="3" data-answer="2">B: –ë–∞“ì–∞–Ω—ã “±—Å—Ç–∞–π–¥—ã, 1 000 ‚Ç∏ —Å—ã–π–ª—ã“õ –±–µ—Ä–µ–¥—ñ </button>
                <button class="q-opt" data-q="3" data-answer="3">C: –ë–∞“ì–∞–Ω—ã –∫”©—Ç–µ—Ä–µ–¥—ñ, –±—ñ—Ä–∞“õ –±–µ–¥–µ–ª—ñ 20% –∂–æ“ì–∞—Ä—ã </button>
                <p id="r3" class="result"></p>
            </div>

        </div>

        <button id="finishDay10" disabled style="padding: 15px 30px; font-weight: bold; background-color: #e0ac00; color: black; margin-top: 20px;">
            üèÅ 10-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´–ù –®–´“í–ê–†–£
        </button>
        <p id="final-result" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>
    `;

    // =========================================================
    // –õ–û–ì–ò–ö–ê (–ñ–∞“£–∞ –µ—Ä–µ–∂–µ–ª–µ—Ä–≥–µ —Å–∞–π ”©–∑–≥–µ—Ä—Ç—ñ–ª–¥—ñ)
    // =========================================================

    const BONUS_AMOUNT = 2000; // –°—ñ–∑–¥—ñ“£ –∂–∞“£–∞ —Ç–∞–ª–∞–±—ã“£—ã–∑
    
    // –ë“±—Ä—ã–Ω“ì—ã –¥“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç–∞—Ä (”©–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑)
    const correctAnswers = {
        '1': '2', // –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –∞“õ—Ç–∞–ª–¥—ã
        '2': '2', // –¢–∏—ñ–º–¥—ñ
        '3': '3'¬† // C: –ë–µ–¥–µ–ª–≥–µ —Å—Ç–∞–≤–∫–∞
    };
    const answerStatuses = {};
    const totalQuestions = Object.keys(correctAnswers).length;

    // –°“±—Ä–∞“õ—Ç–∞—Ä–¥—ã ”©“£–¥–µ—É
    document.querySelectorAll(".q-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const qNum = btn.dataset.q;
            const chosenAnswer = btn.dataset.answer;
            const resultDisplay = document.getElementById(`r${qNum}`);
            let outcomeText = "";
            const finishBtn = document.getElementById("finishDay10");

            if (answerStatuses[qNum]) return;¬†

            // –ñ–∞—É–∞–ø—Ç—ã —Ç–µ–∫—Å–µ—Ä—É: –ë–æ–Ω—É—Å +2000 ‚Ç∏, –®—ã“ì—ã–Ω –∂–æ“õ
            if (chosenAnswer === correctAnswers[qNum]) {
                quizResult += BONUS_AMOUNT; // +2000 ‚Ç∏
                outcomeText = `<span style="color: lightgreen;">‚úÖ –î“±—Ä—ã—Å! –ë–æ–Ω—É—Å: +${BONUS_AMOUNT.toLocaleString()} ‚Ç∏</span>`;
                if (typeof playMoneySound === 'function') playMoneySound(BONUS_AMOUNT);
            } else {
                errors++;
                // quizResult ”©–∑–≥–µ—Ä–º–µ–π–¥—ñ, —à—ã“ì—ã–Ω –∂–æ“õ
                outcomeText = `<span style="color: salmon;">‚ùå “ö–∞—Ç–µ. –®—ã“ì—ã–Ω –∂–æ“õ, –±—ñ—Ä–∞“õ –±–æ–Ω—É—Å –∞–ª—ã–Ω–±–∞–π–¥—ã.</span>`;
                // –ï–≥–µ—Ä “õ–∞—Ç–µ –¥—ã–±—ã—Å—ã –±–æ–ª—Å–∞, –æ–Ω—ã –æ—Å—ã –∂–µ—Ä–¥–µ —à–∞“õ—ã—Ä—É“ì–∞ –±–æ–ª–∞–¥—ã.
            }

            resultDisplay.innerHTML = outcomeText;
            answerStatuses[qNum] = true;
            
            // –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(`button[data-q="${qNum}"]`).forEach(b => b.disabled = true);
            
            // “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –∞—à—É
            if (Object.keys(answerStatuses).length === totalQuestions) {
                finishBtn.disabled = false;
                finishBtn.textContent = "10-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´–ù –®–´“í–ê–†–£ –ñ”ò–ù–ï 11-–ö“Æ–ù–ì–ï –î–ê–ô–´–ù–î–´“ö";
            }
        });
    });

    // “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω—ã“£ –ª–æ–≥–∏–∫–∞—Å—ã
    document.getElementById("finishDay10").addEventListener("click", () => {
        
        // 1. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É: –¢–ï–ö –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ –Ω”ô—Ç–∏–∂–µ—Å—ñ “ì–∞–Ω–∞ “õ–æ—Å—ã–ª–∞–¥—ã.
        // –ë“±—Ä—ã–Ω“ì—ã –µ—Å–µ–ø—Ç–µ—Ä–¥—ñ“£ ”ô—Å–µ—Ä—ñ (day1CapitalChange, day2CapitalChange) –∞–ª—ã–Ω—ã–ø —Ç–∞—Å—Ç–∞–ª–¥—ã.
        capital += quizResult; // –õ–æ–≥–∏–∫–∞–ª—ã“õ —Å—ã–Ω–∞“õ—Ç–∞—Ä–¥—ã“£ –Ω”ô—Ç–∏–∂–µ—Å—ñ (–ú–∞–∫—Å +6000 ‚Ç∏)
        
        localStorage.setItem("capital", capital);
        if (typeof updateCapitalDisplay === 'function') updateCapitalDisplay(capital);

        // 2. “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –Ω”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
        document.getElementById("final-result").innerHTML = `
            <h4>üèÅ 10-–ö“Æ–ù “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã—Å—ã:</h4>
            <p style="color: ${quizResult >= 0 ? 'lightgreen' : 'salmon'};">
                –õ–æ–≥–∏–∫–∞–ª—ã“õ –°—ã–Ω–∞“õ—Ç–∞—Ä–¥–∞–Ω –ü–∞–π–¥–∞: **+${quizResult.toLocaleString()} ‚Ç∏** (${totalQuestions - errors} –¥“±—Ä—ã—Å –∂–∞—É–∞–ø)
            </p>
            <p style="font-size: 1.2em;"><strong>‚úÖ –ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: ${capital.toLocaleString()} ‚Ç∏</strong></p>
            
            <p style="margin-top: 15px;">¬´–ë–∏–∑–Ω–µ—Å –æ–π—ã–Ω—ã–Ω—ã“£ —Å–æ“£—ã–Ω–¥–∞ –µ“£ –±–∞—Å—Ç—ã—Å—ã ‚Äî –∞“õ—à–∞ –µ–º–µ—Å, —à–µ—à—ñ–º “õ–∞–±—ã–ª–¥–∞—É “õ–∞–±—ñ–ª–µ—Ç—ñ.¬ª</p>
            
            <button id="goToDay11" style="padding: 10px 20px; font-weight: bold; background-color: #3e8e41; color: white;">
                11-–ö“Æ–ù–ì–ï ”®–¢–£
            </button>
        `;
        
        // 3. 11-–∫“Ø–Ω–≥–µ ”©—Ç—É –ª–æ–≥–∏–∫–∞—Å—ã
        document.getElementById("goToDay11").addEventListener("click", () => {
            const nextDay = day + 1;

            if (typeof unlockNextDay === 'function') {
                unlockNextDay(nextDay);
            } else {
                localStorage.setItem("currentDay", nextDay);
            }
            
            document.getElementById("goToDay11").textContent = "11-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
            document.getElementById("goToDay11").disabled = true;

            location.reload(); 
        });
        
        // 10-–∫“Ø–Ω “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã—Å—ã–Ω—ã“£ –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –∂–∞—Å—ã—Ä—É
        document.getElementById("finishDay10").style.display = 'none';

        // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
        if (capital <= 0) {
             alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
             localStorage.clear();
        }
    });
}


// === –î–ï–ù–¨ 11 –õ–û–ì–ò–ö–ê (–ë–∏–∑–Ω–µ—Å –ò–º–ø–µ—Ä–∏—è–Ω—ã“£ –ö“Ø–Ω—ñ) ===
function setupDay11() {
    const day = 11;
    const day11 = document.getElementById(`day${day}`);
    
    // –ë“±–ª –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä –µ–∫—ñ –æ“õ–∏“ì–∞ –¥–∞ –∞—è“õ—Ç–∞–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É “Ø—à—ñ–Ω “õ–∞–∂–µ—Ç
    let completedEvents = 0;
    const totalEvents = 2; 

    day11.innerHTML = `
        <h3>üëë ${day}-–ö“Æ–ù: –ë–∏–∑–Ω–µ—Å –ò–º–ø–µ—Ä–∏—è–Ω—ã“£ –ö“Ø–Ω—ñ üè¢üí∏</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong></p>
        <p>–°—ñ–∑ 10 –∫“Ø–Ω –±–æ–π—ã —Ç–∞–±–∞–Ω–¥—ã–ª—ã“õ, –ª–æ–≥–∏–∫–∞, –∫—Ä–µ–∞—Ç–∏–≤ –∂”ô–Ω–µ —Ç”©–∑—ñ–º–¥—ñ–ª—ñ–∫ —Ç–∞–Ω—ã—Ç—Ç—ã“£—ã–∑. –ë“Ø–≥—ñ–Ω —Å—ñ–∑–¥—ñ“£ –∫–æ–º–ø–∞–Ω–∏—è“£—ã–∑ –µ–Ω–¥—ñ –∫—ñ—à—ñ –±–∏–∑–Ω–µ—Å –µ–º–µ—Å ‚Äî –Ω–∞“ì—ã–∑ –∏–º–ø–µ—Ä–∏—è!</p>
        <blockquote>¬´–ë–∞–π–ª—ã“õ ‚Äì –±“±–ª –º–∞“õ—Å–∞—Ç –µ–º–µ—Å, –Ω”ô—Ç–∏–∂–µ—Å—ñ. –ê–ª –Ω”ô—Ç–∏–∂–µ ‚Äì –¥“±—Ä—ã—Å —à–µ—à—ñ–º–¥–µ—Ä–¥—ñ“£ –∂–∏—ã–Ω—Ç—ã“ì—ã.¬ª</blockquote>
        
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b>${capital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="event11_1" class="event-block">
            <h4>üè¶ 1. –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–ª—ã“õ “±—Å—ã–Ω—ã—Å</h4>
            <p>–°—ñ–∑–≥–µ “Ø—à —ñ—Ä—ñ –∏–Ω–≤–µ—Å—Ç–æ—Ä —Ö–∞–±–∞—Ä–ª–∞—Å—Ç—ã. –û–ª–∞—Ä –∫–æ–º–ø–∞–Ω–∏—è“£—ã–∑“ì–∞ —Å–µ—Ä—ñ–∫—Ç–µ—Å –±–æ–ª—É“ì–∞ –¥–∞–π—ã–Ω</p>
            
            <button class="d11-opt" data-e="1" data-reward="30000" data-name="1Ô∏è‚É£ SpeedInvest">1Ô∏è‚É£ "SpeedInvest"  </button>
            <button class="d11-opt" data-e="1" data-reward="15000" data-name="2Ô∏è‚É£ GreenGrowth">2Ô∏è‚É£ "GreenGrowth" </button>
            <button class="d11-opt" data-e="1" data-reward="0" data-name="3Ô∏è‚É£ Solo Mode">3Ô∏è‚É£ "Solo Mode" </button>
            <p id="result11_1" class="result"></p>
        </div>

        <div id="event11_2" class="event-block" style="margin-top: 20px;">
            <h4>üé≠ 2. –ö“Ø—Ç–ø–µ–≥–µ–Ω –±“±—Ä—ã–ª—ã—Å (Forbes.kz)</h4>
            <p>–ö–æ–º–ø–∞–Ω–∏—è“£—ã–∑ "–ñ—ã–ª–¥—ã“£ “Ø–∑–¥—ñ–∫ —Å—Ç–∞—Ä—Ç–∞–ø—ã" –Ω–æ–º–∏–Ω–∞—Ü–∏—è—Å—ã–Ω–∞ “±—Å—ã–Ω—ã–ª–¥—ã! –°—ñ–∑–¥—ñ“£ —à–µ—à—ñ–º—ñ“£—ñ–∑:</p>

            <button class="d11-opt" data-e="2" data-reward="10000" data-name="1Ô∏è‚É£ –ñ–∞—Ä–Ω–∞–º–∞–ª–∞–ø, –¥–∞—É—ã—Å –∂–∏–Ω–∞—É">1Ô∏è‚É£ –ñ–∞—Ä–Ω–∞–º–∞–ª–∞–ø, –¥–∞—É—ã—Å –∂–∏–Ω–∞—É</button>
            <button class="d11-opt" data-e="2" data-reward="0" data-name="2Ô∏è‚É£ –¢—ã–Ω—ã—à –±–∞“õ—ã–ª–∞—É">2Ô∏è‚É£ –ï—à—Ç–µ“£–µ –∂–∞—Å–∞–º–∞—É </button>
            <button class="d11-opt" data-e="2" data-reward="1000" data-name="3Ô∏è‚É£ “ö–∞—Ä—Å—ã–ª–∞—Å—Ç—ã “õ“±—Ç—Ç—ã“õ—Ç–∞–ø, PR –∂–∞—Å–∞—É">3Ô∏è‚É£ “ö–∞—Ä—Å—ã–ª–∞—Å—Ç—ã “õ“±—Ç—Ç—ã“õ—Ç–∞–ø, –∂–∞“õ—Å—ã PR –∂–∞—Å–∞—É</button>
            <p id="result11_2" class="result"></p>
        </div>
        
        <button id="finishDay11" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">11-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 12-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    const answeredEvents = {}; // –ñ–∞—É–∞–ø –±–µ—Ä—ñ–ª–≥–µ–Ω –æ“õ–∏“ì–∞–ª–∞—Ä–¥—ã —Ç—ñ—Ä–∫–µ–π–¥—ñ

    // –û“õ–∏“ì–∞–ª–∞—Ä–¥—ã ”©“£–¥–µ—É –ª–æ–≥–∏–∫–∞—Å—ã
    document.querySelectorAll(".d11-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const eventNumber = btn.dataset.e;
            
            if (answeredEvents[eventNumber]) return;

            const reward = parseInt(btn.dataset.reward);
            const name = btn.dataset.name;
            const resultId = `result11_${eventNumber}`;

            // –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä
            capital += reward;
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            // –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            let resultMessage = `–°—ñ–∑ "${name.split(' ')[0]}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä: ${reward.toLocaleString()} ‚Ç∏.`;
            
            // –ê—Ä–Ω–∞–π—ã —Ö–∞–±–∞—Ä–ª–∞–º–∞–ª–∞—Ä
            if (eventNumber === '2' && reward === 10000) {
                 resultMessage += " üéâ “ö“±—Ç—Ç—ã“õ—Ç–∞–π–º—ã–∑! –°—ñ–∑ –¥–∞—É—ã—Å—Ç–∞—Ä –∂–∏–Ω–∞–ø, '–ñ—ã–ª–¥—ã“£ “Ø–∑–¥—ñ–∫ —Å—Ç–∞—Ä—Ç–∞–±—ã' –∞—Ç–∞–Ω–¥—ã“£—ã–∑! ü•á";
            } else if (eventNumber === '2' && reward === 1000) {
                 resultMessage += " üí¨ –°—ã–π–ª—ã“õ: '–ï“£ —ç—Ç–∏–∫–∞–ª—ã“õ –±–∏–∑–Ω–µ—Å' –∞—Ç–∞“ì—ã–Ω –∞–ª–¥—ã“£—ã–∑.";
            }

            document.getElementById(resultId).innerHTML = resultMessage;
            
            // –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(`button[data-e="${eventNumber}"]`).forEach(b => b.disabled = true);
            
            // –ï—Å–µ–ø—Ç–µ—É
            answeredEvents[eventNumber] = true;
            completedEvents++;

            // –ï–≥–µ—Ä –µ–∫—ñ –æ“õ–∏“ì–∞ –¥–∞ –∞—è“õ—Ç–∞–ª—Å–∞
            if (completedEvents === totalEvents) {
                document.getElementById("finishDay11").disabled = false;
            }

            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            if (capital <= 0) {
                alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –®—ã“ì—ã–Ω–¥–∞—Ä —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã.");
                localStorage.clear();
                location.reload();
                return;
            }
        });
    });

    // –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã
    document.getElementById("finishDay11").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 12
        
        // 12-–∫“Ø–Ω–¥—ñ –∞—à—É –∂”ô–Ω–µ –º”ô–Ω–¥—ñ —Å–∞“õ—Ç–∞—É
        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay11").textContent = "12-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay11").disabled = true;

        location.reload(); // 12-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}



// === –î–ï–ù–¨ 12 –õ–û–ì–ò–ö–ê (–ñ–∞“£–∞ –î”ô—É—ñ—Ä) ===
function setupDay12() {
    const day = 12;
    const day12 = document.getElementById(`day${day}`);

    let completedEvents = 0;
    const totalEvents = 3; // 12-–∫“Ø–Ω–¥–µ 3 –æ“õ–∏“ì–∞ –±–∞—Ä
    let currentCapital = capital; // –¢–µ–∫ –≤–∏–∑—É–∞–ª–¥—ã –∫”©—Ä—Å–µ—Ç—É “Ø—à—ñ–Ω

    day12.innerHTML = `
        <h3>üíº ${day}-–ö“Æ–ù: –ñ–ê“¢–ê –î”ò–£–Ü–† </h3>
        <p>–ë“Ø–≥—ñ–Ω–Ω–µ–Ω –±–∞—Å—Ç–∞–ø –∫–æ–º–ø–∞–Ω–∏—è“£—ã–∑ ‚ÄúFutureCorp Group‚Äù –¥–µ–ø –∞—Ç–∞–ª–∞–¥—ã. –°—ñ–∑–¥—ñ“£ —à–µ—à—ñ–º–¥–µ—Ä—ñ“£—ñ–∑ –µ–Ω–¥—ñ —Ç–µ–∫ –∞“õ—à–∞“ì–∞ –µ–º–µ—Å, –µ–ª —ç–∫–æ–Ω–æ–º–∏–∫–∞—Å—ã–Ω–∞ ”ô—Å–µ—Ä –µ—Ç–µ–¥—ñ.</p>
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d12-capital-display">${currentCapital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="event12_1" class="event-block">
            <h4>üß† 1. –ñ–∞“£–∞ –±”©–ª—ñ–º –∞—à—É (–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è)</h4>
            <p>“ö–∞–Ω–¥–∞–π –±–∞“ì—ã—Ç“õ–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è —Å–∞–ª–∞—Å—ã–∑?</p>
            
            <button class="d12-opt" data-e="1" data-cost="-20000" data-profit="0" data-name="1Ô∏è‚É£ IT-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è">1Ô∏è‚É£ IT-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è </button>
            <button class="d12-opt" data-e="1" data-cost="-15000" data-profit="0" data-name="2Ô∏è‚É£ –ê–∑—ã“õ-—Ç“Ø–ª—ñ–∫ ”©–Ω–¥—ñ—Ä—ñ—Å—ñ">2Ô∏è‚É£ –ê–∑—ã“õ-—Ç“Ø–ª—ñ–∫ ”©–Ω–¥—ñ—Ä—ñ—Å—ñ </button>
            <button class="d12-opt" data-e="1" data-cost="-25000" data-profit="50000" data-fail="-10000" data-name="3Ô∏è‚É£ –ö–∏–Ω–æ –∏–Ω–¥—É—Å—Ç—Ä–∏—è—Å—ã–Ω–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è">3Ô∏è‚É£ –ö–∏–Ω–æ –∏–Ω–¥—É—Å—Ç—Ä–∏—è—Å—ã </button>
            <p id="result12_1" class="result"></p>
        </div>

        <div id="event12_2" class="event-block" style="margin-top: 20px;">
            <h4>üí¨ 2. –ö“Ø—Ç–ø–µ–≥–µ–Ω –∂–∞“ì–¥–∞–π (–ñ“Ø–π–µ–ª—ñ–∫ –∞“õ–∞—É)</h4>
            <p>–ë–∞—Å—Ç—ã –æ—Ñ–∏—Å—Ç–µ –∂“Ø–π–µ–ª—ñ–∫ –∞“õ–∞—É –æ—Ä—ã–Ω –∞–ª–¥—ã. –°–µ—Ä–≤–µ—Ä–ª–µ—Ä —Å”©–Ω–¥—ñ üò±</p>

            <button class="d12-opt" data-e="2" data-cost="-2000" data-profit="0" data-name="1Ô∏è‚É£ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∫–µ —Ç–∞–ø—Å—ã—Ä—É">1Ô∏è‚É£ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∫–µ —Ç–∞–ø—Å—ã—Ä–∞—Å—ã–∑ </button>
            <button class="d12-opt" data-e="2" data-cost="0" data-profit="0" data-name="2Ô∏è‚É£ ”®–∑—ñ“£—ñ–∑ –∞—Ä–∞–ª–∞—Å–∞—Å—ã–∑">2Ô∏è‚É£ ”®–∑—ñ“£—ñ–∑ –∞—Ä–∞–ª–∞—Å–∞—Å—ã–∑ </button>
            <button class="d12-opt" data-e="2" data-cost="0" data-profit="1000" data-name="3Ô∏è‚É£ –ñ–∏–Ω–∞–ª—ã—Å ”©—Ç–∫—ñ–∑—É">3Ô∏è‚É£ –ö–æ–º–ø–∞–Ω–∏—è –º”ô–¥–µ–Ω–∏–µ—Ç—ñ–Ω –Ω—ã“ì–∞–π—Ç—É </button>
            <p id="result12_2" class="result"></p>
        </div>
        
        <div id="event12_3" class="event-block" style="margin-top: 20px;">
            <h4>üí∏ 3. –ë–æ–Ω—É—Å –º–∏—Å—Å–∏—è: ‚Äú–¢“±—Ä–∞“õ—Ç—ã –¥–∞–º—É‚Äù</h4>
            <p>–•–∞–ª—ã“õ–∞—Ä–∞–ª—ã“õ “õ–æ—Ä “±—Å—ã–Ω—ã—Å—ã: –≠–∫–æ–ª–æ–≥–∏—è–ª—ã“õ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—Ç–∞—Ä“ì–∞ ”©—Ç—ñ–ø, –≥—Ä–∞–Ω—Ç –∞–ª—ã“£—ã–∑.</p>
            
            <button class="d12-opt" data-e="3" data-cost="-8000" data-profit="10000" data-name="1Ô∏è‚É£ –ï–∫—ñ —à–∞—Ä—Ç—Ç—ã –¥–∞ “õ–∞–±—ã–ª–¥–∞—É">1Ô∏è‚É£ –ï–∫—ñ —à–∞—Ä—Ç—Ç—ã –¥–∞ “õ–∞–±—ã–ª–¥–∞—É </button>
            <button class="d12-opt" data-e="3" data-cost="0" data-profit="0" data-name="2Ô∏è‚É£ “∞—Å—ã–Ω—ã—Å—Ç–∞–Ω –±–∞—Å —Ç–∞—Ä—Ç—É">2Ô∏è‚É£ “∞—Å—ã–Ω—ã—Å—Ç–∞–Ω –±–∞—Å —Ç–∞—Ä—Ç—É </button>
            <p id="result12_3" class="result"></p>
        </div>

        <button id="finishDay12" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">12-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 13-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    const answeredEvents = {}; 

    // –û“õ–∏“ì–∞–ª–∞—Ä–¥—ã ”©“£–¥–µ—É –ª–æ–≥–∏–∫–∞—Å—ã
    document.querySelectorAll(".d12-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const eventNumber = btn.dataset.e;
            
            if (answeredEvents[eventNumber]) return;

            const cost = parseInt(btn.dataset.cost) || 0;
            const profit = parseInt(btn.dataset.profit) || 0;
            const failCost = parseInt(btn.dataset.fail) || 0; // 1-–æ“õ–∏“ì–∞ “Ø—à—ñ–Ω
            const name = btn.dataset.name;
            const resultId = `result12_${eventNumber}`;
            let netChange = 0; // –¢–∞–∑–∞ ”©–∑–≥–µ—Ä—ñ—Å
            let resultMessage = "";

            // 1-–æ“õ–∏“ì–∞: –ö–∏–Ω–æ –∏–Ω–¥—É—Å—Ç—Ä–∏—è—Å—ã–Ω–¥–∞“ì—ã —Ç”ô—É–µ–∫–µ–ª–¥—ñ ”©“£–¥–µ—É
            if (eventNumber === '1' && name.includes('–ö–∏–Ω–æ')) {
                 // 50/50 —Ç”ô—É–µ–∫–µ–ª:
                 if (Math.random() < 0.5) { // –°”ô—Ç—Ç—ñ (50%)
                     netChange = cost + profit; // -25000 + 50000 = +25000
                     resultMessage = `üéâ –ö–∏–Ω–æ —Å”ô—Ç—Ç—ñ —à—ã“õ—Ç—ã! –°—ñ–∑–¥—ñ“£ —Ç–∞–∑–∞ –ø–∞–π–¥–∞“£—ã–∑: <b>+${(netChange).toLocaleString()} ‚Ç∏</b>. (–¢”ô—É–µ–∫–µ–ª –∞“õ—Ç–∞–ª–¥—ã!)`;
                 } else { // –°”ô—Ç—Å—ñ–∑ (50%)
                     netChange = cost + failCost; // -25000 + (-10000) = -35000
                     resultMessage = `‚ùå –ö–∏–Ω–æ —Å”ô—Ç—Å—ñ–∑ –±–æ–ª–¥—ã. –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω: <b>${(netChange).toLocaleString()} ‚Ç∏</b>.`;
                 }
            } else {
                 // –ë–∞—Å“õ–∞ –æ“õ–∏“ì–∞–ª–∞—Ä (2-—à—ñ –∂”ô–Ω–µ 3-—à—ñ)
                 netChange = cost + profit;
                 resultMessage = `–°—ñ–∑ "${name.split(' ')[0]}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä: <b>${(netChange).toLocaleString()} ‚Ç∏</b>.`;
            }
            
            // 2-–æ“õ–∏“ì–∞“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∞—Ä–Ω–∞–π—ã —Ö–∞–±–∞—Ä–ª–∞–º–∞
            if (eventNumber === '2' && name.includes('–ñ–∏–Ω–∞–ª—ã—Å')) {
                 resultMessage += " üìà “∞–∂—ã–º–Ω—ã“£ —Ä—É—Ö—ã –Ω—ã“ì–∞–π–¥—ã! (–®–∞—Ä—Ç—Ç—ã +1000 ‚Ç∏ –±–æ–Ω—É—Å)";
            }
            
            // 3-–æ“õ–∏“ì–∞“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∞—Ä–Ω–∞–π—ã —Ö–∞–±–∞—Ä–ª–∞–º–∞
            if (eventNumber === '3' && name.includes('“õ–∞–±—ã–ª–¥–∞—É')) {
                 resultMessage += " üåø –ë—Ä–µ–Ω–¥ –±–µ–¥–µ–ª—ñ –º–µ–Ω –∫–æ–º–∞–Ω–¥–∞ –º–æ—Ç–∏–≤–∞—Ü–∏—è—Å—ã –∫“Ø—Ä—Ç ”©—Å—Ç—ñ! (–¢–∞–∑–∞ –ø–∞–π–¥–∞ +2,000 ‚Ç∏)";
            }

            // –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä
            capital += netChange;
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            document.getElementById('d12-capital-display').innerHTML = capital.toLocaleString() + ' ‚Ç∏'; // –í–∏–∑—É–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É

            document.getElementById(resultId).innerHTML = resultMessage;
            
            document.querySelectorAll(`button[data-e="${eventNumber}"]`).forEach(b => b.disabled = true);
            
            answeredEvents[eventNumber] = true;
            completedEvents++;

            // –ï–≥–µ—Ä –±–∞—Ä–ª—ã“õ –æ“õ–∏“ì–∞ –∞—è“õ—Ç–∞–ª—Å–∞
            if (completedEvents === totalEvents) {
                document.getElementById("finishDay12").disabled = false;
            }

            // üõë –ë–ê–ù–ö–†–û–¢–¢–´“ö –¢–ï–ö–°–ï–†–£
            if (capital <= 0) {
                alert("üí∏ –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑! –®—ã“ì—ã–Ω–¥–∞—Ä —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
                localStorage.clear();
                location.reload();
                return;
            }
        });
    });

    // –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã
    document.getElementById("finishDay12").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 13
        
        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay12").textContent = "13-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay12").disabled = true;

        location.reload(); // 13-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}
// === –î–ï–ù–¨ 13 –õ–û–ì–ò–ö–ê (–ò–Ω—Å–ø–µ–∫—Ü–∏—è –∫–µ–ª–¥—ñ!) - –¢“Æ–ó–ï–¢–Ü–õ–ì–ï–ù –ù“∞–°“ö–ê ===
function setupDay13() {
    const day = 13;
    const day13 = document.getElementById(`day${day}`);
    
    // 12-–∫“Ø–Ω–Ω—ñ“£ —ç–∫–æ-—à–µ—à—ñ–º—ñ–Ω —Ç–µ–∫—Å–µ—Ä—É (–ï–≥–µ—Ä 12-–∫“Ø–Ω–¥–µ –¥“±—Ä—ã—Å —Å–∞“õ—Ç–∞–ª—Å–∞)
    const ecoProjectAccepted = localStorage.getItem('d12_eco_accepted') === 'true'; 
    const salaryTimely = true; // –ï“£–±–µ–∫–∞“õ—ã–Ω—ã —É–∞“õ—Ç—ã–ª—ã –±–µ—Ä–¥—ñ–∫ –¥–µ–ø –±–æ–ª–∂–∞–π–º—ã–∑.

    let completedEvents = 0;
    const totalEvents = 3; 
    let currentCapital = capital; 
    const answeredEvents = {}; 

    day13.innerHTML = `
        <h3>‚öñÔ∏è ${day}-–ö“Æ–ù: –ò–ù–°–ü–ï–ö–¶–ò–Ø –ö–ï–õ–î–Ü!</h3>
        <p>–ë“Ø–≥—ñ–Ω —Å–∞–ª—ã“õ, –µ“£–±–µ–∫ –∂”ô–Ω–µ —ç–∫–æ–ª–æ–≥–∏—è–ª—ã“õ –±–∞“õ—ã–ª–∞—É –±”©–ª—ñ–º–¥–µ—Ä—ñ —Å—ñ–∑–¥—ñ“£ –∫–µ“£—Å–µ“£—ñ–∑–≥–µ –∫–µ–ª–¥—ñ.</p>
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d13-capital-display">${currentCapital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="event13_1" class="event-block">
            <h4>üîç 1. –¢–µ–∫—Å–µ—Ä—É –Ω”ô—Ç–∏–∂–µ—Å—ñ (–ê–≤—Ç–æ–º–∞—Ç—Ç—ã)</h4>
            <p>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä–ª–∞—Ä 3 –±–∞“ì—ã—Ç –±–æ–π—ã–Ω—à–∞ —Å—ñ–∑–¥—ñ“£ –∫–æ–º–ø–∞–Ω–∏—è“£—ã–∑–¥—ã —Ç–µ–∫—Å–µ—Ä–¥—ñ:</p>
            
            <button id="startInspection" style="background-color: #e0ac00; font-weight: bold;">–¢–ï–ö–°–ï–†–£ –ù”ò–¢–ò–ñ–ï–°–Ü–ù –ö”®–†–£</button>
            <div id="inspectionResults" style="margin-top: 10px;"></div>
        </div>

        <div id="event13_2" class="event-block" style="margin-top: 20px;">
            <h4>üí¨ 2. –ò–Ω—Å–ø–µ–∫—Ç–æ—Ä —Å“±—Ä–∞“ì—ã:</h4>
            <p>¬´–°—ñ–∑ –Ω–µ–≥–µ “õ—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä–≥–µ –æ—Å—ã–Ω–¥–∞–π –∂–æ“ì–∞—Ä—ã –±–æ–Ω—É—Å —Ç”©–ª–µ–π—Å—ñ–∑?¬ª</p>

            <button class="d13-opt" data-e="2" data-reward="1500" data-name="1Ô∏è‚É£ ”®–Ω—ñ–º–¥—ñ–ª—ñ–∫ ‚Äì –±–∞—Å—Ç—ã –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è">1Ô∏è‚É£ ¬´”®–Ω—ñ–º–¥—ñ–ª—ñ–∫ ‚Äì –±–∞—Å—Ç—ã –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è¬ª </button>
            <button class="d13-opt" data-e="2" data-reward="0" data-name="2Ô∏è‚É£ –ë“±–ª –º–µ–Ω—ñ“£ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º">2Ô∏è‚É£ ¬´–ë“±–ª –º–µ–Ω—ñ“£ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º¬ª</button>
            <button class="d13-opt" data-e="2" data-reward="-1000" data-name="3Ô∏è‚É£ –û–ª–∞—Ä —Å“±—Ä–∞–ø –∞–ª“ì–∞–Ω">3Ô∏è‚É£ ¬´–û–ª–∞—Ä —Å“±—Ä–∞–ø –∞–ª“ì–∞–Ω¬ª </button>
            <p id="result13_2" class="result"></p>
        </div>
        
        <div id="event13_3" class="event-block" style="margin-top: 20px;">
            <h4>üíº 3. “ö“±–ø–∏—è –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ (–¶–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É)</h4>
            <p>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä: ‚Äú–ï–≥–µ—Ä —Ü–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É –∂“Ø–π–µ—Å—ñ–Ω –µ–Ω–≥—ñ–∑—Å–µ“£—ñ–∑, –∫–µ–ª–µ—Å—ñ –∂—ã–ª—ã —Ç–µ–∫—Å–µ—Ä—É –∞–≤—Ç–æ–º–∞—Ç—Ç–∞–Ω–¥—ã—Ä—ã–ª–∞–¥—ã.‚Äù</p>
            
            <button class="d13-opt" data-e="3" data-cost="-10000" data-profit="0" data-name="1Ô∏è‚É£ –¶–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É–¥—ã –µ–Ω–≥—ñ–∑—É">1Ô∏è‚É£ –¶–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É–¥—ã –µ–Ω–≥—ñ–∑—É </button>
            <button class="d13-opt" data-e="3" data-cost="0" data-profit="0" data-name="2Ô∏è‚É£ –ë–∞—Å —Ç–∞—Ä—Ç—É">2Ô∏è‚É£ –ë–∞—Å —Ç–∞—Ä—Ç—É</button>
            <p id="result13_3" class="result"></p>
        </div>

        <button id="finishDay13" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">13-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 14-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===

    function checkCompletionAndEnableFinish() {
        if (completedEvents === totalEvents) {
            document.getElementById("finishDay13").disabled = false;
        }
    }

    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –®—ã“ì—ã–Ω–¥–∞—Ä —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã! –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    function updateVisuals(netChange, resultId, message) {
        capital += netChange;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        document.getElementById('d13-capital-display').innerHTML = capital.toLocaleString() + ' ‚Ç∏';

        document.getElementById(resultId).innerHTML = message;
    }

    // === 1-–û“ö–ò“í–ê: –¢–µ–∫—Å–µ—Ä—É –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω –±–∞—Å—Ç–∞—É ===
    document.getElementById('startInspection').addEventListener('click', () => {
        if (answeredEvents['1']) return;

        let totalInspectionChange = 0;
        let inspectionDetails = '<ul>';
        
        // 1. “ö–∞—Ä–∂—ã –µ—Å–µ–ø—Ç–µ—Ä—ñ (50/50 “õ–∞—Ç–µ –Ω–µ–º–µ—Å–µ —Ç–∞–∑–∞)
        const isClean = Math.random() > 0.5; 
        totalInspectionChange += isClean ? 5000 : -7000;
        inspectionDetails += `<li>${isClean ? '‚úÖ' : '‚ùå'} **“ö–∞—Ä–∂—ã –µ—Å–µ–ø—Ç–µ—Ä—ñ:** ${isClean ? '–¢–∞–∑–∞.' : '“ö–∞—Ç–µ.'} (${isClean ? '+5,000 ‚Ç∏' : '-7,000 ‚Ç∏'})</li>`;
        
        // 2. “ö—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä –∂–∞“ì–¥–∞–π—ã
        inspectionDetails += `<li>‚úÖ **–ï“£–±–µ–∫–∞“õ—ã:** –£–∞“õ—Ç—ã–ª—ã –±–µ—Ä—ñ–ª–≥–µ–Ω. (–ú–æ—Ä–∞–ª—å ‚Üë)</li>`;
        
        // 3. “ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –ø–µ–Ω —ç–∫–æ–ª–æ–≥–∏—è (–ê–ª–¥—ã“£“ì—ã –∫“Ø–Ω–≥–µ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã)
        totalInspectionChange += ecoProjectAccepted ? 4000 : -2000;
        inspectionDetails += `<li>${ecoProjectAccepted ? '‚úÖ' : '‚ùå'} **–≠–∫–æ–ª–æ–≥–∏—è:** ${ecoProjectAccepted ? '–ú–∞“õ—Ç–∞–ª–¥—ã.' : '–ï—Å–∫–µ—Ä—Ç—É.'} (${ecoProjectAccepted ? '+4,000 ‚Ç∏' : '-2,000 ‚Ç∏'})</li>`;
        
        inspectionDetails += '</ul>';

        // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
        updateVisuals(totalInspectionChange, 'inspectionResults', 
            `${inspectionDetails}<p style="font-weight: bold;">üîé –ñ–∞–ª–ø—ã ”©–∑–≥–µ—Ä—ñ—Å: ${(totalInspectionChange).toLocaleString()} ‚Ç∏</p>`
        );

        document.getElementById('startInspection').disabled = true;
        answeredEvents['1'] = true;
        completedEvents++;
        
        checkCompletionAndEnableFinish();
        checkBankruptcy();
    });

    // === 2- –∂”ô–Ω–µ 3-–û“ö–ò“í–ê–õ–ê–†: –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©“£–¥–µ—É ===
    document.querySelectorAll(".d13-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const eventNumber = btn.dataset.e;
            
            if (answeredEvents[eventNumber]) return;

            const cost = parseInt(btn.dataset.cost) || 0;
            const profit = parseInt(btn.dataset.reward) || 0;
            const name = btn.dataset.name;
            const resultId = `result13_${eventNumber}`;
            let netChange = cost + profit;
            let resultMessage = "";

            // 3-–æ“õ–∏“ì–∞–¥–∞“ì—ã —Ü–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É–¥—ã –∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥–µ—Ä–≥–µ —Å–∞“õ—Ç–∞—É
            if (eventNumber === '3' && name.includes('–µ–Ω–≥—ñ–∑—É')) {
                localStorage.setItem('d13_digital_upgrade', 'true');
                netChange = cost; // –®—ã“ì—ã–Ω -10,000 ‚Ç∏
                resultMessage = `‚úÖ ${name} —Ç–∞“£–¥–∞–ª–¥—ã. –®—ã“ì—ã–Ω: ${netChange.toLocaleString()} ‚Ç∏. –ö–µ–ª–µ—Å—ñ 3 –∫“Ø–Ω–¥–µ –ø–∞–π–¥–∞ +15% –∞—Ä—Ç–∞–¥—ã.`;
            } else {
                resultMessage = `–°—ñ–∑ "${name.split(' ')[0]}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä: <b>${netChange.toLocaleString()} ‚Ç∏</b>.`;
            }

            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            updateVisuals(netChange, resultId, resultMessage);

            document.querySelectorAll(`button[data-e="${eventNumber}"]`).forEach(b => b.disabled = true);
            
            answeredEvents[eventNumber] = true;
            completedEvents++;

            checkCompletionAndEnableFinish();
            checkBankruptcy();
        });
    });

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay13").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 14
        
        if (checkBankruptcy()) return; // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay13").textContent = "14-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay13").disabled = true;

        location.reload(); // 14-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}

// === –î–ï–ù–¨ 14 –õ–û–ì–ò–ö–ê (–ë”ô—Å–µ–∫–µ–ª–µ—Å—Ç–µ—Ä –®–∞–±—É—ã–ª –ñ–∞—Å–∞–¥—ã!) ===
function setupDay14() {
    const day = 14;
    const day14 = document.getElementById(`day${day}`);

    let completedEvents = 0;
    const totalEvents = 3; 
    let currentCapital = capital;
    const answeredEvents = {}; 

    // 13-–∫“Ø–Ω–¥–µ–≥—ñ –¶–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É –ë–æ–Ω—É—Å—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
    const isDigitalUpgrade = localStorage.getItem('d13_digital_upgrade') === 'true';
    const digitalBonus = isDigitalUpgrade ? 0.15 : 0; // 15% –±–æ–Ω—É—Å

    // –û—Å—ã –∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É (–±–æ–Ω—É—Å “õ–æ—Å—ã–ª“ì–∞–Ω)
    const baseDailyIncome = 18000; // ”ò–¥–µ—Ç—Ç–µ–≥—ñ –∫—ñ—Ä—ñ—Å –¥–µ–ø –±–æ–ª–∂–∞–π–º—ã–∑
    const totalDigitalBonus = baseDailyIncome * digitalBonus;
    
    // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –±—ñ—Ä–¥–µ–Ω –∂–∞“£–∞—Ä—Ç—É (–ï–≥–µ—Ä –¶–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É —Ç–∞“£–¥–∞–ª—Å–∞, –∫–∞–ø–∏—Ç–∞–ª –∞—Ä—Ç–∞–¥—ã)
    if (isDigitalUpgrade) {
        capital += totalDigitalBonus;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
    }

    day14.innerHTML = `
        <h3>‚öîÔ∏è ${day}-–ö“Æ–ù: –ë”ò–°–ï–ö–ï–õ–ï–°–¢–ï–† –®–ê–ë–£–´–õ –ñ–ê–°–ê–î–´!</h3>
        <p>–ë“Ø–≥—ñ–Ω —Ç–∞“£–µ—Ä—Ç–µ“£–Ω–µ–Ω –±–∞—Å—Ç–∞–ø –∫–æ–º–ø–∞–Ω–∏—è“£—ã–∑–¥—ã“£ –∞—Ç–∞—É—ã –∂–∞“£–∞–ª—ã“õ—Ç–∞—Ä–¥–∞ –∂“Ø—Ä. –ë”ô—Å–µ–∫–µ–ª–µ—Å —Å—ñ–∑–≥–µ “õ–∞—Ä—Å—ã –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—Ç—ñ–∫ —Å–æ“ì—ã—Å –±–∞—Å—Ç–∞–¥—ã!</p>
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d14-capital-display">${capital.toLocaleString()} ‚Ç∏</b></p>
        ${isDigitalUpgrade ? `<p style="color: lightgreen;">üìà –¶–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É –ë–æ–Ω—É—Å—ã: –ù–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å +15% (+${totalDigitalBonus.toLocaleString()} ‚Ç∏) “õ–æ—Å—ã–ª–¥—ã.</p>` : ''}
        <hr>

        <div id="event14_1" class="event-block">
            <h4>üí£ 1. –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ —à–∞–±—É—ã–ª</h4>
            <p>–ë”ô—Å–µ–∫–µ–ª–µ—Å –∂–∞–ª“ì–∞–Ω –ø—ñ–∫—ñ—Ä–ª–µ—Ä —Ç–∞—Ä–∞—Ç—Ç—ã. –°—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑:</p>
            
            <button class="d14-opt" data-e="1" data-change="-4000" data-name="1Ô∏è‚É£ –ñ–∞“£–∞ –∂–∞—Ä–Ω–∞–º–∞ –∫–∞–º–ø–∞–Ω–∏—è—Å—ã–Ω –±–∞—Å—Ç–∞—É">1Ô∏è‚É£ –ñ–∞“£–∞ –∂–∞—Ä–Ω–∞–º–∞ </button>
            <button class="d14-opt" data-e="1" data-change="${-(baseDailyIncome * 0.10)}" data-name="2Ô∏è‚É£ –ú”ô—Å–µ–ª–µ–Ω—ñ –µ–ª–µ–º–µ—É">2Ô∏è‚É£ –ú”ô—Å–µ–ª–µ–Ω—ñ –µ–ª–µ–º–µ—É </button>
            <button class="d14-opt" data-e="1" data-change="-2000" data-profit="5000" data-name="3Ô∏è‚É£ “ö–∞—Ä—Å—ã PR">3Ô∏è‚É£ “ö–∞—Ä—Å—ã PR  </button>
            <p id="result14_1" class="result"></p>
        </div>

        <div id="event14_2" class="event-block" style="margin-top: 20px;">
            <h4>üì¶ 2. ”®–Ω—ñ–º —Å–æ“ì—ã—Å—ã</h4>
            <p>–û–ª–∞—Ä —Å—ñ–∑–¥—ñ“£ ”©–Ω—ñ–º–Ω—ñ“£ –∞—Ä–∑–∞–Ω—ã—Ä–∞“õ –Ω“±—Å“õ–∞—Å—ã–Ω —à—ã“ì–∞—Ä–¥—ã. –°—ñ–∑–¥—ñ“£ —Ç–∞“£–¥–∞—É—ã“£—ã–∑:</p>

            <button class="d14-opt" data-e="2" data-change="-3000" data-name="1Ô∏è‚É£ –°–∞–ø–∞–Ω—ã –∞—Ä—Ç—Ç—ã—Ä—É">1Ô∏è‚É£ –°–∞–ø–∞–Ω—ã –∞—Ä—Ç—Ç—ã—Ä—É </button>
            <button class="d14-opt" data-e="2" data-change="-4000" data-name="2Ô∏è‚É£ –ë–∞“ì–∞–Ω—ã —Ç“Ø—Å—ñ—Ä—É">2Ô∏è‚É£ –ë–∞“ì–∞–Ω—ã —Ç“Ø—Å—ñ—Ä—É  </button>
            <button class="d14-opt" data-e="2" data-change="-5000" data-name="3Ô∏è‚É£ –ñ–∞“£–∞ –µ—Ä–µ–∫—à–µ “õ—ã–∑–º–µ—Ç “õ–æ—Å—É">3Ô∏è‚É£ –ñ–∞“£–∞ –µ—Ä–µ–∫—à–µ “õ—ã–∑–º–µ—Ç “õ–æ—Å—É</button>
            <p id="result14_2" class="result"></p>
        </div>
        
        <div id="event14_3" class="event-block" style="margin-top: 20px;">
            <h4>üíº 3. –ñ–∞—Å—ã—Ä—ã–Ω –º“Ø–º–∫—ñ–Ω–¥—ñ–∫</h4>
            <p>–ë“±—Ä—ã–Ω“ì—ã –±”ô—Å–µ–∫–µ–ª–µ—Å “õ—ã–∑–º–µ—Ç–∫–µ—Ä—ñ –æ–ª–∞—Ä–¥—ã“£ –∫–µ–ª–µ—Å—ñ –∂–æ—Å–ø–∞—Ä—ã–Ω –∞–π—Ç—É“ì–∞ –¥–∞–π—ã–Ω. –¢”©–ª–µ–º:</p>
            
            <button class="d14-opt" data-e="3" data-change="-2000" data-name="1Ô∏è‚É£ –¢”©–ª–µ—É">1Ô∏è‚É£ –¢”©–ª–µ—É </button>
            <button class="d14-opt" data-e="3" data-change="0" data-name="2Ô∏è‚É£ –¢”©–ª–µ–º–µ—É">2Ô∏è‚É£ –¢”©–ª–µ–º–µ—É </button>
            <p id="result14_3" class="result"></p>
        </div>

        <button id="finishDay14" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">14-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 15-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===

    function checkCompletionAndEnableFinish() {
        if (completedEvents === totalEvents) {
            document.getElementById("finishDay14").disabled = false;
        }
    }

    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –ë”ô—Å–µ–∫–µ–ª–µ—Å —à—ã“ì—ã–Ω–¥–∞—Ä—ã —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã! –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    function updateVisuals(netChange, resultId, message) {
        capital += netChange;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        document.getElementById('d14-capital-display').innerHTML = capital.toLocaleString() + ' ‚Ç∏';

        document.getElementById(resultId).innerHTML = message;
    }

    // === –ë–ê–†–õ–´“ö –û“ö–ò“í–ê–õ–ê–†–î–´ ”®“¢–î–ï–£ ===
    document.querySelectorAll(".d14-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const eventNumber = btn.dataset.e;
            
            if (answeredEvents[eventNumber]) return;

            const netChange = parseFloat(btn.dataset.change) || 0;
            const profit = parseFloat(btn.dataset.profit) || 0; // 1-–æ“õ–∏“ì–∞–¥–∞“ì—ã “ö–∞—Ä—Å—ã PR-–¥—ã“£ –ø–∞–π–¥–∞—Å—ã “Ø—à—ñ–Ω
            const name = btn.dataset.name;
            const resultId = `result14_${eventNumber}`;
            let totalChange = netChange + profit;
            let resultMessage = "";
            
            // 1-–æ“õ–∏“ì–∞“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∞—Ä–Ω–∞–π—ã –ª–æ–≥–∏–∫–∞
            if (eventNumber === '1') {
                 if (name.includes('“ö–∞—Ä—Å—ã PR')) {
                    // -7,000 ‚Ç∏ —à—ã“ì—ã–Ω + 5,000 ‚Ç∏ –ø–∞–π–¥–∞ = -2,000 ‚Ç∏
                    totalChange = -2000; 
                    resultMessage = `–°—ñ–∑ "${name.split(' ')[0]}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –¢–∞–∑–∞ —à—ã“ì—ã–Ω: <b>${totalChange.toLocaleString()} ‚Ç∏</b>. –ë”ô—Å–µ–∫–µ–ª–µ—Å –±–µ–¥–µ–ª—ñ —Ç”©–º–µ–Ω–¥–µ–¥—ñ.`;
                 } else if (name.includes('–µ–ª–µ–º–µ—É')) {
                    // -10% –∫—ñ—Ä—ñ—Å –∂–æ“ì–∞–ª—Ç—É
                    resultMessage = `–°—ñ–∑ "${name.split(' ')[0]}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –ö—ñ—Ä—ñ—Å –∂–æ“ì–∞–ª—Ç—É: <b>${totalChange.toLocaleString()} ‚Ç∏</b>. –°–µ–Ω—ñ–º 10% —Ç”©–º–µ–Ω–¥–µ–¥—ñ.`;
                 } else {
                    resultMessage = `–°—ñ–∑ "${name.split(' ')[0]}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –®—ã“ì—ã–Ω: <b>${totalChange.toLocaleString()} ‚Ç∏</b>. –ë–µ–¥–µ–ª ”©—Å—Ç—ñ.`;
                 }
            } else {
                 // –ë–∞—Å“õ–∞ –æ“õ–∏“ì–∞–ª–∞—Ä (2-—à—ñ –∂”ô–Ω–µ 3-—à—ñ)
                 resultMessage = `–°—ñ–∑ "${name.split(' ')[0]}" —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –ö–∞–ø–∏—Ç–∞–ª“ì–∞ ”ô—Å–µ—Ä: <b>${totalChange.toLocaleString()} ‚Ç∏</b>.`;
            }
            
            // 3-–æ“õ–∏“ì–∞–¥–∞“ì—ã —Ç”©–ª–µ–º–¥—ñ –∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ —Å–∞“õ—Ç–∞—É
            if (eventNumber === '3' && name.includes('–¢”©–ª–µ—É')) {
                // –ë“±–ª —Ç–µ–∫ –∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥–µ–≥—ñ —Å—Ü–µ–Ω–∞—Ä–∏–π–≥–µ ”ô—Å–µ—Ä –µ—Ç–µ–¥—ñ, —Å–æ–Ω–¥—ã“õ—Ç–∞–Ω –∫–∞–ø–∏—Ç–∞–ª“ì–∞ —Ç–µ–∫ -2000 ‚Ç∏ —à—ã“ì—ã–Ω “õ–æ—Å—ã–ª–∞–¥—ã.
                localStorage.setItem('d14_spy_info', 'true');
            }


            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            updateVisuals(totalChange, resultId, resultMessage);

            document.querySelectorAll(`button[data-e="${eventNumber}"]`).forEach(b => b.disabled = true);
            
            answeredEvents[eventNumber] = true;
            completedEvents++;

            checkCompletionAndEnableFinish();
            checkBankruptcy();
        });
    });
    
    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay14").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 15
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay14").textContent = "15-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay14").disabled = true;

        location.reload(); // 15-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}



// === –î–ï–ù–¨ 15 –õ–û–ì–ò–ö–ê (–ñ–∞“£“ì—ã—Ä—É –º–µ–Ω –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –£–∞“õ—ã—Ç—ã) ===
function setupDay15() {
    const day = 15;
    const day15 = document.getElementById(`day${day}`);

    let completedEvents = 0;
    const totalEvents = 3; 
    let currentCapital = capital;
    const answeredEvents = {}; 
    const costs = {
        office: 9000,
        equipment: 12000,
        training: 6000
    };
    
    // –ë–∞—Ä–ª—ã“õ –æ“õ–∏“ì–∞–ª–∞—Ä–¥—ã“£ –∂–∞–ª–ø—ã —à—ã“ì—ã–Ω—ã–Ω –µ—Å–µ–ø—Ç–µ–π–º—ñ–∑
    const totalCost = costs.office + costs.equipment + costs.training;

    day15.innerHTML = `
        <h3>üí∞ ${day}-–ö“Æ–ù: –ñ–ê“¢“í–´–†–£ –ú–ï–ù –ò–ù–í–ï–°–¢–ò–¶–ò–Ø –£–ê“ö–´–¢–´</h3>
        <p>–°–æ“£“ì—ã –∞–ø—Ç–∞–ª–∞—Ä–¥–∞ –∫–æ–º–ø–∞–Ω–∏—è“£—ã–∑ –∞–π—Ç–∞—Ä–ª—ã“õ—Ç–∞–π ”©—Å—Ç—ñ. –ë—ñ—Ä–∞“õ –µ—Å–∫—ñ —Ç–µ—Ö–Ω–∏–∫–∞ –º–µ–Ω –æ—Ñ–∏—Å –µ–Ω–¥—ñ –¥–∞–º—É—ã“£—ã–∑“ì–∞ –∫–µ–¥–µ—Ä–≥—ñ –±–æ–ª–∞ –±–∞—Å—Ç–∞–¥—ã.</p>
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d15-capital-display">${currentCapital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="investment-choices">
            <div id="event15_1" class="event-block">
                <h4>üè¢ 1. –ñ–∞“£–∞ –û—Ñ–∏—Å–∫–µ –ö”©—à—É (-${costs.office.toLocaleString()} ‚Ç∏)</h4>
                <p>–ö–µ“£, –∑–∞–º–∞–Ω–∞—É–∏ –∫–µ“£—Å–µ–Ω—ñ –∂–∞–ª–¥–∞—É: –ö–æ–º–∞–Ω–¥–∞ –º–æ—Ç–∏–≤–∞—Ü–∏—è—Å—ã ‚Üë, ”©–Ω—ñ–º–¥—ñ–ª—ñ–∫ +20%.</p>
                <button class="d15-opt" data-e="1" data-cost="${costs.office}" data-name="–ñ–∞“£–∞ –û—Ñ–∏—Å">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–ª–∞—É</button>
                <p id="result15_1" class="result"></p>
            </div>

            <div id="event15_2" class="event-block" style="margin-top: 20px;">
                <h4>üíª 2. –ñ–∞–±–¥—ã“õ—Ç–∞—Ä –ñ–∞“£–∞—Ä—Ç—É (-${costs.equipment.toLocaleString()} ‚Ç∏)</h4>
                <p>–ñ–∞“£–∞ –∂–∞–±–¥—ã“õ—Ç–∞—Ä –º–µ–Ω —Å–µ—Ä–≤–µ—Ä–ª–µ—Ä: –ñ“±–º—ã—Å —Ç–∏—ñ–º–¥—ñ–ª—ñ–≥—ñ ‚Üë, —Ç–µ—Ö–Ω–∏–∫–∞–ª—ã“õ –∞“õ–∞—É–ª–∞—Ä ‚Üì.</p>
                <button class="d15-opt" data-e="2" data-cost="${costs.equipment}" data-name="–ñ–∞–±–¥—ã“õ –ñ–∞“£–∞—Ä—Ç—É">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–ª–∞—É</button>
                <p id="result15_2" class="result"></p>
            </div>
            
            <div id="event15_3" class="event-block" style="margin-top: 20px;">
                <h4>üß† 3. –ü–µ—Ä—Å–æ–Ω–∞–ª“ì–∞ –û“õ—ã—Ç—É –ë–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã (-${costs.training.toLocaleString()} ‚Ç∏)</h4>
                <p>–°–µ–º–∏–Ω–∞—Ä–ª–∞—Ä –º–µ–Ω –∫—É—Ä—Å—Ç–∞—Ä: “ö—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä–¥—ñ“£ “õ–∞–±—ñ–ª–µ—Ç—ñ ‚Üë, –±”ô—Å–µ–∫–µ–≥–µ “õ–∞–±—ñ–ª–µ—Ç—Ç—ñ–ª—ñ–∫ –∞—Ä—Ç–∞–¥—ã.</p>
                <button class="d15-opt" data-e="3" data-cost="${costs.training}" data-name="–û“õ—ã—Ç—É">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–ª–∞—É</button>
                <p id="result15_3" class="result"></p>
            </div>
        </div>

        <p style="margin-top: 20px; font-weight: bold;">üìä –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω (–±–∞—Ä–ª—ã“ì—ã–Ω “õ–∞–±—ã–ª–¥–∞—Å–∞): ${totalCost.toLocaleString()} ‚Ç∏</p>
        <p id="final-summary" style="margin-top: 10px;"></p>

        <button id="finishDay15" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">15-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 16-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===

    function checkCompletionAndEnableFinish() {
        if (completedEvents === totalEvents) {
            document.getElementById("finishDay15").disabled = false;
        }
    }

    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–ª–∞—Ä —Ç—ã–º –∞—É—ã—Ä –±–æ–ª–¥—ã! –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    function updateVisuals(cost, resultId, message) {
        capital -= cost;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        document.getElementById('d15-capital-display').innerHTML = capital.toLocaleString() + ' ‚Ç∏';

        document.getElementById(resultId).innerHTML = message;
    }

    // === –ë–ê–†–õ–´“ö –û“ö–ò“í–ê–õ–ê–†–î–´ ”®“¢–î–ï–£ ===
    document.querySelectorAll(".d15-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const eventNumber = btn.dataset.e;
            
            if (answeredEvents[eventNumber]) return;

            const cost = parseInt(btn.dataset.cost);
            const name = btn.dataset.name;
            const resultId = `result15_${eventNumber}`;
            let resultMessage = "";
            
            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É: ”ô—Ä–µ–∫–µ—Ç—Ç—ñ –æ—Ä—ã–Ω–¥–∞—É–¥–∞–Ω –ë“∞–†–´–ù
            if (capital < cost) {
                 alert(`‚ùå –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! (${cost.toLocaleString()} ‚Ç∏ “õ–∞–∂–µ—Ç)`);
                 return;
            }

            // –ê—Ä–Ω–∞–π—ã –ª–æ–≥–∏–∫–∞–Ω—ã —Å–∞“õ—Ç–∞—É (–±–æ–ª–∞—à–∞“õ –∫“Ø–Ω–¥–µ—Ä–≥–µ ”ô—Å–µ—Ä –µ—Ç—É “Ø—à—ñ–Ω)
            if (eventNumber === '1') {
                // +20% ”©–Ω—ñ–º–¥—ñ–ª—ñ–∫ (–∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥–µ—Ä–¥—ñ“£ –∫—ñ—Ä—ñ—Å—ñ–Ω –∞—Ä—Ç—Ç—ã—Ä–∞–¥—ã)
                localStorage.setItem('d15_new_office_bonus', 'true');
                resultMessage = `‚úÖ ${name} –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Å—ã “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã. –®—ã“ì—ã–Ω: -${cost.toLocaleString()} ‚Ç∏. (+20% ”©–Ω—ñ–º–¥—ñ–ª—ñ–∫ —Å–∞“õ—Ç–∞–ª–¥—ã)`;
            } else if (eventNumber === '2') {
                // –¢–µ—Ö–Ω–∏–∫–∞–ª—ã“õ –∞“õ–∞—É–ª–∞—Ä ‚Üì (–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥–µ—Ä–¥–µ —à—ã“ì—ã–Ω–¥—ã –∞–∑–∞–π—Ç–∞–¥—ã)
                localStorage.setItem('d15_equipment_upgrade', 'true');
                resultMessage = `‚úÖ ${name} –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Å—ã “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã. –®—ã“ì—ã–Ω: -${cost.toLocaleString()} ‚Ç∏. (–ê“õ–∞—É–ª–∞—Ä “õ–∞—É–ø—ñ —Ç”©–º–µ–Ω–¥–µ–¥—ñ)`;
            } else if (eventNumber === '3') {
                // “ö—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä–¥—ñ“£ “õ–∞–±—ñ–ª–µ—Ç—ñ ‚Üë
                localStorage.setItem('d15_training_done', 'true');
                resultMessage = `‚úÖ ${name} –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Å—ã “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã. –®—ã“ì—ã–Ω: -${cost.toLocaleString()} ‚Ç∏. (–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∞—Ä—Ç—Ç—ã)`;
            }
            
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            updateVisuals(cost, resultId, resultMessage);

            document.querySelectorAll(`button[data-e="${eventNumber}"]`).forEach(b => b.disabled = true);
            
            answeredEvents[eventNumber] = true;
            completedEvents++;

            // –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã—Å—ã–Ω –∂–∞“£–∞—Ä—Ç—É
            document.getElementById('final-summary').innerHTML = `
                <p style="color: yellow; font-weight: bold;">“ö–∞–±—ã–ª–¥–∞–Ω“ì–∞–Ω –∂–∞–ª–ø—ã —à—ã“ì—ã–Ω: ${(currentCapital - capital).toLocaleString()} ‚Ç∏. –ï–Ω–¥—ñ –±—ñ–∑ –±–∞—Å“õ–∞ –¥–µ“£–≥–µ–π–¥–µ–º—ñ–∑!</p>
            `;

            checkCompletionAndEnableFinish();
            checkBankruptcy();
        });
    });
    
    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay15").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 16
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay15").textContent = "16-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay15").disabled = true;

        location.reload(); // 16-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}



// === –î–ï–ù–¨ 16 –õ–û–ì–ò–ö–ê (“Æ–ª–∫–µ–Ω –®—ã“ì—ã–Ω–¥–∞—Ä –ö“Ø–Ω—ñ) ===
function setupDay16() {
    const day = 16;
    const day16 = document.getElementById(`day${day}`);
    
    // –¢”©–ª–µ–º —Ç—ñ–∑—ñ–º—ñ
    const payments = {
        salary: 25000,
        utilities: 1500,
        rent: 10000,
        bankFees: 5000
    };
    
    // –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω–¥—ã –µ—Å–µ–ø—Ç–µ—É
    const totalCost = payments.salary + payments.utilities + payments.rent + payments.bankFees;

    // 15-–∫“Ø–Ω–¥–µ–≥—ñ –∂–∞“£–∞—Ä—Ç—É–ª–∞—Ä–¥—ã“£ –∫—ñ—Ä—ñ—Å –±”©–ª—ñ–≥—ñ–Ω “õ–æ—Å—É (–µ–≥–µ—Ä –±–∞—Ä –±–æ–ª—Å–∞)
    // 15-–∫“Ø–Ω–¥–µ–≥—ñ "–ñ–∞“£–∞ –û—Ñ–∏—Å" (+20% ”©–Ω—ñ–º–¥—ñ–ª—ñ–∫) –∂”ô–Ω–µ "–¶–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É" (+15% –ø–∞–π–¥–∞) –±–æ–Ω—É—Å
    const isNewOffice = localStorage.getItem('d15_new_office_bonus') === 'true';
    const isDigitalUpgrade = localStorage.getItem('d13_digital_upgrade') === 'true';

    // –ù–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—Ç—ñ –∞–Ω—ã“õ—Ç–∞—É (–ú”ô—Å–µ–ª–µ —à–µ—à—É “Ø—à—ñ–Ω –±–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å “õ–∞–∂–µ—Ç)
    const baseIncome = 18000; 
    let todayIncome = baseIncome;
    let bonusMessage = '';

    // –ë–æ–Ω—É—Å—Ç–∞—Ä–¥—ã –µ—Å–µ–ø—Ç–µ—É
    if (isNewOffice) {
        todayIncome *= 1.20; // +20%
        bonusMessage += `<li>üìà **–ñ–∞“£–∞ –û—Ñ–∏—Å (15-–∫“Ø–Ω):** ”®–Ω—ñ–º–¥—ñ–ª—ñ–∫ +20% (‚âà ${(baseIncome * 0.20).toLocaleString()} ‚Ç∏)</li>`;
    }
    if (isDigitalUpgrade) {
        todayIncome *= 1.15; // +15%
        bonusMessage += `<li>üíª **–¶–∏—Ñ—Ä–ª–∞–Ω–¥—ã—Ä—É (13-–∫“Ø–Ω):** –ü–∞–π–¥–∞ +15% (‚âà ${(baseIncome * 0.15).toLocaleString()} ‚Ç∏)</li>`;
    }

    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; // –ö—ñ—Ä—ñ—Å “õ–æ—Å—ã–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫–∞–ø–∏—Ç–∞–ª

    day16.innerHTML = `
        <h3>üí∏ ${day}-–ö“Æ–ù: “Æ–ª–∫–µ–Ω –®—ã“ì—ã–Ω–¥–∞—Ä –ö“Ø–Ω—ñ</h3>
        <p>“ö–∞—Ä–∂—ã –±”©–ª—ñ–º—ñ –µ—Å–∫–µ—Ä—Ç—É –∂–∞—Å–∞–¥—ã: ¬´–ë“Ø–≥—ñ–Ω ‚Äî —Ç”©–ª–µ–º –∫“Ø–Ω—ñ¬ª.</p>
        
        <p>üí∞ **–ö–Ü–†–Ü–° –ï–°–ï–ë–Ü:**</p>
        <ul style="list-style-type: none; padding-left: 10px;">
            <li>–ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: ${baseIncome.toLocaleString()} ‚Ç∏</li>
            ${bonusMessage ? bonusMessage : '<li>–ë–æ–Ω—É—Å—Ç–∞—Ä –∂–æ“õ.</li>'}
            <li>**–ë“Ø–≥—ñ–Ω–≥—ñ —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å:** ${Math.round(todayIncome).toLocaleString()} ‚Ç∏</li>
        </ul>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d16-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="payment-list">
            <h4>üßæ –ú—ñ–Ω–¥–µ—Ç—Ç—ñ –¢”©–ª–µ–º–¥–µ—Ä:</h4>
            <ul>
                <li>–ñ–∞–ª–∞“õ—ã: **-${payments.salary.toLocaleString()} ‚Ç∏**</li>
                <li>–û—Ñ–∏—Å –∂–∞–ª–¥–∞—É: **-${payments.rent.toLocaleString()} ‚Ç∏**</li>
                <li>–ë–∞–Ω–∫ “õ—ã–∑–º–µ—Ç—ñ: **-${payments.bankFees.toLocaleString()} ‚Ç∏**</li>
                <li>–ö–æ–º–º—É–Ω–∞–ª–¥—ã“õ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä: **-${payments.utilities.toLocaleString()} ‚Ç∏**</li>
            </ul>
            <p style="font-weight: bold;">–ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω: <span style="color: salmon;">-${totalCost.toLocaleString()} ‚Ç∏</span></p>
        </div>

        <button id="makePayment" style="padding: 15px 30px; font-weight: bold; background-color: salmon; color: black; margin-top: 20px;">
            –¢”®–õ–ï–ú–î–ï–†–î–Ü –ñ“Æ–†–ì–Ü–ó–£ ( -${totalCost.toLocaleString()} ‚Ç∏ )
        </button>

        <p id="paymentResult" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>

        <button id="finishDay16" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">16-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 17-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –¢”®–õ–ï–ú –õ–û–ì–ò–ö–ê–°–´ ===
    document.getElementById('makePayment').addEventListener('click', () => {
        if (document.getElementById('makePayment').disabled) return;
        
        // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–≥–µ –¥–µ–π—ñ–Ω)
        if (capital < totalCost) {
            document.getElementById('paymentResult').innerHTML = `
                <p style="color: salmon;">‚ùå “ö–ê–£–Ü–ü–¢–Ü: –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! ${totalCost.toLocaleString()} ‚Ç∏ “õ–∞–∂–µ—Ç, —Å—ñ–∑–¥–µ ${capital.toLocaleString()} ‚Ç∏.</p>
                <p style="color: red;">–°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑!</p>
            `;
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –º–∏–Ω—É—Å“õ–∞ –∂—ñ–±–µ—Ä—É –∂”ô–Ω–µ –æ–π—ã–Ω–¥—ã —Ç–æ“õ—Ç–∞—Ç—É
            capital -= totalCost; 
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            checkBankruptcy();
            document.getElementById('makePayment').disabled = true;
            return;
        }

        // 2. –¢”©–ª–µ–º–¥—ñ –∂“Ø—Ä–≥—ñ–∑—É
        capital -= totalCost;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        
        // 3. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
        document.getElementById('paymentResult').innerHTML = `
            <p style="color: lightgreen;">‚úÖ –ë–∞—Ä–ª—ã“õ —Ç”©–ª–µ–º–¥–µ—Ä —Å”ô—Ç—Ç—ñ –∂“Ø—Ä–≥—ñ–∑—ñ–ª–¥—ñ. –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω: ${totalCost.toLocaleString()} ‚Ç∏.</p>
            <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
        `;
        document.getElementById('d16-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏'; // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
        document.getElementById('makePayment').disabled = true;
        document.getElementById('finishDay16').disabled = false;
        
        // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–Ω–µ–Ω –∫–µ–π—ñ–Ω, “õ–∞–π—Ç–∞ —Ç–µ–∫—Å–µ—Ä—É)
        checkBankruptcy(); 
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ “Æ–ª–∫–µ–Ω —à—ã“ì—ã–Ω–¥–∞—Ä –∫–æ–º–ø–∞–Ω–∏—è–Ω—ã –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç—Ç—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay16").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 17
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay16").textContent = "17-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay16").disabled = true;

        location.reload(); // 17-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}






// === –î–ï–ù–¨ 17 –õ–û–ì–ò–ö–ê (“ö–∞—Ä–∂—ã–ª—ã“õ —Å—ã–Ω–∞“õ - –ñ–ï“¢–Ü–õ–î–ï–¢–Ü–õ–ì–ï–ù –î–ï“¢–ì–ï–ô) ===
function setupDay17() {
    const day = 17;
    const day17 = document.getElementById(`day${day}`);
    
    // –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –µ—Ä–µ–∂–µ–ª–µ—Ä—ñ
    const correctReward = 3000;
    const wrongPenalty = -5000;
    const tolerance = 5; // –ñ–∞—É–∞–ø—Ç—ã“£ “õ–∞—Ç–µ–ª—ñ–∫ –º–∞—Ä–∂–∞—Å—ã (–ï–ù–î–Ü –ö”®–ü –ï–ú–ï–°)

    // üõë –ñ–ê“¢–ê –ñ–ï“¢–Ü–õ–î–ï–¢–Ü–õ–ì–ï–ù –°“∞–†–ê“ö–¢–ê–†
    const quizData = {
        '1': {
            question: '100 000 ‚Ç∏-–Ω—ñ“£ 5%-—ã (—Å–∞–ª—ã“õ) “õ–∞–Ω—à–∞ –±–æ–ª–∞–¥—ã?',
            answer: 5000,
            unit: '‚Ç∏'
        },
        '2': {
            question: '10 –∞–¥–∞–º“ì–∞ 300 000 ‚Ç∏ –∂–∞–ª–∞“õ—ã —Ç”©–ª–µ–Ω—Å–µ, –±—ñ—Ä –∞–¥–∞–º“ì–∞ –æ—Ä—Ç–∞—à–∞ “õ–∞–Ω—à–∞–¥–∞–Ω –∫–µ–ª–µ–¥—ñ?',
            answer: 30000,
            unit: '‚Ç∏'
        },
        '3': {
            question: '–ï“£ –∂—ã–ª–¥–∞–º ”©—Ç—ñ–º–¥—ñ –∞–∫—Ç–∏–≤ “õ–∞–π—Å—ã—Å—ã? (–¢–∞“£–¥–∞—É)',
            answer: '“ö–æ–ª–º–∞-“õ–æ–ª –∞“õ—à–∞', // “ö–æ–ª–º–∞-“õ–æ–ª –∞“õ—à–∞ –Ω–µ–º–µ—Å–µ –¢–∞—É–∞—Ä–ª—ã“õ “õ–æ—Ä
            unit: '—Ç–∞“£–¥–∞—É'
        }
    };
    // üõë –ñ–ê“¢–ê –°“∞–†–ê“ö–¢–ê–†–î–´“¢ –°–û“¢–´
    
    let quizResult = 0; // –û–π—ã–Ω—à—ã–Ω—ã“£ –∂–∏–Ω–∞“ì–∞–Ω –∞“õ—à–∞—Å—ã
    let answeredQuestions = 0;
    const totalQuestions = Object.keys(quizData).length;

    day17.innerHTML = `
        <h3>üß† ${day}-–ö“Æ–ù: “ö–∞—Ä–∂—ã–ª—ã“õ —Å—ã–Ω–∞“õ (–∂–µ“£—ñ–ª–¥–µ—Ç—ñ–ª–≥–µ–Ω –¥–µ“£–≥–µ–π)</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ë“Ø–≥—ñ–Ω —Å—ñ–∑–¥—ñ“£ “õ–∞—Ä–∞–ø–∞–π—ã–º “õ–∞—Ä–∂—ã–ª—ã“õ –±—ñ–ª—ñ–º—ñ“£—ñ–∑ —Å—ã–Ω–∞–ª–∞–¥—ã.</p>
        <blockquote>¬´“ö–∞—Ä–∂—ã–ª—ã“õ —Å–∞—É–∞—Ç—Ç—ã–ª—ã“õ ‚Äì —Ç–∞–±—ã—Å—Ç—ã“£ –Ω–µ–≥—ñ–∑—ñ.¬ª</blockquote>
        
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d17-capital-display">${capital.toLocaleString()} ‚Ç∏</b></p>
        <p>üí° –ï—Ä–µ–∂–µ: –î“±—Ä—ã—Å –∂–∞—É–∞–ø +${correctReward.toLocaleString()} ‚Ç∏, “ö–∞—Ç–µ –∂–∞—É–∞–ø ${wrongPenalty.toLocaleString()} ‚Ç∏.</p>
        <hr>

        <div id="quiz-container">
            <div id="q1" class="quiz-block">
                <h4>1-–ï—Å–µ–ø: “ö–∞—Ä–∞–ø–∞–π—ã–º –ü–∞–π—ã–∑</h4>
                <p><strong>${quizData['1'].question}</strong></p>
                <input type="number" id="input1" placeholder="–°–∞–Ω–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (—Ç–µ“£–≥–µ)">
                <button class="quiz-check" data-q="1">–ñ–∞—É–∞–ø—Ç—ã —Ç–µ–∫—Å–µ—Ä—É</button>
                <p id="r1" class="result"></p>
            </div>

            <div id="q2" class="quiz-block" style="margin-top: 20px;">
                <h4>2-–ï—Å–µ–ø: –û—Ä—Ç–∞—à–∞ –ú”ô–Ω</h4>
                <p><strong>${quizData['2'].question}</strong></p>
                <input type="number" id="input2" placeholder="–°–∞–Ω–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (—Ç–µ“£–≥–µ)">
                <button class="quiz-check" data-q="2">–ñ–∞—É–∞–ø—Ç—ã —Ç–µ–∫—Å–µ—Ä—É</button>
                <p id="r2" class="result"></p>
            </div>

            <div id="q3" class="quiz-block" style="margin-top: 20px;">
                <h4>3-–ï—Å–µ–ø: –ê–∫—Ç–∏–≤—Ç–µ—Ä (–¢–∞“£–¥–∞—É)</h4>
                <p><strong>${quizData['3'].question}</strong></p>
                <button class="q3-opt" data-answer="“ö–æ–ª–º–∞-“õ–æ–ª –∞“õ—à–∞">“ö–æ–ª–º–∞-“õ–æ–ª –∞“õ—à–∞ (Cash)</button>
                <button class="q3-opt" data-answer="–¢–∞—É–∞—Ä–ª—ã“õ “õ–æ—Ä">–¢–∞—É–∞—Ä–ª—ã“õ “õ–æ—Ä (–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è)</button>
                <p id="r3" class="result"></p>
            </div>
        </div>
        
        <button id="finishDay17" disabled style="padding: 15px 30px; font-weight: bold; margin-top: 30px;">
            üèÅ 17-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 18-–ö“Æ–ù–ì–ï ”®–¢–£
        </button>
        <p id="final-summary" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>
    `;

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===

    function checkCompletionAndEnableFinish() {
        if (answeredQuestions === totalQuestions) {
            document.getElementById("finishDay17").disabled = false;
        }
    }

    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ “ö–∞—Ä–∂—ã–ª—ã“õ “õ–∞—Ç–µ–ª—ñ–∫—Ç–µ—Ä —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã! –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    function updateCapitalAndUI(change) {
        // üõë playMoneySound-—Ç—ã –æ—Å—ã –∂–µ—Ä–≥–µ “õ–æ—Å—É –∫–µ—Ä–µ–∫ (–ï–≥–µ—Ä –æ–ª –±–∞—Å“õ–∞ –∂–µ—Ä–¥–µ –∞–Ω—ã“õ—Ç–∞–ª—Å–∞)
        if (typeof playMoneySound === 'function') {
            playMoneySound(change); 
        }

        capital += change;
        localStorage.setItem("capital", capital);
        // updateCapitalDisplay —Ñ—É–Ω–∫—Ü–∏—è—Å—ã –±–∞—Å“õ–∞ –∂–µ—Ä–¥–µ –∞–Ω—ã“õ—Ç–∞–ª“ì–∞–Ω –±–æ–ª—Å–∞
        if (typeof updateCapitalDisplay === 'function') {
             updateCapitalDisplay(capital);
        }
        document.getElementById('d17-capital-display').innerHTML = capital.toLocaleString() + ' ‚Ç∏';
        
        quizResult += change;
        
        // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
        checkBankruptcy();
    }

    function finalizeDay() {
        document.getElementById("final-summary").innerHTML = `
            <h4>üèÅ 17-–ö“Æ–ù “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã—Å—ã:</h4>
            <p style="color: ${quizResult >= 0 ? 'lightgreen' : 'salmon'};">
                –ñ–∞–ª–ø—ã –ø–∞–π–¥–∞/—à—ã“ì—ã–Ω: <b>${quizResult.toLocaleString()} ‚Ç∏</b>
            </p>
            <p><strong>‚úÖ –ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: ${capital.toLocaleString()} ‚Ç∏</strong></p>
        `;
    }

    // === –ñ–ê–£–ê–ü–¢–ê–†–î–´ –¢–ï–ö–°–ï–†–£ –õ–û–ì–ò–ö–ê–°–´ ===

    // 1 & 2-–µ—Å–µ–ø (–°–∞–Ω–¥—ã“õ –∂–∞—É–∞–ø—Ç–∞—Ä)
    document.querySelectorAll(".quiz-check").forEach(btn => {
        btn.addEventListener("click", () => {
            const qNum = btn.dataset.q;
            if (btn.disabled) return;

            const inputElement = document.getElementById(`input${qNum}`);
            const userAnswer = parseInt(inputElement.value);
            const correctAnswer = quizData[qNum].answer;
            const resultDisplay = document.getElementById(`r${qNum}`);
            let change = 0;

            // –ï–≥–µ—Ä —Å–∞–Ω–¥—ã“õ –∂–∞—É–∞–ø –±–æ–ª–º–∞—Å–∞
            if (isNaN(userAnswer)) {
                alert("–°–∞–Ω–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑!");
                return;
            }

            // –¢–æ–ª–µ—Ä–∞–Ω—Ç—Ç—ã–ª—ã“õ–ø–µ–Ω —Ç–µ–∫—Å–µ—Ä—É (–º—ã—Å–∞–ª—ã, 5000 ¬± 5 “õ–∞—Ç–µ)
            if (Math.abs(userAnswer - correctAnswer) <= tolerance) {
                change = correctReward;
                resultDisplay.innerHTML = `<span style="color: lightgreen;">‚úÖ –î“±—Ä—ã—Å! –ü–∞–π–¥–∞: +${change.toLocaleString()} ‚Ç∏</span>`;
            } else {
                change = wrongPenalty;
                resultDisplay.innerHTML = `<span style="color: salmon;">‚ùå “ö–∞—Ç–µ. –®—ã“ì—ã–Ω: ${change.toLocaleString()} ‚Ç∏. –î“±—Ä—ã—Å –∂–∞—É–∞–ø: ${correctAnswer.toLocaleString()} ${quizData[qNum].unit}.</span>`;
            }
            
            // UI –∂–∞“£–∞—Ä—Ç—É
            updateCapitalAndUI(change);
            btn.disabled = true;
            inputElement.disabled = true;
            answeredQuestions++;
            checkCompletionAndEnableFinish();
        });
    });

    // 3-–µ—Å–µ–ø (–¢–∞“£–¥–∞—É –∂–∞—É–∞–±—ã)
    document.querySelectorAll(".q3-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            if (document.getElementById('q3').querySelector('.result').innerHTML !== "") return;
            
            const userAnswer = btn.dataset.answer;
            const correctAnswer = quizData['3'].answer;
            const resultDisplay = document.getElementById(`r3`);
            let change = 0;

            if (userAnswer === correctAnswer) {
                change = correctReward;
                resultDisplay.innerHTML = `<span style="color: lightgreen;">‚úÖ –î“±—Ä—ã—Å! “ö–æ–ª–º–∞-“õ–æ–ª –∞“õ—à–∞ –µ“£ ”©—Ç—ñ–º–¥—ñ –∞–∫—Ç–∏–≤. –ü–∞–π–¥–∞: +${change.toLocaleString()} ‚Ç∏</span>`;
            } else {
                change = wrongPenalty;
                resultDisplay.innerHTML = `<span style="color: salmon;">‚ùå “ö–∞—Ç–µ. –¢–∞—É–∞—Ä–ª—ã“õ “õ–æ—Ä–¥—ã –∞“õ—à–∞“ì–∞ –∞–π–Ω–∞–ª–¥—ã—Ä—É“ì–∞ —É–∞“õ—ã—Ç –∫–µ—Ç–µ–¥—ñ. –®—ã“ì—ã–Ω: ${change.toLocaleString()} ‚Ç∏.</span>`;
            }
            
            // UI –∂–∞“£–∞—Ä—Ç—É
            updateCapitalAndUI(change);
            document.querySelectorAll(".q3-opt").forEach(b => b.disabled = true);
            answeredQuestions++;
            checkCompletionAndEnableFinish();
        });
    });


    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay17").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 18
        
        finalizeDay(); // “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã–Ω—ã –∫”©—Ä—Å–µ—Ç—É
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay17").textContent = "18-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay17").disabled = true;

        location.reload(); // 18-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}


// === –î–ï–ù–¨ 18 –õ–û–ì–ò–ö–ê (–°–∞–ª—ã“õ –ö“Ø–Ω—ñ) ===
function setupDay18() {
    const day = 18;
    const day18 = document.getElementById(`day${day}`);
    
    // –¢”©–ª–µ–º —Ç—ñ–∑—ñ–º—ñ
    const taxPayments = {
        incomeTax: 12000,
        vat: 5000,
        social: 3000,
        ecoFee: 1500
    };
    
    // –ñ–∞–ª–ø—ã —Å–∞–ª—ã“õ —à—ã“ì—ã–Ω—ã–Ω –µ—Å–µ–ø—Ç–µ—É
    const totalTaxCost = taxPayments.incomeTax + taxPayments.vat + taxPayments.social + taxPayments.ecoFee;
    let currentCapital = capital;

    day18.innerHTML = `
        <h3>üßæ ${day}-–ö“Æ–ù: –°–∞–ª—ã“õ –ö“Ø–Ω—ñ ‚Äî ‚Äú–ú–µ–º–ª–µ–∫–µ—Ç —Ç–µ –∫–æ—Ñ–µ —ñ—à–∫—ñ—Å—ñ –∫–µ–ª–µ–¥—ñ‚Äù ‚òï</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ë“Ø–≥—ñ–Ω ‚Äî —Å–∞–ª—ã“õ —Ç”©–ª–µ—É –∫“Ø–Ω—ñ. –ó–∞“£ –∞–ª–¥—ã–Ω–¥–∞“ì—ã –±–æ—Ä—ã—à—Ç—ã ”©—Ç–µ—É “õ–∞–∂–µ—Ç.</p>
        <blockquote>¬´–°–∞–ª—ã“õ ‚Äî –±“±–ª –∂–∞–∑–∞–ª–∞—É –µ–º–µ—Å, –º–µ–º–ª–µ–∫–µ—Ç—Ç—ñ“£ —Å—ñ–∑–¥—ñ“£ —Ç–∞–±—ã—Å—ã“£—ã–∑“ì–∞ “õ—ã–∑—ã“ì—É—à—ã–ª—ã“õ —Ç–∞–Ω—ã—Ç“õ–∞–Ω—ã–Ω—ã“£ –±–µ–ª–≥—ñ—Å—ñ.¬ª</blockquote>
        
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d18-capital-display">${currentCapital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="payment-list">
            <h4>üìÑ –ú—ñ–Ω–¥–µ—Ç—Ç—ñ –°–∞–ª—ã“õ –¢”©–ª–µ–º–¥–µ—Ä—ñ:</h4>
            <ul>
                <li>–¢–∞–±—ã—Å —Å–∞–ª—ã“ì—ã (10%): **-${taxPayments.incomeTax.toLocaleString()} ‚Ç∏**</li>
                <li>“ö–æ—Å—ã–ª“ì–∞–Ω “õ“±–Ω —Å–∞–ª—ã“ì—ã (“ö“ö–°): **-${taxPayments.vat.toLocaleString()} ‚Ç∏**</li>
                <li>”ò–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –∞—É–¥–∞—Ä—ã–º–¥–∞—Ä: **-${taxPayments.social.toLocaleString()} ‚Ç∏**</li>
                <li>–≠–∫–æ–ª–æ–≥–∏—è–ª—ã“õ –∞–ª—ã–º: **-${taxPayments.ecoFee.toLocaleString()} ‚Ç∏**</li>
            </ul>
            <p style="font-weight: bold;">–ñ–∞–ª–ø—ã —Å–∞–ª—ã“õ —Å–æ–º–∞—Å—ã: <span style="color: salmon;">-${totalTaxCost.toLocaleString()} ‚Ç∏</span></p>
        </div>

        <button id="confirmTaxPayment" style="padding: 15px 30px; font-weight: bold; background-color: salmon; color: black; margin-top: 20px;">
            –¢”®–õ–ï–ú–î–ï–†–î–Ü –†–ê–°–¢–ê–£ ( -${totalTaxCost.toLocaleString()} ‚Ç∏ )
        </button>

        <p id="paymentResult" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>

        <button id="finishDay18" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">18-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 19-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –¢”®–õ–ï–ú –õ–û–ì–ò–ö–ê–°–´ ===
    document.getElementById('confirmTaxPayment').addEventListener('click', () => {
        if (document.getElementById('confirmTaxPayment').disabled) return;
        
        // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–≥–µ –¥–µ–π—ñ–Ω)
        if (capital < totalTaxCost) {
            document.getElementById('paymentResult').innerHTML = `
                <p style="color: salmon;">‚ùå “ö–ê–£–Ü–ü–¢–Ü: –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! ${totalTaxCost.toLocaleString()} ‚Ç∏ “õ–∞–∂–µ—Ç, —Å—ñ–∑–¥–µ ${capital.toLocaleString()} ‚Ç∏.</p>
            `;
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –º–∏–Ω—É—Å“õ–∞ –∂—ñ–±–µ—Ä—É –∂”ô–Ω–µ –æ–π—ã–Ω–¥—ã —Ç–æ“õ—Ç–∞—Ç—É
            capital -= totalTaxCost; 
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            checkBankruptcy(); // –ë–∞–Ω–∫—Ä–æ—Ç –±–æ–ª—Å–∞, –æ–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –∂“Ø–∫—Ç–µ–π–¥—ñ
            document.getElementById('confirmTaxPayment').disabled = true;
            return;
        }

        // 2. –¢”©–ª–µ–º–¥—ñ –∂“Ø—Ä–≥—ñ–∑—É
        capital -= totalTaxCost;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        
        // 3. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
        document.getElementById('paymentResult').innerHTML = `
            <p style="color: lightgreen;">‚úÖ –ë–∞—Ä–ª—ã“õ —Å–∞–ª—ã“õ —Ç”©–ª–µ–º–¥–µ—Ä—ñ —Å”ô—Ç—Ç—ñ –∂“Ø—Ä–≥—ñ–∑—ñ–ª–¥—ñ.</p>
            <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            <p class="mt-2">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç: ‚Äú–ï–Ω–¥—ñ –º–µ–º–ª–µ–∫–µ—Ç —Ç–µ –±—ñ–∑–¥—ñ“£ —Ç–∞–±—ã—Å—ã–º—ã–∑–¥–∞–Ω –∞–∑–¥–∞–ø –∫–æ—Ñ–µ —ñ—à—ñ–ø –∞–ª–∞–¥—ã “ì–æ–π...‚Äù ‚òï</p>
        `;
        document.getElementById('d18-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏'; // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
        document.getElementById('confirmTaxPayment').disabled = true;
        document.getElementById('finishDay18').disabled = false;
        
        // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–Ω–µ–Ω –∫–µ–π—ñ–Ω, “õ–∞–π—Ç–∞ —Ç–µ–∫—Å–µ—Ä—É)
        checkBankruptcy(); 
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –°–∞–ª—ã“õ —Ç”©–ª–µ–º–¥–µ—Ä—ñ –∫–æ–º–ø–∞–Ω–∏—è–Ω—ã –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç—Ç—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay18").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 19
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay18").textContent = "19-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay18").disabled = true;

        location.reload(); // 19-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });




}



// === –î–ï–ù–¨ 18 –õ–û–ì–ò–ö–ê (–°–∞–ª—ã“õ –ö“Ø–Ω—ñ) ===
function setupDay18() {
    const day = 18;
    const day18 = document.getElementById(`day${day}`);
    
    // –¢”©–ª–µ–º —Ç—ñ–∑—ñ–º—ñ
    const taxPayments = {
        incomeTax: 12000,
        vat: 5000,
        social: 3000,
        ecoFee: 1500
    };
    
    // –ñ–∞–ª–ø—ã —Å–∞–ª—ã“õ —à—ã“ì—ã–Ω—ã–Ω –µ—Å–µ–ø—Ç–µ—É
    const totalTaxCost = taxPayments.incomeTax + taxPayments.vat + taxPayments.social + taxPayments.ecoFee;
    let currentCapital = capital;

    day18.innerHTML = `
        <h3>üßæ ${day}-–ö“Æ–ù: –°–∞–ª—ã“õ –ö“Ø–Ω—ñ ‚Äî ‚Äú–ú–µ–º–ª–µ–∫–µ—Ç —Ç–µ –∫–æ—Ñ–µ —ñ—à–∫—ñ—Å—ñ –∫–µ–ª–µ–¥—ñ‚Äù ‚òï</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ë“Ø–≥—ñ–Ω ‚Äî —Å–∞–ª—ã“õ —Ç”©–ª–µ—É –∫“Ø–Ω—ñ. –ó–∞“£ –∞–ª–¥—ã–Ω–¥–∞“ì—ã –±–æ—Ä—ã—à—Ç—ã ”©—Ç–µ—É “õ–∞–∂–µ—Ç.</p>
        <blockquote>¬´–°–∞–ª—ã“õ ‚Äî –±“±–ª –∂–∞–∑–∞–ª–∞—É –µ–º–µ—Å, –º–µ–º–ª–µ–∫–µ—Ç—Ç—ñ“£ —Å—ñ–∑–¥—ñ“£ —Ç–∞–±—ã—Å—ã“£—ã–∑“ì–∞ “õ—ã–∑—ã“ì—É—à—ã–ª—ã“õ —Ç–∞–Ω—ã—Ç“õ–∞–Ω—ã–Ω—ã“£ –±–µ–ª–≥—ñ—Å—ñ.¬ª</blockquote>
        
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d18-capital-display">${currentCapital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="income-block" style="border: 2px solid lightgreen; border-radius: 10px; padding: 15px; margin-bottom: 25px; background: rgba(0, 100, 0, 0.5);">
            <h4>üöÄ –ö“Ø—Ç–ø–µ–≥–µ–Ω –ú“Ø–º–∫—ñ–Ω–¥—ñ–∫: –ö–ª–∏–µ–Ω—Ç—Ç–µ–Ω “Æ–ª–∫–µ–Ω –¢”©–ª–µ–º</h4>
            <p>“ö–æ—Å—ã–º—à–∞ –∫–ª–∏–µ–Ω—Ç “Ø–ª–∫–µ–Ω —Ç–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—ñ–ø, –∞–≤–∞–Ω—Å —Ä–µ—Ç—ñ–Ω–¥–µ –±—ñ—Ä–¥–µ–Ω —Ç”©–ª–µ–º –∂–∞—Å–∞–¥—ã.</p>
            <button id="unexpectedIncomeBtn" 
                    data-income="50000" 
                    style="padding: 10px 20px; font-weight: bold; background-color: lightgreen; color: black;">
                –¢–∞–±—ã—Å—Ç—ã –ï—Å–µ–ø—Ç–µ—É (+50 000 ‚Ç∏)
            </button>
            <p id="incomeResult" class="result" style="margin-top: 5px;"></p>
        </div>
        <div id="payment-list">
            <h4>üìÑ –ú—ñ–Ω–¥–µ—Ç—Ç—ñ –°–∞–ª—ã“õ –¢”©–ª–µ–º–¥–µ—Ä—ñ:</h4>
            <ul>
                <li>–¢–∞–±—ã—Å —Å–∞–ª—ã“ì—ã (10%): **-${taxPayments.incomeTax.toLocaleString()} ‚Ç∏**</li>
                <li>“ö–æ—Å—ã–ª“ì–∞–Ω “õ“±–Ω —Å–∞–ª—ã“ì—ã (“ö“ö–°): **-${taxPayments.vat.toLocaleString()} ‚Ç∏**</li>
                <li>”ò–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –∞—É–¥–∞—Ä—ã–º–¥–∞—Ä: **-${taxPayments.social.toLocaleString()} ‚Ç∏**</li>
                <li>–≠–∫–æ–ª–æ–≥–∏—è–ª—ã“õ –∞–ª—ã–º: **-${taxPayments.ecoFee.toLocaleString()} ‚Ç∏**</li>
            </ul>
            <p style="font-weight: bold;">–ñ–∞–ª–ø—ã —Å–∞–ª—ã“õ —Å–æ–º–∞—Å—ã: <span style="color: salmon;">-${totalTaxCost.toLocaleString()} ‚Ç∏</span></p>
        </div>

        <button id="confirmTaxPayment" style="padding: 15px 30px; font-weight: bold; background-color: salmon; color: black; margin-top: 20px;">
            –¢”®–õ–ï–ú–î–ï–†–î–Ü –†–ê–°–¢–ê–£ ( -${totalTaxCost.toLocaleString()} ‚Ç∏ )
        </button>

        <p id="paymentResult" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>

        <button id="finishDay18" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">18-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 19-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –°–∞–ª—ã“õ —Ç”©–ª–µ–º–¥–µ—Ä—ñ –∫–æ–º–ø–∞–Ω–∏—è–Ω—ã –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç—Ç—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    function updateCapitalUI() {
        // updateCapitalDisplay —Ñ—É–Ω–∫—Ü–∏—è—Å—ã –±–∞—Å“õ–∞ –∂–µ—Ä–¥–µ –∞–Ω—ã“õ—Ç–∞–ª“ì–∞–Ω –±–æ–ª—Å–∞
        if (typeof updateCapitalDisplay === 'function') {
             updateCapitalDisplay(capital);
        }
        document.getElementById('d18-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏';
    }

    // üõë –ñ–ê“¢–ê –õ–û–ì–ò–ö–ê: –ö“Æ–¢–ü–ï–ì–ï–ù –¢–ê–ë–´–°
    document.getElementById('unexpectedIncomeBtn').addEventListener('click', handleUnexpectedIncome);

    function handleUnexpectedIncome() {
        const incomeBtn = document.getElementById('unexpectedIncomeBtn');
        if (incomeBtn.disabled) return;

        const incomeAmount = parseInt(incomeBtn.dataset.income); // 50000 ‚Ç∏

        capital += incomeAmount;
        localStorage.setItem("capital", capital);
        
        // UI –∂”ô–Ω–µ –¥—ã–±—ã—Å—Ç—ã –∂–∞“£–∞—Ä—Ç—É
        updateCapitalUI();
        if (typeof playMoneySound === 'function') {
            playMoneySound(incomeAmount); // –ü–∞–π–¥–∞ –¥—ã–±—ã—Å—ã –æ–π–Ω–∞–π–¥—ã
        }
        
        document.getElementById('incomeResult').innerHTML = 
            `<span style="color: lightgreen;">‚úÖ –¢–∞–±—ã—Å –µ—Å–µ–ø—Ç–µ–ª–¥—ñ. –ö–∞–ø–∏—Ç–∞–ª“ì–∞ +${incomeAmount.toLocaleString()} ‚Ç∏ “õ–æ—Å—ã–ª–¥—ã.</span>`;
        
        incomeBtn.disabled = true;
        incomeBtn.textContent = '–¢–∞–±—ã—Å –ï—Å–µ–ø—Ç–µ–ª–≥–µ–Ω';
    }
    // üõë –ñ–ê“¢–ê –õ–û–ì–ò–ö–ê–ù–´“¢ –°–û“¢–´

    // === –¢”®–õ–ï–ú –õ–û–ì–ò–ö–ê–°–´ (”®–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑) ===
    document.getElementById('confirmTaxPayment').addEventListener('click', () => {
        if (document.getElementById('confirmTaxPayment').disabled) return;
        
        // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–≥–µ –¥–µ–π—ñ–Ω)
        if (capital < totalTaxCost) {
            document.getElementById('paymentResult').innerHTML = `
                <p style="color: salmon;">‚ùå “ö–ê–£–Ü–ü–¢–Ü: –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! ${totalTaxCost.toLocaleString()} ‚Ç∏ “õ–∞–∂–µ—Ç, —Å—ñ–∑–¥–µ ${capital.toLocaleString()} ‚Ç∏.</p>
            `;
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –º–∏–Ω—É—Å“õ–∞ –∂—ñ–±–µ—Ä—É –∂”ô–Ω–µ –æ–π—ã–Ω–¥—ã —Ç–æ“õ—Ç–∞—Ç—É
            capital -= totalTaxCost; 
            localStorage.setItem("capital", capital);
            updateCapitalUI();
            
            checkBankruptcy(); // –ë–∞–Ω–∫—Ä–æ—Ç –±–æ–ª—Å–∞, –æ–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –∂“Ø–∫—Ç–µ–π–¥—ñ
            document.getElementById('confirmTaxPayment').disabled = true;
            return;
        }

        // 2. –¢”©–ª–µ–º–¥—ñ –∂“Ø—Ä–≥—ñ–∑—É
        capital -= totalTaxCost;
        localStorage.setItem("capital", capital);

        // üõë –î—ã–±—ã—Å—Ç—ã “õ–æ—Å—É
        if (typeof playMoneySound === 'function') {
            playMoneySound(-totalTaxCost); // –®—ã“ì—ã–Ω –¥—ã–±—ã—Å—ã –æ–π–Ω–∞–π–¥—ã
        }
        
        // 3. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
        document.getElementById('paymentResult').innerHTML = `
            <p style="color: lightgreen;">‚úÖ –ë–∞—Ä–ª—ã“õ —Å–∞–ª—ã“õ —Ç”©–ª–µ–º–¥–µ—Ä—ñ —Å”ô—Ç—Ç—ñ –∂“Ø—Ä–≥—ñ–∑—ñ–ª–¥—ñ.</p>
            <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            <p class="mt-2">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç: ‚Äú–ï–Ω–¥—ñ –º–µ–º–ª–µ–∫–µ—Ç —Ç–µ –±—ñ–∑–¥—ñ“£ —Ç–∞–±—ã—Å—ã–º—ã–∑–¥–∞–Ω –∞–∑–¥–∞–ø –∫–æ—Ñ–µ —ñ—à—ñ–ø –∞–ª–∞–¥—ã “ì–æ–π...‚Äù ‚òï</p>
        `;
        updateCapitalUI(); // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
        document.getElementById('confirmTaxPayment').disabled = true;
        document.getElementById('finishDay18').disabled = false;
        
        // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–Ω–µ–Ω –∫–µ–π—ñ–Ω, “õ–∞–π—Ç–∞ —Ç–µ–∫—Å–µ—Ä—É)
        checkBankruptcy(); 
    });

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã (”®–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑) ===
    document.getElementById("finishDay18").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 19
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay18").textContent = "19-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay18").disabled = true;

        location.reload(); // 19-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}

// === –î–ï–ù–¨ 19 –õ–û–ì–ò–ö–ê (–ö–æ–º–∞–Ω–¥–∞–ª—ã“õ –∫”©“£—ñ–ª –∫”©—Ç–µ—Ä—É –∂”ô–Ω–µ –∫“Ø—Ç–ø–µ–≥–µ–Ω —à—ã“ì—ã–Ω–¥–∞—Ä) ===
function setupDay19() {
    const day = 19;
    const day19 = document.getElementById(`day${day}`);
    
    // –®—ã“ì—ã–Ω–¥–∞—Ä —Ç—ñ–∑—ñ–º—ñ
    const expenses = {
        teambuilding: 8000,
        coffee: 2000,
        gifts: 4000,
        music: 1200,
        taxi: 1500,
        cleaning: 2000,
        birthday: 3500,
        energy: 800
    };
    
    // –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω–¥—ã –µ—Å–µ–ø—Ç–µ—É
    const totalFunCost = 23000; // –ñ–∞–ª–ø—ã —Å–æ–º–∞: 23,000 ‚Ç∏
    let currentCapital = capital;

    day19.innerHTML = `
        <h3>üóì ${day}-–ö“Æ–ù: –ö–æ–º–∞–Ω–¥–∞–ª—ã“õ –∫”©“£—ñ–ª –∫”©—Ç–µ—Ä—É –∂”ô–Ω–µ –∫“Ø—Ç–ø–µ–≥–µ–Ω —à—ã“ì—ã–Ω–¥–∞—Ä</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ö–æ–º–∞–Ω–¥–∞“£—ã–∑ —à–∞—Ä—à–∞“£“õ—ã. –°—ñ–∑ —Ç–∏–º–±–∏–ª–¥–∏–Ω–≥ ”©—Ç–∫—ñ–∑—É–≥–µ —à–µ—à—ñ–º “õ–∞–±—ã–ª–¥–∞–¥—ã“£—ã–∑!</p>
        
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d19-capital-display">${currentCapital.toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="expenses-list">
            <h4>üí∏ –ë“Ø–≥—ñ–Ω–≥—ñ –®—ã“ì—ã–Ω–¥–∞—Ä –¢—ñ–∑—ñ–º—ñ:</h4>
            <ul>
                <li>üçï –¢–∏–º–±–∏–ª–¥–∏–Ω–≥ ”©—Ç–∫—ñ–∑—É: **-${expenses.teambuilding.toLocaleString()} ‚Ç∏**</li>
                <li>‚òï –ö–æ—Ñ–µ, —Ç”ô—Ç—Ç—ñ–ª–µ—Ä: **-${expenses.coffee.toLocaleString()} ‚Ç∏**</li>
                <li>üéÅ “ö—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä–≥–µ —Å—ã–π–ª—ã“õ—Ç–∞—Ä: **-${expenses.gifts.toLocaleString()} ‚Ç∏**</li>
                <li>üé∂ –ú—É–∑—ã–∫–∞ –∂”ô–Ω–µ –±–µ–∑–µ–Ω–¥—ñ—Ä—É: **-${expenses.music.toLocaleString()} ‚Ç∏**</li>
                <li>üöï –¢–∞–∫—Å–∏ –∞“õ—ã—Å—ã: **-${expenses.taxi.toLocaleString()} ‚Ç∏**</li>
                <li>üßπ –û—Ñ–∏—Å—Ç—ñ —Ç–∞–∑–∞–ª–∞—É “õ—ã–∑–º–µ—Ç—ñ: **-${expenses.cleaning.toLocaleString()} ‚Ç∏**</li>
                <li>üíê ”ò—Ä—ñ–ø—Ç–µ—Å —Ç—É“ì–∞–Ω –∫“Ø–Ω—ñ–Ω–µ: **-${expenses.birthday.toLocaleString()} ‚Ç∏**</li>
                <li>üí° –≠–Ω–µ—Ä–≥–∏—è —à—ã“ì—ã–Ω—ã: **-${expenses.energy.toLocaleString()} ‚Ç∏**</li>
            </ul>
            <p style="font-weight: bold;">–ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω —Å–æ–º–∞—Å—ã: <span style="color: salmon;">-${totalFunCost.toLocaleString()} ‚Ç∏</span></p>
            <p class="mt-2" style="font-style: italic;">–ù”ô—Ç–∏–∂–µ: ”®—Ç–µ –∂–∞“õ—Å—ã –º–æ—Ä–∞–ª—å –∂”ô–Ω–µ **–∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–¥–µ–≥—ñ ”©–Ω—ñ–º–¥—ñ–ª—ñ–∫ +10%**.</p>
        </div>

        <button id="confirmFunExpenses" style="padding: 15px 30px; font-weight: bold; background-color: #87CEEB; color: black; margin-top: 20px;">
            –ö”®“¢–Ü–õ –ö”®–¢–ï–†–£–ì–ï –®–´“í–´–ù–î–ê–†–î–´ –†–ê–°–¢–ê–£ ( -${totalFunCost.toLocaleString()} ‚Ç∏ )
        </button>

        <p id="expenseResult" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>

        <button id="finishDay19" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">19-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 20-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –®–´“í–´–ù–î–ê–†–î–´“¢ –õ–û–ì–ò–ö–ê–°–´ ===
    document.getElementById('confirmFunExpenses').addEventListener('click', () => {
        if (document.getElementById('confirmFunExpenses').disabled) return;
        
        // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–≥–µ –¥–µ–π—ñ–Ω)
        if (capital < totalFunCost) {
            document.getElementById('expenseResult').innerHTML = `
                <p style="color: salmon;">‚ùå “ö–ê–£–Ü–ü–¢–Ü: –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! ${totalFunCost.toLocaleString()} ‚Ç∏ “õ–∞–∂–µ—Ç, —Å—ñ–∑–¥–µ ${capital.toLocaleString()} ‚Ç∏.</p>
            `;
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –º–∏–Ω—É—Å“õ–∞ –∂—ñ–±–µ—Ä—É –∂”ô–Ω–µ –æ–π—ã–Ω–¥—ã —Ç–æ“õ—Ç–∞—Ç—É
            capital -= totalFunCost; 
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            checkBankruptcy(); 
            document.getElementById('confirmFunExpenses').disabled = true;
            return;
        }

        // 2. –®—ã“ì—ã–Ω–¥—ã –∂“Ø—Ä–≥—ñ–∑—É
        capital -= totalFunCost;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        
        // 3. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
        document.getElementById('expenseResult').innerHTML = `
            <p style="color: lightgreen;">‚úÖ –ë–∞—Ä–ª—ã“õ —à—ã“ì—ã–Ω–¥–∞—Ä –∂“Ø—Ä–≥—ñ–∑—ñ–ª–¥—ñ. –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω: ${totalFunCost.toLocaleString()} ‚Ç∏.</p>
            <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            <p class="mt-2">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç: ‚Äú–ë–∞—Å–µ–∫–µ“£, Excel –¥–µ –±“Ø–≥—ñ–Ω —Ç–µ–∑ –∞—à—ã–ª–¥—ã!‚Äù</p>
        `;
        document.getElementById('d19-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏'; // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
        document.getElementById('confirmFunExpenses').disabled = true;
        document.getElementById('finishDay19').disabled = false;
        
        // 4. –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ –±–æ–Ω—É—Å —Å–∞“õ—Ç–∞—É
        localStorage.setItem('d19_teambuilding_bonus', 'true'); // 20-–∫“Ø–Ω–¥–µ +10% ”©–Ω—ñ–º–¥—ñ–ª—ñ–∫–∫–µ ”ô—Å–µ—Ä –µ—Ç—É “Ø—à—ñ–Ω
        
        // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–Ω–µ–Ω –∫–µ–π—ñ–Ω)
        checkBankruptcy(); 
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –ö”©“£—ñ–ª –∫”©—Ç–µ—Ä—É–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω —à—ã“ì—ã–Ω–¥–∞—Ä —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã! –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay19").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 20
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay19").textContent = "20-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay19").disabled = true;

        location.reload(); // 20-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}



// === –î–ï–ù–¨ 20 –õ–û–ì–ò–ö–ê (–ñ–ê–†–ù–ê–ú–ê –ñ–û–õ–´–ù –Ü–ó–î–ï–£) ===
function setupDay20() {
    const day = 20;
    const day20 = document.getElementById(`day${day}`);
    
    // 19-–∫“Ø–Ω–Ω—ñ“£ —Ç–∏–º–±–∏–ª–¥–∏–Ω–≥ –±–æ–Ω—É—Å—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
    const isTeambuildingBonus = localStorage.getItem('d19_teambuilding_bonus') === 'true';

    // 20-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000;
    let todayIncome = baseIncome;
    let bonusMessage = '';

    // –ë–æ–Ω—É—Å—Ç—ã “õ–æ—Å—É
    if (isTeambuildingBonus) {
        todayIncome *= 1.10; // +10% ”©–Ω—ñ–º–¥—ñ–ª—ñ–∫
        bonusMessage = `<li>üìà **–¢–∏–º–±–∏–ª–¥–∏–Ω–≥ –ë–æ–Ω—É—Å—ã (19-–∫“Ø–Ω):** ”®–Ω—ñ–º–¥—ñ–ª—ñ–∫ +10% (‚âà ${(baseIncome * 0.10).toLocaleString()} ‚Ç∏)</li>`;
    }

    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É (–¢–µ–∫ –±—ñ—Ä —Ä–µ—Ç)
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; // –ö—ñ—Ä—ñ—Å “õ–æ—Å—ã–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫–∞–ø–∏—Ç–∞–ª

    day20.innerHTML = `
        <h3>üóì ${day}-–ö“Æ–ù ‚Äî –ñ–ê–†–ù–ê–ú–ê –ñ–û–õ–´–ù –Ü–ó–î–ï–£</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –°–æ“£“ì—ã “Ø—à –∫“Ø–Ω–¥–µ —Å–∞—Ç—ã–ª—ã–º 30% —Ç”©–º–µ–Ω–¥–µ–¥—ñ. –ñ–∞—Ä–Ω–∞–º–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Å—ã–Ω ”©–∑–≥–µ—Ä—Ç—É “õ–∞–∂–µ—Ç!</p>
        
        <p>üí∞ **–ö–Ü–†–Ü–° –ï–°–ï–ë–Ü:**</p>
        <ul style="list-style-type: none; padding-left: 10px;">
            <li>–ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: ${baseIncome.toLocaleString()} ‚Ç∏</li>
            ${bonusMessage}
            <li>**–ë“Ø–≥—ñ–Ω–≥—ñ —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å:** ${Math.round(todayIncome).toLocaleString()} ‚Ç∏</li>
        </ul>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d20-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="event20_1" class="event-block">
            <h4>üéØ ‚Äú–ö—ñ–º–Ω—ñ“£ –∂–∞—Ä–Ω–∞–º–∞—Å—ã —Ç–∏—ñ–º–¥—ñ?‚Äù</h4>
            <p>“ö–∞–Ω–¥–∞–π –∂–∞—Ä–Ω–∞–º–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Å—ã–Ω —Ç–∞“£–¥–∞–π—Å—ã–∑?</p>
            
            <button class="d20-opt" data-e="1" data-cost="-8000" data-profit="10000" data-name="1Ô∏è‚É£ –û–Ω–ª–∞–π–Ω –±–∞–Ω–Ω–µ—Ä –∂–∞—Ä–Ω–∞–º–∞—Å—ã">
                1Ô∏è‚É£ –û–Ω–ª–∞–π–Ω –±–∞–Ω–Ω–µ—Ä             </button>
            <button class="d20-opt" data-e="1" data-cost="-12000" data-profit="4000" data-name="2Ô∏è‚É£ –ö”©—à–µ–¥–µ–≥—ñ –±–∞–Ω–Ω–µ—Ä –∂”ô–Ω–µ –ø–ª–∞–∫–∞—Ç—Ç–∞—Ä">
                2Ô∏è‚É£ –ö”©—à–µ–¥–µ–≥—ñ –±–∞–Ω–Ω–µ—Ä             </button>
            <button class="d20-opt" data-e="1" data-cost="-20000" data-profit="25000" data-name="3Ô∏è‚É£ –ë–ª–æ–≥–µ—Ä–º–µ–Ω —Å–µ—Ä—ñ–∫—Ç–µ—Å—Ç—ñ–∫ –∂–∞—Ä–Ω–∞–º–∞">
                3Ô∏è‚É£ –ë–ª–æ–≥–µ—Ä–º–µ–Ω —Å–µ—Ä—ñ–∫—Ç–µ—Å—Ç—ñ–∫             </button>
            <p id="result20_1" class="result"></p>
        </div>

        <button id="finishDay20" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">20-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 21-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –ñ–ê–†–ù–ê–ú–ê –¢–ê“¢–î–ê–£ –õ–û–ì–ò–ö–ê–°–´ ===
    let decisionMade = false;

    document.querySelectorAll(".d20-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            if (decisionMade) return;
            
            const cost = parseInt(btn.dataset.cost) || 0;
            const profit = parseInt(btn.dataset.profit) || 0;
            const name = btn.dataset.name;
            const netCost = cost; // –®—ã“ì—ã–Ω —Ç–µ–∫ –æ—Å—ã –∫“Ø–Ω—ñ –µ—Å–µ–ø—Ç–µ–ª–µ–¥—ñ
            const nextDayProfit = profit; // –ü–∞–π–¥–∞ –∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ —Å–∞“õ—Ç–∞–ª–∞–¥—ã

            // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–®—ã“ì—ã–Ω“ì–∞ –¥–µ–π—ñ–Ω)
            if (capital < Math.abs(cost)) {
                 alert(`‚ùå –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! –ñ–∞—Ä–Ω–∞–º–∞ —à—ã“ì—ã–Ω—ã ${Math.abs(cost).toLocaleString()} ‚Ç∏ “õ–∞–∂–µ—Ç.`);
                 return;
            }

            // 2. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += netCost; // –®—ã“ì—ã–Ω–¥—ã –∞–ª—ã–ø —Ç–∞—Å—Ç–∞—É
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            // 3. –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ –Ω”ô—Ç–∏–∂–µ–Ω—ñ —Å–∞“õ—Ç–∞—É
            localStorage.setItem('d20_ad_profit_next_day', nextDayProfit);
            
            // 4. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            const resultDisplay = document.getElementById('result20_1');
            resultDisplay.innerHTML = `
                üìú –®–µ—à—ñ–º –±–µ–∫—ñ—Ç—ñ–ª–¥—ñ: –°—ñ–∑ **"${name.split(' ')[0]}..."** —Ç–∞“£–¥–∞–¥—ã“£—ã–∑. –®—ã“ì—ã–Ω: ${netCost.toLocaleString()} ‚Ç∏. 
                <br>–ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥—ñ –∫“Ø—Ç—ñ–ª–µ—Ç—ñ–Ω –ø–∞–π–¥–∞: **+${nextDayProfit.toLocaleString()} ‚Ç∏**.
            `;
            document.getElementById('d20-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏'; // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            
            // 5. –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(".d20-opt").forEach(b => b.disabled = true);
            decisionMade = true;
            document.getElementById('finishDay20').disabled = false;
            
            // 6. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            checkBankruptcy();
        });
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –ñ–∞—Ä–Ω–∞–º–∞ —à—ã“ì—ã–Ω—ã —Ç—ã–º –∫”©–ø –±–æ–ª–¥—ã! –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay20").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 21
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay20").textContent = "21-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay20").disabled = true;

        location.reload(); // 21-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}


// === –î–ï–ù–¨ 21 –õ–û–ì–ò–ö–ê (–ê–ô–õ–´“ö –ï–°–ï–ü –ñ”ò–ù–ï –®–´“í–´–ù–î–ê–†) ===
function setupDay21() {
    const day = 21;
    const day21 = document.getElementById(`day${day}`);
    
    // 20-–∫“Ø–Ω–Ω—ñ“£ –∂–∞—Ä–Ω–∞–º–∞ –ø–∞–π–¥–∞—Å—ã–Ω –∞–ª—É
    const adProfit = parseInt(localStorage.getItem('d20_ad_profit_next_day')) || 0;
    
    // 21-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000;
    let todayIncome = baseIncome + adProfit;
    
    let incomeMessage = `<li>üìà **–ñ–∞—Ä–Ω–∞–º–∞ –ü–∞–π–¥–∞—Å—ã (20-–∫“Ø–Ω):** +${adProfit.toLocaleString()} ‚Ç∏</li>`;

    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É (–¢–µ–∫ –±—ñ—Ä —Ä–µ—Ç)
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; // –ö—ñ—Ä—ñ—Å “õ–æ—Å—ã–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫–∞–ø–∏—Ç–∞–ª

    // –ê–π–ª—ã“õ —à—ã“ì—ã–Ω–¥–∞—Ä —Ç—ñ–∑—ñ–º—ñ
    const monthlyExpenses = {
        salary: 30000,
        utilities: 10000,
        rent: 20000,
        bankFees: 10000,
        security: 3500,
        supplies: 8000
    };
    
    // –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω–¥—ã –µ—Å–µ–ø—Ç–µ—É
    const totalMonthlyCost = 81500; // 30000 + 10000 + 20000 + 10000 + 3500 + 8000

    day21.innerHTML = `
        <h3>üóì ${day}-–ö“Æ–ù ‚Äî –ê–ô–õ–´“ö –ï–°–ï–ü –ñ”ò–ù–ï –®–´“í–´–ù–î–ê–†</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ê–π–¥—ã“£ —Å–æ“£“ì—ã –∞–ø—Ç–∞—Å—ã. –ë“Ø–≥—ñ–Ω ‚Äî –∞–π–ª—ã“õ —Ç”©–ª–µ–º –∫“Ø–Ω—ñ.</p>
        
        <p>üí∞ **–ö–Ü–†–Ü–° –ï–°–ï–ë–Ü:**</p>
        <ul style="list-style-type: none; padding-left: 10px;">
            <li>–ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: ${baseIncome.toLocaleString()} ‚Ç∏</li>
            ${adProfit > 0 ? incomeMessage : ''}
            <li>**–ë“Ø–≥—ñ–Ω–≥—ñ —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å:** ${Math.round(todayIncome).toLocaleString()} ‚Ç∏</li>
        </ul>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d21-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="expenses-list">
            <h4>üìä –ê–π–ª—ã“õ –¢”©–ª–µ–º–¥–µ—Ä –¢—ñ–∑—ñ–º—ñ:</h4>
            <ul>
                <li>üíº –ñ–∞–ª–∞“õ—ã: **-${monthlyExpenses.salary.toLocaleString()} ‚Ç∏**</li>
                <li>üè¢ –û—Ñ–∏—Å –∂–∞–ª–¥–∞—É –∞“õ—ã—Å—ã: **-${monthlyExpenses.rent.toLocaleString()} ‚Ç∏**</li>
                <li>üí° –ö–æ–º–º—É–Ω–∞–ª–¥—ã“õ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä: **-${monthlyExpenses.utilities.toLocaleString()} ‚Ç∏**</li>
                <li>üè¶ –ë–∞–Ω–∫ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ: **-${monthlyExpenses.bankFees.toLocaleString()} ‚Ç∏**</li>
                <li>‚òï –ö–æ—Ñ–µ –∂”ô–Ω–µ –∫–µ“£—Å–µ —Ç–∞—É–∞—Ä–ª–∞—Ä—ã: **-${monthlyExpenses.supplies.toLocaleString()} ‚Ç∏**</li>
                <li>üßæ “ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –∂”ô–Ω–µ —Ç–µ—Ö–Ω–∏–∫–∞: **-${monthlyExpenses.security.toLocaleString()} ‚Ç∏**</li>
            </ul>
            <p style="font-weight: bold;">–ñ–∞–ª–ø—ã –∞–π–ª—ã“õ —à—ã“ì—ã–Ω —Å–æ–º–∞—Å—ã: <span style="color: salmon;">-${totalMonthlyCost.toLocaleString()} ‚Ç∏</span></p>
        </div>

        <button id="confirmMonthlyPayment" style="padding: 15px 30px; font-weight: bold; background-color: salmon; color: black; margin-top: 20px;">
            –ê–ô–õ–´“ö –¢”®–õ–ï–ú–î–ï–†–î–Ü –†–ê–°–¢–ê–£ ( -${totalMonthlyCost.toLocaleString()} ‚Ç∏ )
        </button>

        <p id="expenseResult" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>

        <button id="finishDay21" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">21-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 22-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –®–´“í–´–ù–î–ê–†–î–´“¢ –õ–û–ì–ò–ö–ê–°–´ ===
    document.getElementById('confirmMonthlyPayment').addEventListener('click', () => {
        if (document.getElementById('confirmMonthlyPayment').disabled) return;
        
        // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–≥–µ –¥–µ–π—ñ–Ω)
        if (capital < totalMonthlyCost) {
            document.getElementById('expenseResult').innerHTML = `
                <p style="color: salmon;">‚ùå “ö–ê–£–Ü–ü–¢–Ü: –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! –ê–π–ª—ã“õ —à—ã“ì—ã–Ω–¥–∞—Ä ${totalMonthlyCost.toLocaleString()} ‚Ç∏ “õ–∞–∂–µ—Ç, —Å—ñ–∑–¥–µ ${capital.toLocaleString()} ‚Ç∏.</p>
            `;
            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –º–∏–Ω—É—Å“õ–∞ –∂—ñ–±–µ—Ä—É –∂”ô–Ω–µ –æ–π—ã–Ω–¥—ã —Ç–æ“õ—Ç–∞—Ç—É
            capital -= totalMonthlyCost; 
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            checkBankruptcy(); 
            document.getElementById('confirmMonthlyPayment').disabled = true;
            return;
        }

        // 2. –®—ã“ì—ã–Ω–¥—ã –∂“Ø—Ä–≥—ñ–∑—É
        capital -= totalMonthlyCost;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        
        // 3. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
        document.getElementById('expenseResult').innerHTML = `
            <p style="color: lightgreen;">‚úÖ –ë–∞—Ä–ª—ã“õ –∞–π–ª—ã“õ —Ç”©–ª–µ–º–¥–µ—Ä —Å”ô—Ç—Ç—ñ –∂“Ø—Ä–≥—ñ–∑—ñ–ª–¥—ñ. –ñ–∞–ª–ø—ã —à—ã“ì—ã–Ω: ${totalMonthlyCost.toLocaleString()} ‚Ç∏.</p>
            <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            <p class="mt-2">‚Äú–¢”©–ª–µ–º–¥–µ—Ä ‚Äî –±–∏–∑–Ω–µ—Å—Ç—ñ“£ —Ç—ã–Ω—ã—Å—ã. –ë“Ø–≥—ñ–Ω –∞–∑–∞—è—Å—ã“£, –µ—Ä—Ç–µ“£ –µ—Å–µ–ª–µ–ø —Ç–∞–±–∞—Å—ã“£.‚Äù</p>
        `;
        document.getElementById('d21-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏'; // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
        document.getElementById('confirmMonthlyPayment').disabled = true;
        document.getElementById('finishDay21').disabled = false;
        
        // 4. –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ ”ô—Å–µ—Ä –µ—Ç–µ—Ç—ñ–Ω –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä–¥—ñ —Ç–∞–∑–∞–ª–∞—É (–∞–π–ª—ã“õ —Ç”©–ª–µ–º–¥–µ—Ä –∞—è“õ—Ç–∞–ª–¥—ã)
        localStorage.removeItem('d20_ad_profit_next_day'); 
        
        // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢”©–ª–µ–º–Ω–µ–Ω –∫–µ–π—ñ–Ω)
        checkBankruptcy(); 
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –ê–π–ª—ã“õ —à—ã“ì—ã–Ω–¥–∞—Ä —Ç—ã–º –∞—É—ã—Ä –±–æ–ª–¥—ã! –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay21").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 22
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay21").textContent = "22-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay21").disabled = true;

        location.reload(); // 22-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}


// === –î–ï–ù–¨ 22 –õ–û–ì–ò–ö–ê (“ö–ò–´–ù –ú–ê–¢–ï–ú–ê–¢–ò–ö–ê–õ–´“ö –°–´–ù–ê“ö) ===
function setupDay22() {
    const day = 22;
    const day22 = document.getElementById(`day${day}`);
    
    // –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –µ—Ä–µ–∂–µ–ª–µ—Ä—ñ
    const correctReward = 5000;
    const wrongPenalty = -5000;
    
    // –î“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç–∞—Ä
    const correctAnswers = {
        'q1': 'a',
        'q2': 'b',
        'q3': 'a',
        'q4': 'a',
        'q5': 'b'
    };
    
    let quizResult = 0; // –û–π—ã–Ω—à—ã–Ω—ã“£ –∂–∏–Ω–∞“ì–∞–Ω –∞“õ—à–∞—Å—ã
    let answeredQuestions = 0;
    const totalQuestions = Object.keys(correctAnswers).length;
    let currentCapital = capital;

    day22.innerHTML = `
        <h3>üìò ${day}-–ö“Æ–ù: “ö–ò–´–ù –ú–ê–¢–ï–ú–ê–¢–ò–ö–ê–õ–´“ö –°–´–ù–ê“ö</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ë“Ø–≥—ñ–Ω —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–ª—ã“õ –æ–π–ª–∞—É, –ø–∞–π—ã–∑–¥–∞—Ä –∂”ô–Ω–µ –ª–æ–≥–∏–∫–∞ –±–æ–π—ã–Ω—à–∞ “õ–∞–±—ñ–ª–µ—Ç—ñ“£—ñ–∑ —Ç–µ–∫—Å–µ—Ä—ñ–ª–µ–¥—ñ.</p>
        
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª: <b id="d22-capital-display">${currentCapital.toLocaleString()} ‚Ç∏</b></p>
        <p>üí° –ï—Ä–µ–∂–µ: –î“±—Ä—ã—Å –∂–∞—É–∞–ø **+${correctReward.toLocaleString()} ‚Ç∏**, “ö–∞—Ç–µ –∂–∞—É–∞–ø **${wrongPenalty.toLocaleString()} ‚Ç∏**.</p>
        <hr>

        <div id="quiz-container">
            <div id="q1-block" class="quiz-block">
                <h4>1. –ï—Å–µ–ø (–ø–∞–π—ã–∑ –∂”ô–Ω–µ —Ç–∞–±—ã—Å)</h4>
                <p>–ö–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ –∫–∞–ø–∏—Ç–∞–ª—ã 120 000 ‚Ç∏. –ë—ñ—Ä—ñ–Ω—à—ñ –∞–ø—Ç–∞–¥–∞ –∫–∞–ø–∏—Ç–∞–ª 15% –∫”©–±–µ–π–¥—ñ, –µ–∫—ñ–Ω—à—ñ –∞–ø—Ç–∞–¥–∞ ‚Äî 10% –∞–∑–∞–π–¥—ã. –°–æ“£“ì—ã –∫–∞–ø–∏—Ç–∞–ª “õ–∞–Ω—à–∞?</p>
                <div class="options" data-q="q1">
                    <button class="q-opt" data-q="q1" data-answer="a">a) 124 200 ‚Ç∏</button>
                    <button class="q-opt" data-q="q1" data-answer="b">b) 126 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q1" data-answer="c">c) 128 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q1" data-answer="d">d) 120 000 ‚Ç∏</button>
                </div>
                <p id="r1" class="result"></p>
            </div>

            <div id="q2-block" class="quiz-block" style="margin-top: 20px;">
                <h4>2. –ï—Å–µ–ø (–∂–∞–ª–∞“õ—ã –º–µ–Ω –±–æ–Ω—É—Å)</h4>
                <p>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—Ç—ñ“£ –∞–π–ª—ã“ì—ã 60 000 ‚Ç∏. –û–ª –∂–æ—Å–ø–∞—Ä–¥—ã 25% –∞—Å—ã—Ä–∞ –æ—Ä—ã–Ω–¥–∞–¥—ã, –∞–ª –∫–æ–º–ø–∞–Ω–∏—è –±–∞—Ä–ª—ã“õ –∞—Ä—Ç—ã“õ –∂–æ—Å–ø–∞—Ä “Ø—à—ñ–Ω 1% –±–æ–Ω—É—Å —Ç”©–ª–µ–π–¥—ñ. “ö—ã–∑–º–µ—Ç–∫–µ—Ä “õ–∞–Ω—à–∞ –±–æ–Ω—É—Å –∞–ª–∞–¥—ã?</p>
                <div class="options" data-q="q2">
                    <button class="q-opt" data-q="q2" data-answer="a">a) 1 200 ‚Ç∏</button>
                    <button class="q-opt" data-q="q2" data-answer="b">b) 15 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q2" data-answer="c">c) 25 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q2" data-answer="d">d) 12 000 ‚Ç∏</button>
                </div>
                <p id="r2" class="result"></p>
            </div>
            
             <div id="q3-block" class="quiz-block" style="margin-top: 20px;">
                <h4>3. –ï—Å–µ–ø (—à—ã“ì—ã–Ω –∂”ô–Ω–µ “Ø–Ω–µ–º)</h4>
                <p>–ñ–∞—Ä–Ω–∞–º–∞ –±—é–¥–∂–µ—Ç—ñ 30 000 ‚Ç∏. –ë—ñ—Ä—ñ–Ω—à—ñ –∞–π–¥–∞ 40% –∂“±–º—Å–∞–ª–¥—ã, –µ–∫—ñ–Ω—à—ñ –∞–π–¥–∞ “õ–∞–ª“ì–∞–Ω–Ω—ã“£ 50%-—ã –∂“±–º—Å–∞–ª–¥—ã. “ö–∞–Ω—à–∞ –∞“õ—à–∞ “õ–∞–ª–¥—ã?</p>
                <div class="options" data-q="q3">
                    <button class="q-opt" data-q="q3" data-answer="a">a) 8 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q3" data-answer="b">b) 10 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q3" data-answer="c">c) 9 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q3" data-answer="d">d) 7 000 ‚Ç∏</button>
                </div>
                <p id="r3" class="result"></p>
            </div>

            <div id="q4-block" class="quiz-block" style="margin-top: 20px;">
                <h4>4. –ï—Å–µ–ø (–ª–æ–≥–∏–∫–∞–ª—ã“õ)</h4>
                <p>–ï–≥–µ—Ä –∫–æ–º–ø–∞–Ω–∏—è 3 –∂–æ–±–∞–Ω—ã 6 –∫“Ø–Ω–¥–µ –∞—è“õ—Ç–∞—Å–∞, 9 –∂–æ–±–∞–Ω—ã –Ω–µ—à–µ –∫“Ø–Ω–¥–µ –∞—è“õ—Ç–∞–π–¥—ã (–∂“±–º—ã—Å—à—ã–ª–∞—Ä —Å–∞–Ω—ã ”©–∑–≥–µ—Ä–º–µ—Å–µ)?</p>
                <div class="options" data-q="q4">
                    <button class="q-opt" data-q="q4" data-answer="a">a) 12 –∫“Ø–Ω</button>
                    <button class="q-opt" data-q="q4" data-answer="b">b) 15 –∫“Ø–Ω</button>
                    <button class="q-opt" data-q="q4" data-answer="c">c) 9 –∫“Ø–Ω</button>
                    <button class="q-opt" data-q="q4" data-answer="d">d) 18 –∫“Ø–Ω</button>
                </div>
                <p id="r4" class="result"></p>
            </div>

            <div id="q5-block" class="quiz-block" style="margin-top: 20px;">
                <h4>5. –ï—Å–µ–ø (–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è)</h4>
                <p>–ò–Ω–≤–µ—Å—Ç–æ—Ä 100 000 ‚Ç∏ —Å–∞–ª—ã–ø, –∂—ã–ª—ã–Ω–∞ 12% —Ç–∞–±—ã—Å —Ç–∞–±–∞–¥—ã. 2 –∂—ã–ª–¥–∞–Ω –∫–µ–π—ñ–Ω –æ–Ω—ã“£ –∫–∞–ø–∏—Ç–∞–ª—ã “õ–∞–Ω—à–∞ –±–æ–ª–∞–¥—ã (“õ“±—Ä–∞–º–∞ –ø–∞–π—ã–∑–±–µ–Ω)?</p>
                <div class="options" data-q="q5">
                    <button class="q-opt" data-q="q5" data-answer="a">a) 124 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q5" data-answer="b">b) 125 440 ‚Ç∏</button>
                    <button class="q-opt" data-q="q5" data-answer="c">c) 126 000 ‚Ç∏</button>
                    <button class="q-opt" data-q="q5" data-answer="d">d) 120 000 ‚Ç∏</button>
                </div>
                <p id="r5" class="result"></p>
            </div>
        </div>
        
        <button id="finishDay22" disabled style="padding: 15px 30px; font-weight: bold; margin-top: 30px;">
            üèÅ 22-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 23-–ö“Æ–ù–ì–ï ”®–¢–£
        </button>
        <p id="final-summary" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>
    `;

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===

    function checkCompletionAndEnableFinish() {
        if (answeredQuestions === totalQuestions) {
            document.getElementById("finishDay22").disabled = false;
            finalizeDay();
        }
    }

    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞–¥–∞“ì—ã —à—ã“ì—ã–Ω–¥–∞—Ä –∫–æ–º–ø–∞–Ω–∏—è–Ω—ã –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç—Ç—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    function updateCapitalAndUI(change, resultId) {
        capital += change;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        document.getElementById('d22-capital-display').innerHTML = capital.toLocaleString() + ' ‚Ç∏';
        
        quizResult += change;
        
        document.getElementById(resultId).innerHTML += ` (”®–∑–≥–µ—Ä—ñ—Å: ${change.toLocaleString()} ‚Ç∏)`;
        
        checkBankruptcy();
    }

    function finalizeDay() {
        document.getElementById("final-summary").innerHTML = `
            <h4>üèÅ 22-–ö“Æ–ù “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã—Å—ã:</h4>
            <p style="color: ${quizResult >= 0 ? 'lightgreen' : 'salmon'};">
                –ñ–∞–ª–ø—ã –ø–∞–π–¥–∞/—à—ã“ì—ã–Ω: <b>${quizResult.toLocaleString()} ‚Ç∏</b>
            </p>
            <p><strong>‚úÖ –ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: ${capital.toLocaleString()} ‚Ç∏</strong></p>
        `;
    }

    // === –ñ–ê–£–ê–ü–¢–ê–†–î–´ –¢–ï–ö–°–ï–†–£ –õ–û–ì–ò–ö–ê–°–´ ===
    document.querySelectorAll(".q-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const qId = btn.dataset.q;
            const userAnswer = btn.dataset.answer;
            
            // –ï–≥–µ—Ä —Å“±—Ä–∞“õ“õ–∞ –∂–∞—É–∞–ø –±–µ—Ä—ñ–ª–≥–µ–Ω –±–æ–ª—Å–∞, —Ç–æ“õ—Ç–∞—Ç—É
            if (document.querySelector(`#${qId}-block`).classList.contains('answered')) return;

            const correctAnswer = correctAnswers[qId];
            const resultDisplay = document.getElementById(`r${qId.slice(1)}`);
            let change = 0;

            if (userAnswer === correctAnswer) {
                change = correctReward;
                resultDisplay.innerHTML = `<span style="color: lightgreen;">‚úÖ –î“±—Ä—ã—Å –∂–∞—É–∞–ø!</span>`;
            } else {
                change = wrongPenalty;
                resultDisplay.innerHTML = `<span style="color: salmon;">‚ùå “ö–∞—Ç–µ –∂–∞—É–∞–ø.</span>`;
            }
            
            // UI –∂–∞“£–∞—Ä—Ç—É
            updateCapitalAndUI(change, `r${qId.slice(1)}`);
            
            // –ñ–∞—É–∞–ø –±–µ—Ä—ñ–ª–¥—ñ –¥–µ–ø –±–µ–ª–≥—ñ–ª–µ—É
            document.querySelector(`#${qId}-block`).classList.add('answered');
            document.querySelectorAll(`button[data-q="${qId}"]`).forEach(b => b.disabled = true);
            answeredQuestions++;
            
            checkCompletionAndEnableFinish();
        });
    });


    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay22").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 23
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay22").textContent = "23-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay22").disabled = true;

        location.reload(); // 23-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}

// === –î–ï–ù–¨ 23 –õ–û–ì–ò–ö–ê (–ü–°–ò–•–û–õ–û–ì–ò–Ø–õ–´“ö –ë–ò–ó–ù–ï–°-–¢–ï–°–¢) ===
function setupDay23() {
    const day = 23;
    const day23 = document.getElementById(`day${day}`);
    
    // –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –µ—Ä–µ–∂–µ–ª–µ—Ä—ñ
    const correctReward = 5000;
    const wrongPenalty = -5000;

    // 23-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000; 
    
    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É
    capital += baseIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; // –ö—ñ—Ä—ñ—Å “õ–æ—Å—ã–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫–∞–ø–∏—Ç–∞–ª
    
    // –î“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç–∞—Ä (–±“±–ª –∂–µ—Ä–¥–µ 'a', 'b', 'c', 'd' —Ç–∞“£–¥–∞—É–ª–∞—Ä—ã–Ω–∞ —Å–∞–π)
    const correctAnswers = {
        'q1': 'b', // –ñ–µ–∫–µ —Å”©–π–ª–µ—Å—ñ–ø, —Å–µ–±–µ–ø—Ç–µ—Ä—ñ–Ω –±—ñ–ª—É
        'q2': 'b', // –¢–∞–ª–¥–∞—É –∂–∞—Å–∞–ø, —Ç”ô—É–µ–∫–µ–ª –º–µ–Ω —Ç–∞–±—ã—Å—Ç—ã –µ—Å–µ–ø—Ç–µ—É
        'q3': 'b', // “∞–∂—ã–º–¥—ã“õ –∫–µ–∑–¥–µ—Å—É ”©—Ç–∫—ñ–∑—ñ–ø, –ø—ñ–∫—ñ—Ä–ª–µ—Ä—ñ–Ω —Ç—ã“£–¥–∞—É
        'q4': 'b', // –¢–µ–∑ –∞—Ä–∞–¥–∞ —Ç“Ø–∑–µ—Ç—É (—ç—Ç–∏–∫–∞–ª—ã“õ)
        'q5': 'a'  // –î–µ–º–∞–ª—ã—Å –∞–ª–∞–º.
    };
    
    let quizResult = 0; // –û–π—ã–Ω—à—ã–Ω—ã“£ –∂–∏–Ω–∞“ì–∞–Ω –∞“õ—à–∞—Å—ã
    let answeredQuestions = 0;
    const totalQuestions = Object.keys(correctAnswers).length;

    day23.innerHTML = `
        <h3>üß† ${day}-–ö“Æ–ù: –ü–°–ò–•–û–õ–û–ì–ò–Ø–õ–´“ö –ë–ò–ó–ù–ï–°-–¢–ï–°–¢</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –°—ñ–∑–¥—ñ“£ –ª–∏–¥–µ—Ä–ª—ñ–∫ —Å—Ç–∏–ª—ñ“£—ñ–∑ –±–µ–Ω —ç–º–æ—Ü–∏—è–ª—ã“õ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—ñ“£—ñ–∑ —Å—ã–Ω–∞–ª–∞–¥—ã.</p>
        <blockquote>¬´–ö”©—à–±–∞—Å—à—ã –±–æ–ª—É ‚Äî –±“±–π—Ä—ã“õ –±–µ—Ä—É –µ–º–µ—Å, –∞–¥–∞–º–¥–∞—Ä–¥—ã –µ—Ä—ñ–∫—Ç—ñ —Ç“Ø—Ä–¥–µ —Å–æ“£—ã–Ω–∞–Ω –µ—Ä—Ç—É.¬ª</blockquote>
        
        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d23-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <p>üí° –ï—Ä–µ–∂–µ: –î“±—Ä—ã—Å –∂–∞—É–∞–ø **+${correctReward.toLocaleString()} ‚Ç∏**, “ö–∞—Ç–µ –∂–∞—É–∞–ø **${wrongPenalty.toLocaleString()} ‚Ç∏**.</p>
        <hr>

        <div id="quiz-container">
            <div id="q1-block" class="quiz-block">
                <h4>1. –ö–û–ú–ê–ù–î–ê–î–ê“í–´ –î–ê“í–î–ê–†–´–°</h4>
                <p>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—ñ“£—ñ–∑ —Å–æ“£“ì—ã –∞–ø—Ç–∞–¥–∞ –∂–∏—ñ “õ–∞—Ç–µ–ª–µ—Å—ñ–ø –∂“Ø—Ä. –ë—ñ—Ä–∞“õ –æ–ª —Å—ñ–∑–≥–µ –∞–¥–∞–ª –∂”ô–Ω–µ –±“±—Ä—ã–Ω –∂–∞“õ—Å—ã –Ω”ô—Ç–∏–∂–µ –∫”©—Ä—Å–µ—Ç–∫–µ–Ω. –°—ñ–∑–¥—ñ“£ —à–µ—à—ñ–º—ñ“£—ñ–∑:</p>
                <div class="options" data-q="q1">
                    <button class="q-opt" data-q="q1" data-answer="a">a) –î–µ—Ä–µ—É –∂“±–º—ã—Å—Ç–∞–Ω –±–æ—Å–∞—Ç—É.</button>
                    <button class="q-opt" data-q="q1" data-answer="b">b) –ñ–µ–∫–µ —Å”©–π–ª–µ—Å—ñ–ø, —Å–µ–±–µ–ø—Ç–µ—Ä—ñ–Ω –±—ñ–ª—É.</button>
                    <button class="q-opt" data-q="q1" data-answer="c">c) –ú—ñ–Ω–¥–µ—Ç—Ç–µ—Ä—ñ–Ω –∞–∑–∞–π—Ç—É –∂”ô–Ω–µ –±–∞—Å“õ–∞“ì–∞ –±–µ—Ä—É.</button>
                    <button class="q-opt" data-q="q1" data-answer="d">d) –ï–ª–µ–º–µ—É ‚Äî —É–∞“õ—ã—Ç ”©–∑—ñ —Ç“Ø–∑–µ—Ç–µ–¥—ñ.</button>
                </div>
                <p id="r1" class="result"></p>
            </div>

            <div id="q2-block" class="quiz-block" style="margin-top: 20px;">
                <h4>2. –¢”ò–£–ï–ö–ï–õ –ú”ò–°–ï–õ–ï–°–Ü</h4>
                <p>–°–µ—Ä—ñ–∫—Ç–µ—Å –∫–æ–º–ø–∞–Ω–∏—è –∂–∞“£–∞ –∂–æ–±–∞–Ω—ã “±—Å—ã–Ω–¥—ã ‚Äî —Ç–∞–±—ã—Å “Ø–ª–∫–µ–Ω, –±—ñ—Ä–∞“õ —Ç”ô—É–µ–∫–µ–ª –¥–µ –∂–æ“ì–∞—Ä—ã. –°—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑:</p>
                <div class="options" data-q="q2">
                    <button class="q-opt" data-q="q2" data-answer="a">a) “ö–∞—Ç—Ç—ã —Ç”ô—É–µ–∫–µ–ª–≥–µ –±–∞—Ä—ã–ø, –±–∞—Ä–ª—ã“õ “õ–∞—Ä–∞–∂–∞—Ç—Ç—ã —Å–∞–ª—É.</button>
                    <button class="q-opt" data-q="q2" data-answer="b">b) –¢–∞–ª–¥–∞—É –∂–∞—Å–∞–ø, —Ç”ô—É–µ–∫–µ–ª –º–µ–Ω —Ç–∞–±—ã—Å—Ç—ã –µ—Å–µ–ø—Ç–µ—É.</button>
                    <button class="q-opt" data-q="q2" data-answer="c">c) “ö–æ—Ä“õ—ã–ø –±–∞—Å —Ç–∞—Ä—Ç—É.</button>
                    <button class="q-opt" data-q="q2" data-answer="d">d) –°–µ—Ä—ñ–∫—Ç–µ—Å–∫–µ –±–∞—Ä –∂–∞—É–∞–ø–∫–µ—Ä—à—ñ–ª—ñ–∫—Ç—ñ –∞—Ä—Ç—É.</button>
                </div>
                <p id="r2" class="result"></p>
            </div>
            
             <div id="q3-block" class="quiz-block" style="margin-top: 20px;">
                <h4>3. –ö–û–ú–ê–ù–î–ê –ú–û–¢–ò–í–ê–¶–ò–Ø–°–´</h4>
                <p>“ö—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä —Å–æ“£“ì—ã —É–∞“õ—ã—Ç—Ç–∞ —à–∞—Ä—à–∞“ì–∞–Ω, –º–æ—Ç–∏–≤–∞—Ü–∏—è—Å—ã —Ç”©–º–µ–Ω. –°—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑:</p>
                <div class="options" data-q="q3">
                    <button class="q-opt" data-q="q3" data-answer="a">a) “ö–∞—Ç–∞“£ –±–∞“õ—ã–ª–∞—É –æ—Ä–Ω–∞—Ç—ã–ø, –∂–∞–∑–∞–ª–∞—É –∂“Ø–π–µ—Å—ñ–Ω –µ–Ω–≥—ñ–∑—É.</button>
                    <button class="q-opt" data-q="q3" data-answer="b">b) “∞–∂—ã–º–¥—ã“õ –∫–µ–∑–¥–µ—Å—É ”©—Ç–∫—ñ–∑—ñ–ø, –ø—ñ–∫—ñ—Ä–ª–µ—Ä—ñ–Ω —Ç—ã“£–¥–∞—É.</button>
                    <button class="q-opt" data-q="q3" data-answer="c">c) “Æ–Ω–¥–µ–º–µ–π ”©–∑—ñ“£—ñ–∑ —ñ—Å—Ç–µ–π –±–µ—Ä—É.</button>
                    <button class="q-opt" data-q="q3" data-answer="d">d) –¢–µ–∫ –∞“õ—à–∞ –±–æ–Ω—É—Å—ã–Ω –∞—Ä—Ç—Ç—ã—Ä—É.</button>
                </div>
                <p id="r3" class="result"></p>
            </div>

            <div id="q4-block" class="quiz-block" style="margin-top: 20px;">
                <h4>4. –°–´–ù–ê“ö–¢–ê–ù ”®–¢–£ (–≠—Ç–∏–∫–∞)</h4>
                <p>–ò–Ω—Å–ø–µ–∫—Ü–∏—è –∫–µ–Ω–µ—Ç—Ç–µ–Ω –∫–µ–ª—ñ–ø, –∫—ñ—à—ñ–≥—ñ—Ä—ñ–º –∑–∞“£ –±“±–∑—É—à—ã–ª—ã“õ —Ç–∞—É—ã–ø –∞–ª–¥—ã. –°—ñ–∑–¥–µ –æ–Ω—ã —Ç“Ø–∑–µ—Ç—É–≥–µ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–∞—Ä. –°—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑:</p>
                <div class="options" data-q="q4">
                    <button class="q-opt" data-q="q4" data-answer="a">a) –ñ–∞—Å—ã—Ä—É.</button>
                    <button class="q-opt" data-q="q4" data-answer="b">b) –¢–µ–∑ –∞—Ä–∞–¥–∞ —Ç“Ø–∑–µ—Ç—É.</button>
                    <button class="q-opt" data-q="q4" data-answer="c">c) –ê–π—ã–ø–ø“±–ª —Ç”©–ª–µ—É–¥—ñ –∫“Ø—Ç—É.</button>
                    <button class="q-opt" data-q="q4" data-answer="d">d) –ë”ô—Å–µ–∫–µ–ª–µ—Å—Ç—ñ –∫—ñ–Ω”ô–ª–∞—É.</button>
                </div>
                <p id="r4" class="result"></p>
            </div>

            <div id="q5-block" class="quiz-block" style="margin-top: 20px;">
                <h4>5. ”®–ó–Ü“¢–Ü–ó–ì–ï –°“∞–†–ê“ö (–õ–∏–¥–µ—Ä–¥—ñ“£ —à–∞—Ä—à–∞—É—ã)</h4>
                <p>–°–æ“£“ì—ã –∞–π–ª–∞—Ä–¥–∞ —Å—ñ–∑–¥—ñ“£ –±–∏–∑–Ω–µ—Å—ñ“£—ñ–∑ ”©—Å—Ç—ñ, –±—ñ—Ä–∞“õ —à–∞—Ä—à–∞—É –¥–∞ –∞—Ä—Ç—Ç—ã. –°—ñ–∑ –Ω–µ —ñ—Å—Ç–µ—Ä –µ–¥—ñ“£—ñ–∑?</p>
                <div class="options" data-q="q5">
                    <button class="q-opt" data-q="q5" data-answer="a">a) –î–µ–º–∞–ª—ã—Å –∞–ª–∞–º.</button>
                    <button class="q-opt" data-q="q5" data-answer="b">b) ”ò–ª—ñ –±—ñ—Ä–∞–∑ –∂“±–º—ã—Å —ñ—Å—Ç–µ–π–º—ñ–Ω, —Å–æ—Å—ã–Ω.</button>
                    <button class="q-opt" data-q="q5" data-answer="c">c) –ë–∞—Ä–ª—ã“õ –∂–∞—É–∞–ø–∫–µ—Ä—à—ñ–ª—ñ–∫—Ç—ñ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∫–µ –±–µ—Ä–µ–º.</button>
                    <button class="q-opt" data-q="q5" data-answer="d">d) –≠–Ω–µ—Ä–≥–∏—è —Å—É—Å—ã–Ω–¥–∞—Ä—ã–Ω —ñ—à—ñ–ø –∂–∞–ª“ì–∞—Å—Ç—ã—Ä–∞–º.</button>
                </div>
                <p id="r5" class="result"></p>
            </div>
        </div>
        
        <button id="finishDay23" disabled style="padding: 15px 30px; font-weight: bold; margin-top: 30px;">
            üèÅ 23-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 24-–ö“Æ–ù–ì–ï ”®–¢–£
        </button>
        <p id="final-summary" style="margin-top: 15px; font-size: 1.1em; font-weight: bold;"></p>
    `;

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===

    function checkCompletionAndEnableFinish() {
        if (answeredQuestions === totalQuestions) {
            document.getElementById("finishDay23").disabled = false;
            finalizeDay();
        }
    }

    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ —Ç–µ—Å—Ç—Ç–µ–≥—ñ “õ–∞—Ç–µ —à–µ—à—ñ–º–¥–µ—Ä–¥—ñ“£ “õ–∞—Ä–∂—ã–ª—ã“õ —Å–∞–ª–¥–∞—Ä—ã –∞—É—ã—Ä –±–æ–ª–¥—ã! –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    function updateCapitalAndUI(change, resultId) {
        capital += change;
        localStorage.setItem("capital", capital);
        updateCapitalDisplay(capital);
        document.getElementById('d23-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏';
        
        quizResult += change;
        
        document.getElementById(resultId).innerHTML += ` (”®–∑–≥–µ—Ä—ñ—Å: ${change.toLocaleString()} ‚Ç∏)`;
        
        checkBankruptcy();
    }

    function finalizeDay() {
        document.getElementById("final-summary").innerHTML = `
            <h4>üèÅ 23-–ö“Æ–ù “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã—Å—ã:</h4>
            <p style="color: ${quizResult >= 0 ? 'lightgreen' : 'salmon'};">
                –ñ–∞–ª–ø—ã –ø–∞–π–¥–∞/—à—ã“ì—ã–Ω (–¢–µ—Å—Ç—Ç–µ–Ω): <b>${quizResult.toLocaleString()} ‚Ç∏</b>
            </p>
            <p><strong>‚úÖ –ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: ${Math.round(capital).toLocaleString()} ‚Ç∏</strong></p>
        `;
    }

    // === –ñ–ê–£–ê–ü–¢–ê–†–î–´ –¢–ï–ö–°–ï–†–£ –õ–û–ì–ò–ö–ê–°–´ ===
    document.querySelectorAll(".q-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            const qId = btn.dataset.q;
            const userAnswer = btn.dataset.answer;
            
            // –ï–≥–µ—Ä —Å“±—Ä–∞“õ“õ–∞ –∂–∞—É–∞–ø –±–µ—Ä—ñ–ª–≥–µ–Ω –±–æ–ª—Å–∞, —Ç–æ“õ—Ç–∞—Ç—É
            if (document.querySelector(`#${qId}-block`).classList.contains('answered')) return;

            const correctAnswer = correctAnswers[qId];
            const resultDisplay = document.getElementById(`r${qId.slice(1)}`);
            let change = 0;

            if (userAnswer === correctAnswer) {
                change = correctReward;
                resultDisplay.innerHTML = `<span style="color: lightgreen;">‚úÖ –î“±—Ä—ã—Å —à–µ—à—ñ–º!</span>`;
            } else {
                change = wrongPenalty;
                resultDisplay.innerHTML = `<span style="color: salmon;">‚ùå “ö–∞—Ç–µ —à–µ—à—ñ–º. –î“±—Ä—ã—Å –∂–∞—É–∞–ø: ${correctAnswer}.</span>`;
            }
            
            // UI –∂–∞“£–∞—Ä—Ç—É
            updateCapitalAndUI(change, `r${qId.slice(1)}`);
            
            // –ñ–∞—É–∞–ø –±–µ—Ä—ñ–ª–¥—ñ –¥–µ–ø –±–µ–ª–≥—ñ–ª–µ—É
            document.querySelector(`#${qId}-block`).classList.add('answered');
            document.querySelectorAll(`button[data-q="${qId}"]`).forEach(b => b.disabled = true);
            answeredQuestions++;
            
            checkCompletionAndEnableFinish();
        });
    });


    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay23").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 24
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay23").textContent = "24-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay23").disabled = true;

        location.reload(); // 24-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}

// === –î–ï–ù–¨ 24 –õ–û–ì–ò–ö–ê (“ö–´–ó–ú–ï–¢–ö–ï–†–î–Ü“¢ –ñ–ê–†–ê“ö–ê–¢ –ê–õ–£–´) ===
function setupDay24() {
    const day = 24;
    const day24 = document.getElementById(`day${day}`);
    
    // 24-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000; 
    
    // –ú—ñ–Ω–¥–µ—Ç—Ç—ñ –±–∞—Å—Ç–∞–ø“õ—ã —à—ã“ì—ã–Ω–¥–∞—Ä
    const mandatoryCost = 19500;
    
    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É
    capital += baseIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);

    // –ú—ñ–Ω–¥–µ—Ç—Ç—ñ —à—ã“ì—ã–Ω–¥–∞—Ä–¥—ã –∫–∞–ø–∏—Ç–∞–ª–¥–∞–Ω –∞–ª—É
    capital -= mandatoryCost;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; 

    // –ï–≥–µ—Ä –∫–∞–ø–∏—Ç–∞–ª –º–∏–Ω—É—Å“õ–∞ –∫–µ—Ç—Å–µ, –±–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
    if (checkBankruptcy()) return;

    // “ö–æ—Å—ã–º—à–∞ –∫”©–º–µ–∫–∫–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Ç–∞“£–¥–∞—É–ª–∞—Ä
    const choices = {
        full: { cost: 10000, profitBonus: 2000, text: '–¢–æ–ª—ã“õ –∫”©–º–µ–∫ –∫”©—Ä—Å–µ—Ç–µ–º—ñ–Ω', result: '‚úÖ –¢–æ–ª—ã“õ –∫”©–º–µ–∫: “∞–∂—ã–º–Ω—ã“£ —Å–µ–Ω—ñ–º—ñ –∞—Ä—Ç—Ç—ã.' },
        half: { cost: 5000, profitBonus: 0, text: '–ñ–∞—Ä—Ç—ã—Å—ã–Ω —Ç”©–ª–µ–π–º—ñ–Ω', result: '‚öñÔ∏è –ñ–∞—Ä—Ç—ã—Å—ã–Ω —Ç”©–ª–µ—É: ”®–Ω—ñ–º–¥—ñ–ª—ñ–∫ —Ç“±—Ä–∞“õ—Ç—ã.' },
        none: { cost: -30000, profitBonus: 0, text: '–ö”©–º–µ–∫ –∫”©—Ä—Å–µ—Ç–ø–µ–π–º—ñ–Ω', result: '‚ùå –ö”©–º–µ–∫ –∫”©—Ä—Å–µ—Ç–ø–µ—É: –ï“£–±–µ–∫ –∏–Ω—Å–ø–µ–∫—Ü–∏—è—Å—ã–Ω–∞–Ω -30 000 ‚Ç∏ –∞–π—ã–ø–ø“±–ª —Å–∞–ª—ã–Ω–¥—ã.' } // Cost is penalty
    };

    day24.innerHTML = `
        <h3>üìÖ ${day}-–ö“Æ–ù: “ö–´–ó–ú–ï–¢–ö–ï–†–î–Ü“¢ –ñ–ê–†–ê“ö–ê–¢ –ê–õ–£–´</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—ñ“£—ñ–∑ “õ–æ–π–º–∞–¥–∞ –∂“±–º—ã—Å —ñ—Å—Ç–µ–ø –∂–∞—Ç—ã–ø “õ–æ–ª—ã–Ω –∑–∞“õ—ã–º–¥–∞–ø –∞–ª–¥—ã. </p>
        
        <p>üí∞ –ö–Ü–†–Ü–° –ï–°–ï–ë–Ü: –ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: +${baseIncome.toLocaleString()} ‚Ç∏.</p>
        <p style="color: salmon; font-weight: bold;">üí∏ –ú–Ü–ù–î–ï–¢–¢–Ü –®–´“í–´–ù: –ú–µ–¥–∏—Ü–∏–Ω–∞–ª—ã“õ –∫”©–º–µ–∫, —É–∞“õ—ã—Ç—à–∞ “õ—ã–∑–º–µ—Ç–∫–µ—Ä –∂”ô–Ω–µ –º–æ—Ä–∞–ª—å–¥—ã“õ “õ–æ–ª–¥–∞—É: -${mandatoryCost.toLocaleString()} ‚Ç∏</p>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å –∂”ô–Ω–µ –º—ñ–Ω–¥–µ—Ç—Ç—ñ —à—ã“ì—ã–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω): <b id="d24-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="choice-section">
            <h4>üß© “ö–æ—Å—ã–º—à–∞ –ö”©–º–µ–∫: –°—ñ–∑–¥—ñ“£ —à–µ—à—ñ–º—ñ“£—ñ–∑?</h4>
            <p>“ö—ã–∑–º–µ—Ç–∫–µ—Ä –º–µ–¥–∏—Ü–∏–Ω–∞–ª—ã“õ –µ–º–≥–µ “õ–æ—Å—ã–º—à–∞ –∫”©–º–µ–∫ —Å“±—Ä–∞–¥—ã.</p>

            <button class="d24-opt" data-choice="full" data-cost="${choices.full.cost}" data-profit="${choices.full.profitBonus}" data-pen="${choices.full.cost}">
                ${choices.full.text}            </button>
            <button class="d24-opt" data-choice="half" data-cost="${choices.half.cost}" data-profit="${choices.half.profitBonus}" data-pen="${choices.half.cost}">
                ${choices.half.text}             </button>
            <button class="d24-opt" data-choice="none" data-cost="0" data-profit="${choices.none.profitBonus}" data-pen="${choices.none.cost}">
                ${choices.none.text}             </button>

            <p id="choiceResult" class="result" style="margin-top: 15px;"></p>
        </div>

        <button id="finishDay24" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">24-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 25-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –¢–ê“¢–î–ê–£ –õ–û–ì–ò–ö–ê–°–´ ===
    let decisionMade = false;

    document.querySelectorAll(".d24-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            if (decisionMade) return;
            
            const choice = btn.dataset.choice;
            let cost = parseInt(btn.dataset.cost);
            const profit = parseInt(btn.dataset.profit);
            const penalty = parseInt(btn.dataset.pen);
            let totalChange = 0;
            let resultText = '';

            // '–ö”©–º–µ–∫ –∫”©—Ä—Å–µ—Ç–ø–µ–π–º—ñ–Ω' –µ—Ä–µ–∫—à–µ –ª–æ–≥–∏–∫–∞—Å—ã
            if (choice === 'none') {
                 // –®—ã“ì—ã–Ω –∂–æ“õ, –±—ñ—Ä–∞“õ –∞–π—ã–ø–ø“±–ª –±–∞—Ä
                 totalChange = penalty; // -30000 ‚Ç∏
                 cost = 0; // –ö”©–º–µ–∫ —à—ã“ì—ã–Ω—ã 0
                 resultText = choices.none.result;
            } else {
                 // –ö”©–º–µ–∫ –∫”©—Ä—Å–µ—Ç—Å–µ
                 totalChange = -cost; // -10000 ‚Ç∏ –Ω–µ–º–µ—Å–µ -5000 ‚Ç∏
                 resultText = (choice === 'full') ? choices.full.result : choices.half.result;
            }
            
            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–¢–∞“£–¥–∞—É —à—ã“ì—ã–Ω—ã–Ω–∞ –¥–µ–π—ñ–Ω)
            if (capital + totalChange < 0) {
                 alert(`‚ùå –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! –ë“±–ª —Ç–∞“£–¥–∞—É —Å—ñ–∑–¥—ñ –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç–∞–¥—ã.`);
                 return;
            }

            // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += totalChange;
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            // –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ –Ω”ô—Ç–∏–∂–µ–Ω—ñ —Å–∞“õ—Ç–∞—É (25-–∫“Ø–Ω–≥–µ –±–æ–Ω—É—Å)
            if (profit > 0) {
                localStorage.setItem('d24_safety_bonus_next_day', profit); // +2000 ‚Ç∏ –±–æ–Ω—É—Å
            } else {
                localStorage.removeItem('d24_safety_bonus_next_day');
            }

            // –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            const finalResult = `
                <p>${resultText}</p>
                <p style="color: ${totalChange < 0 ? 'salmon' : 'lightgreen'};">“ö–∞—Ä–∂—ã–ª—ã“õ ”©–∑–≥–µ—Ä—ñ—Å: ${totalChange.toLocaleString()} ‚Ç∏</p>
                <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            `;
            document.getElementById('choiceResult').innerHTML = finalResult;
            document.getElementById('d24-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏';
            
            // –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(".d24-opt").forEach(b => b.disabled = true);
            decisionMade = true;
            document.getElementById('finishDay24').disabled = false;
            
            // –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            checkBankruptcy();
        });
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –®–µ—à—ñ–º–Ω—ñ“£ —Å–∞–ª–¥–∞—Ä—ã–Ω–∞–Ω –Ω–µ–º–µ—Å–µ –º—ñ–Ω–¥–µ—Ç—Ç—ñ —à—ã“ì—ã–Ω–¥–∞—Ä–¥–∞–Ω –∫–æ–º–ø–∞–Ω–∏—è –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞–¥—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay24").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 25
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay24").textContent = "25-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay24").disabled = true;

        location.reload(); // 25-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}



// === –î–ï–ù–¨ 25 –õ–û–ì–ò–ö–ê (PR –î–ê“í–î–ê–†–´–°–´) ===
function setupDay25() {
    const day = 25;
    const day25 = document.getElementById(`day${day}`);
    
    // 24-–∫“Ø–Ω–Ω—ñ“£ “õ–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –±–æ–Ω—É—Å—ã–Ω –∞–ª—É
    const safetyBonus = parseInt(localStorage.getItem('d24_safety_bonus_next_day')) || 0;

    // 25-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000;
    let todayIncome = baseIncome + safetyBonus;
    
    let incomeMessage = safetyBonus > 0 ? 
        `<li>ü§ù **“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –ë–æ–Ω—É—Å—ã (24-–∫“Ø–Ω):** +${safetyBonus.toLocaleString()} ‚Ç∏</li>` : '';

    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É (–¢–µ–∫ –±—ñ—Ä —Ä–µ—Ç)
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; // –ö—ñ—Ä—ñ—Å “õ–æ—Å—ã–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫–∞–ø–∏—Ç–∞–ª

    // PR —Ç–∞“£–¥–∞—É–ª–∞—Ä—ã
    const choices = {
        '1': { cost: 8000, nextDayChange: 5000, result: "–ö–ª–∏–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ —Å–µ–Ω—ñ–º—ñ “õ–∞–π—Ç–∞ –æ—è–Ω–¥—ã." },
        '2': { cost: 12000, nextDayChange: 0, result: "–ò–º–∏–¥–∂ —Å–∞“õ—Ç–∞–ª–¥—ã, –±—ñ—Ä–∞“õ –±—é–¥–∂–µ—Ç “õ—ã—Å“õ–∞—Ä–¥—ã." },
        '3': { cost: 0, nextDayChange: -15000, result: "–ö–ª–∏–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ –Ω–∞—Ä–∞–∑—ã–ª—ã“ì—ã –∫“Ø—à–µ–π–¥—ñ, –±–µ–¥–µ–ª —Ç”©–º–µ–Ω–¥–µ–¥—ñ." }
    };
    
    // 24-–∫“Ø–Ω–Ω—ñ“£ –±–æ–Ω—É—Å—ã–Ω —Ç–∞–∑–∞–ª–∞—É (–∫–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ ”ô—Å–µ—Ä –µ—Ç–ø–µ–π–¥—ñ)
    localStorage.removeItem('d24_safety_bonus_next_day');

    day25.innerHTML = `
        <h3>üóìÔ∏è ${day}-–ö“Æ–ù: PR –î–ê“í–î–ê–†–´–°–´ ‚Äî ”ò–õ–ï–£–ú–ï–¢–¢–Ü–ö –ñ–ï–õ–Ü–î–ï–ì–Ü –®–£</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ö–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ —Ä–µ—Å–º–∏ –ø–∞—Ä–∞“õ—à–∞—Å—ã–Ω–¥–∞ –∂–∞“ì—ã–º—Å—ã–∑ –ø—ñ–∫—ñ—Ä–ª–µ—Ä –ø–∞–π–¥–∞ –±–æ–ª–¥—ã. PR –¥–∞“ì–¥–∞—Ä—ã—Å—ã –±–∞—Å—Ç–∞–ª–¥—ã!</p>
        
        <p>üí∞ **–ö–Ü–†–Ü–° –ï–°–ï–ë–Ü:**</p>
        <ul style="list-style-type: none; padding-left: 10px;">
            <li>–ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: ${baseIncome.toLocaleString()} ‚Ç∏</li>
            ${incomeMessage}
            <li>**–ë“Ø–≥—ñ–Ω–≥—ñ —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å:** ${Math.round(todayIncome).toLocaleString()} ‚Ç∏</li>
        </ul>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d25-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="pr-choice-section">
            <h4>üß† –°—ñ–∑–¥—ñ“£ PR ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑:</h4>
            
            <button class="d25-opt" data-choice="1" data-cost="${choices['1'].cost}" data-next-profit="${choices['1'].nextDayChange}">
                1Ô∏è‚É£ –ö–µ—à—ñ—Ä—ñ–º —Å“±—Ä–∞—É + –ë–æ–Ω—É—Å –∫—É–ø–æ–Ω            </button>
            <button class="d25-opt" data-choice="2" data-cost="${choices['2'].cost}" data-next-profit="${choices['2'].nextDayChange}">
                2Ô∏è‚É£ PR –Ω–∞—É“õ–∞–Ω –±–∞—Å—Ç–∞—É             </button>
            <button class="d25-opt" data-choice="3" data-cost="${choices['3'].cost}" data-next-profit="${choices['3'].nextDayChange}">
                3Ô∏è‚É£ –ï–ª–µ–º–µ—É            </button>

            <p id="choiceResult" class="result" style="margin-top: 15px;"></p>
        </div>

        <button id="finishDay25" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">25-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 26-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –¢–ê“¢–î–ê–£ –õ–û–ì–ò–ö–ê–°–´ ===
    let decisionMade = false;

    document.querySelectorAll(".d25-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            if (decisionMade) return;
            
            const choiceNum = btn.dataset.choice;
            const cost = parseInt(btn.dataset.cost) || 0;
            const nextProfit = parseInt(btn.dataset.nextProfit) || 0;
            const totalChange = -cost; // –®—ã“ì—ã–Ω ”ô—Ä“õ–∞—à–∞–Ω —Ç–µ—Ä—ñ—Å
            
            // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–®—ã“ì—ã–Ω“ì–∞ –¥–µ–π—ñ–Ω)
            if (capital + totalChange < 0) {
                 alert(`‚ùå –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! –ë“±–ª PR ”ô—Ä–µ–∫–µ—Ç —Å—ñ–∑–¥—ñ –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç–∞–¥—ã.`);
                 return;
            }

            // 2. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += totalChange; // –®—ã“ì—ã–Ω–¥—ã –∞–ª—ã–ø —Ç–∞—Å—Ç–∞—É
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            // 3. –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ –Ω”ô—Ç–∏–∂–µ–Ω—ñ —Å–∞“õ—Ç–∞—É
            localStorage.setItem('d25_pr_result_next_day', nextProfit);
            
            // 4. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            const resultText = choices[choiceNum].result;
            const finalResult = `
                <p>‚úÖ –®–µ—à—ñ–º –±–µ–∫—ñ—Ç—ñ–ª–¥—ñ: –°—ñ–∑ ${choiceNum}-–Ω“±—Å“õ–∞–Ω—ã —Ç–∞“£–¥–∞–¥—ã“£—ã–∑.</p>
                <p>${resultText}</p>
                <p style="color: ${totalChange < 0 ? 'salmon' : 'lightgreen'};">–ë“Ø–≥—ñ–Ω–≥—ñ “õ–∞—Ä–∂—ã–ª—ã“õ ”©–∑–≥–µ—Ä—ñ—Å: ${totalChange.toLocaleString()} ‚Ç∏</p>
                <p>–ï—Ä—Ç–µ“£–≥—ñ –∫“Ø—Ç—ñ–ª–µ—Ç—ñ–Ω —Å–∞—Ç—ã–ª—ã–º ”©–∑–≥–µ—Ä—ñ—Å—ñ: **${nextProfit.toLocaleString()} ‚Ç∏**</p>
                <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            `;
            document.getElementById('choiceResult').innerHTML = finalResult;
            document.getElementById('d25-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏';
            
            // 5. –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(".d25-opt").forEach(b => b.disabled = true);
            decisionMade = true;
            document.getElementById('finishDay25').disabled = false;
            
            // 6. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            checkBankruptcy();
        });
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ PR –¥–∞“ì–¥–∞—Ä—ã—Å—ã–Ω–∞–Ω —à—ã“ì—É“ì–∞ —Ç—ã—Ä—ã—Å—É –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç—Ç—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay25").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 26
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay25").textContent = "26-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay25").disabled = true;

        location.reload(); // 26-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}



// === –î–ï–ù–¨ 26 –õ–û–ì–ò–ö–ê (–ë–õ–û–ì–ï–†–ú–ï–ù –´–ù–¢–´–ú–ê“ö–¢–ê–°–¢–´“ö) ===
function setupDay26() {
    const day = 26;
    const day26 = document.getElementById(`day${day}`);
    
    // 25-–∫“Ø–Ω–Ω—ñ“£ PR –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω –∞–ª—É
    const prResult = parseInt(localStorage.getItem('d25_pr_result_next_day')) || 0;
    
    // 26-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000;
    let todayIncome = baseIncome + prResult; // –ê–ª–¥—ã“£“ì—ã –∫“Ø–Ω–Ω—ñ“£ ”ô—Å–µ—Ä—ñ–Ω “õ–æ—Å—É
    
    let incomeMessage = prResult !== 0 ? 
        `<li>üí¨ PR –ù”ô—Ç–∏–∂–µ—Å—ñ (25-–∫“Ø–Ω): ${prResult.toLocaleString()} ‚Ç∏</li>` : '';

    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É (–¢–µ–∫ –±—ñ—Ä —Ä–µ—Ç)
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; // –ö—ñ—Ä—ñ—Å “õ–æ—Å—ã–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫–∞–ø–∏—Ç–∞–ª

    // PR —Ç–∞“£–¥–∞—É–ª–∞—Ä—ã
    const choices = {
        '1': { cost: 20000, nextProfit: 40000, delay: 2, text: '–†–µ—Å–º–∏ –∫–µ–ª—ñ—Å—ñ–º—à–∞—Ä—Ç' }, // –ù”ô—Ç–∏–∂–µ 2 –∫“Ø–Ω–Ω–µ–Ω –∫–µ–π—ñ–Ω (28-–∫“Ø–Ω)
        '2': { cost: 0, nextProfit: 5000, delay: 1, text: '–ë–∞—Å —Ç–∞—Ä—Ç—É' }, // –ù”ô—Ç–∏–∂–µ 1 –∫“Ø–Ω–Ω–µ–Ω –∫–µ–π—ñ–Ω (27-–∫“Ø–Ω)
        '3': { cost: 5000, nextProfit: 25000, delay: 1, text: '–°—ã–Ω–∞“õ ”©–Ω—ñ–º –±–µ—Ä—É' } // 50/50 —Ç”ô—É–µ–∫–µ–ª, –Ω”ô—Ç–∏–∂–µ 1 –∫“Ø–Ω–Ω–µ–Ω –∫–µ–π—ñ–Ω (27-–∫“Ø–Ω)
    };
    
    // 25-–∫“Ø–Ω–Ω—ñ“£ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω —Ç–∞–∑–∞–ª–∞—É
    localStorage.removeItem('d25_pr_result_next_day');

    day26.innerHTML = `
        <h3>üóìÔ∏è ${day}-–ö“Æ–ù: –ë–õ–û–ì–ï–†–ú–ï–ù –´–ù–¢–´–ú–ê“ö–¢–ê–°–¢–´“ö</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ù–µ–≥–∞—Ç–∏–≤ –∂–∞–∑“ì–∞–Ω –±–ª–æ–≥–µ—Ä —Å—ñ–∑–≥–µ —Ö–∞–±–∞—Ä–ª–∞—Å—Ç—ã. –î–∞—É–¥—ã –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∫–µ –∞–π–Ω–∞–ª–¥—ã—Ä—É –º“Ø–º–∫—ñ–Ω–¥—ñ–≥—ñ —Ç—É–¥—ã!</p>
        
        <p>üí∞ –ö–Ü–†–Ü–° –ï–°–ï–ë–Ü:</p>
        <ul style="list-style-type: none; padding-left: 10px;">
            <li>–ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: ${baseIncome.toLocaleString()} ‚Ç∏</li>
            ${incomeMessage}
            <li>–ë“Ø–≥—ñ–Ω–≥—ñ —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å: ${Math.round(todayIncome).toLocaleString()} ‚Ç∏</li>
        </ul>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d26-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="collab-choice-section">
            <h4>üíº –°—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—ñ“£—ñ–∑:</h4>
            
            <button class="d26-opt" data-choice="1" data-cost="${choices['1'].cost}" data-next-profit="${choices['1'].nextProfit}" data-delay="${choices['1'].delay}">
                1Ô∏è‚É£ –†–µ—Å–º–∏ –∫–µ–ª—ñ—Å—ñ–º—à–∞—Ä—Ç             </button>
            <button class="d26-opt" data-choice="2" data-cost="${choices['2'].cost}" data-next-profit="${choices['2'].nextProfit}" data-delay="${choices['2'].delay}">
                2Ô∏è‚É£ –ë–∞—Å —Ç–∞—Ä—Ç—É             </button>
            <button class="d26-opt" data-choice="3" data-cost="${choices['3'].cost}" data-next-profit="${choices['3'].nextProfit}" data-delay="${choices['3'].delay}">
                3Ô∏è‚É£ –°—ã–Ω–∞“õ ”©–Ω—ñ–º –±–µ—Ä—É             </button>

            <p id="choiceResult" class="result" style="margin-top: 15px;"></p>
        </div>

        <button id="finishDay26" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">26-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 27-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –¢–ê“¢–î–ê–£ –õ–û–ì–ò–ö–ê–°–´ ===
    let decisionMade = false;

    document.querySelectorAll(".d26-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            if (decisionMade) return;
            
            const choiceNum = btn.dataset.choice;
            const cost = parseInt(btn.dataset.cost) || 0;
            const delay = parseInt(btn.dataset.delay) || 1;
            let nextProfit = parseInt(btn.dataset.nextProfit) || 0;
            const totalChange = -cost; 
            let resultText = '';
            
            // 3-–Ω“±—Å“õ–∞ “Ø—à—ñ–Ω 50/50 —Ç”ô—É–µ–∫–µ–ª–¥—ñ –µ—Å–µ–ø—Ç–µ—É
            if (choiceNum === '3') {
                if (Math.random() < 0.5) { // 50% —Å”ô—Ç—Ç—ñ–ª—ñ–∫
                    nextProfit = choices['3'].nextProfit;
                    resultText = "–°”ô—Ç—Ç—ñ–ª—ñ–∫! –ë–ª–æ–≥–µ—Ä ”©–Ω—ñ–º–¥—ñ “±–Ω–∞—Ç—Ç—ã –∂”ô–Ω–µ —Ç–µ–≥—ñ–Ω –∂–∞—Ä–Ω–∞–º–∞ –∂–∞—Å–∞–¥—ã.";
                } else {
                    nextProfit = 0;
                    resultText = "–°”ô—Ç—Å—ñ–∑–¥—ñ–∫. –ë–ª–æ–≥–µ—Ä –∂–∞–π “ì–∞–Ω–∞ “Ø–Ω—Å—ñ–∑ “õ–∞–ª–¥—ã.";
                }
            } else if (choiceNum === '1') {
                resultText = "–†–µ—Å–º–∏ –∫–µ–ª—ñ—Å—ñ–º—à–∞—Ä—Ç –∂–∞—Å–∞–ª–¥—ã. –ù”ô—Ç–∏–∂–µ 2 –∫“Ø–Ω–Ω–µ–Ω –∫–µ–π—ñ–Ω –∫“Ø—Ç—ñ–ª–µ–¥—ñ.";
            } else {
                resultText = "–´–Ω—Ç—ã–º–∞“õ—Ç–∞—Å—Ç—ã“õ—Ç–∞–Ω –±–∞—Å —Ç–∞—Ä—Ç—ã–ª–¥—ã. –ë–∞—è—É “õ–∞–ª—ã–ø“õ–∞ –∫–µ–ª—É –∂–æ–ª—ã —Ç–∞“£–¥–∞–ª–¥—ã.";
            }

            // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–®—ã“ì—ã–Ω“ì–∞ –¥–µ–π—ñ–Ω)
            if (capital + totalChange < 0) {
                 alert(`‚ùå –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! –ë“±–ª –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è —Å—ñ–∑–¥—ñ –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç–∞–¥—ã.`);
                 return;
            }

            // 2. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += totalChange; 
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            // 3. –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ –Ω”ô—Ç–∏–∂–µ–Ω—ñ —Å–∞“õ—Ç–∞—É
            // –ù”ô—Ç–∏–∂–µ delay —Å–∞–Ω—ã–Ω–∞ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã 'd27', 'd28' –Ω–µ–º–µ—Å–µ –æ–¥–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫“Ø–Ω–≥–µ —Å–∞“õ—Ç–∞–ª–∞–¥—ã
            const targetDay = day + delay;
            localStorage.setItem(`d${targetDay}_blogger_profit`, nextProfit);
            
            // 4. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            const finalResult = `
                <p>‚úÖ –®–µ—à—ñ–º –±–µ–∫—ñ—Ç—ñ–ª–¥—ñ: –°—ñ–∑ ${choiceNum}-–Ω“±—Å“õ–∞–Ω—ã —Ç–∞“£–¥–∞–¥—ã“£—ã–∑.</p>
                <p>${resultText}</p>
                <p style="color: ${totalChange < 0 ? 'salmon' : 'lightgreen'};">–ë“Ø–≥—ñ–Ω–≥—ñ —à—ã“ì—ã–Ω: ${totalChange.toLocaleString()} ‚Ç∏</p>
                <p>–ö“Ø—Ç—ñ–ª–µ—Ç—ñ–Ω —Å–∞—Ç—ã–ª—ã–º ”©–∑–≥–µ—Ä—ñ—Å—ñ (<b style="color: yellow;">${targetDay}</b>-–∫“Ø–Ω): **+${nextProfit.toLocaleString()} ‚Ç∏**</p>
                <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            `;
            document.getElementById('choiceResult').innerHTML = finalResult;
            document.getElementById('d26-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏';
            
            // 5. –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(".d26-opt").forEach(b => b.disabled = true);
            decisionMade = true;
            document.getElementById('finishDay26').disabled = false;
            
            // 6. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            checkBankruptcy();
        });
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥—Ç—ñ–∫ —à—ã“ì—ã–Ω–¥–∞—Ä —Ç—ã–º –∞—É—ã—Ä –±–æ–ª–¥—ã. –°—ñ–∑ –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã“£—ã–∑. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay26").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 27
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay26").textContent = "27-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay26").disabled = true;

        location.reload(); // 27-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}


// === –î–ï–ù–¨ 27 –õ–û–ì–ò–ö–ê (–í–ò–†–£–°–¢–´“ö –ñ–ê–†–ù–ê–ú–ê –ú–ï–ù “ö–´–°–´–ú) ===
function setupDay27() {
    const day = 27;
    const day27 = document.getElementById(`day${day}`);
    
    // 26-–∫“Ø–Ω–Ω—ñ“£ –±–ª–æ–≥–µ—Ä–ª—ñ–∫ –ø–∞–π–¥–∞—Å—ã–Ω –∞–ª—É (–ï–≥–µ—Ä 2 –Ω–µ–º–µ—Å–µ 3 —Ç–∞“£–¥–∞–ª—Å–∞, –Ω”ô—Ç–∏–∂–µ –æ—Å—ã –∫“Ø–Ω—ñ –∫–µ–ª–µ–¥—ñ)
    const bloggerProfit = parseInt(localStorage.getItem('d27_blogger_profit')) || 0;
    
    // 26-–∫“Ø–Ω–¥–µ 1-–Ω“±—Å“õ–∞ —Ç–∞“£–¥–∞–ª—Å–∞, –æ–Ω—ã“£ –±–æ–Ω—É—Å—ã–Ω 28-–∫“Ø–Ω–≥–µ ”ô—Å–µ—Ä –µ—Ç—É “Ø—à—ñ–Ω —Å–∞“õ—Ç–∞–π–º—ã–∑
    const d28_bonus = parseInt(localStorage.getItem('d28_blogger_profit')) || 0;

    // 27-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000;
    let todayIncome = baseIncome + bloggerProfit; 
    
    let incomeMessage = bloggerProfit !== 0 ? 
        `<li>‚≠ê **–ë–ª–æ–≥–µ—Ä –Ω”ô—Ç–∏–∂–µ—Å—ñ (26-–∫“Ø–Ω):** ${bloggerProfit.toLocaleString()} ‚Ç∏</li>` : '';

    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É (–¢–µ–∫ –±—ñ—Ä —Ä–µ—Ç)
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; 

    // –ñ–∞“£–∞ –∂–∞“ì–¥–∞–π“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Ç–∞“£–¥–∞—É–ª–∞—Ä
    const choices = {
        '1': { cost: 30000, nextDayChange: 50000, text: '“ö–æ—Å—ã–º—à–∞ “õ—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä –∂–∞–ª–¥–∞—É' }, // –ñ—ã–ª–¥–∞–º ”©—Å—É
        '2': { cost: 5000, nextDayChange: 15000, text: '–¢–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä–¥—ã“£ –±—ñ—Ä –±”©–ª—ñ–≥—ñ–Ω –∫–µ–π—ñ–Ω–≥–µ “õ–∞–ª–¥—ã—Ä—É' }, // –¢“±—Ä–∞“õ—Ç—ã–ª—ã“õ—Ç—ã —Å–∞“õ—Ç–∞—É
        '3': { cost: 0, nextDayChange: -25000, text: '”®–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑ “õ–∞–ª–¥—ã—Ä—É' } // –¢”ô—É–µ–∫–µ–ª
    };
    
    // –ê–ª–¥—ã“£“ì—ã –∫“Ø–Ω–Ω—ñ“£ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω —Ç–∞–∑–∞–ª–∞—É
    localStorage.removeItem('d27_blogger_profit');

    day27.innerHTML = `
        <h3>üóìÔ∏è ${day}-–ö“Æ–ù: –í–ò–†–£–°–¢–´“ö –ñ–ê–†–ù–ê–ú–ê –ú–ï–ù “ö–´–°–´–ú</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ë–ª–æ–≥–µ—Ä–¥—ñ“£ –±–µ–π–Ω–µ—Å—ñ —Ç—Ä–µ–Ω–¥—Ç–µ! –¢–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä –∫”©–ø, –±—ñ—Ä–∞“õ “õ–æ–π–º–∞ –±–æ—Å. ”®–Ω–¥—ñ—Ä—ñ—Å “õ—ã—Å—ã–º—ã –±–∞—Å—Ç–∞–ª–¥—ã!</p>
        
        <p>üí∞ –ö–Ü–†–Ü–° –ï–°–ï–ë–Ü:</p>
        <ul style="list-style-type: none; padding-left: 10px;">
            <li>–ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: ${baseIncome.toLocaleString()} ‚Ç∏</li>
            ${incomeMessage}
            <li>–ë“Ø–≥—ñ–Ω–≥—ñ —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å: ${Math.round(todayIncome).toLocaleString()} ‚Ç∏</li>
        </ul>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d27-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="growth-choice-section">
            <h4>üíº ”®—Å—É–¥—ñ –±–∞—Å“õ–∞—Ä—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Å—ã:</h4>
            
            <button class="d27-opt" data-choice="1" data-cost="${choices['1'].cost}" data-next-profit="${choices['1'].nextDayChange}">
                1Ô∏è‚É£ “ö–æ—Å—ã–º—à–∞ “õ—ã–∑–º–µ—Ç–∫–µ—Ä –∂–∞–ª–¥–∞—É           </button>
            <button class="d27-opt" data-choice="2" data-cost="${choices['2'].cost}" data-next-profit="${choices['2'].nextDayChange}">
                2Ô∏è‚É£ –¢–∞–ø—Å—ã—Ä—ã—Å—Ç—ã –∫–µ–π—ñ–Ω–≥–µ “õ–∞–ª–¥—ã—Ä—É            </button>
            <button class="d27-opt" data-choice="3" data-cost="${choices['3'].cost}" data-next-profit="${choices['3'].nextDayChange}">
                3Ô∏è‚É£ ”®–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑ “õ–∞–ª–¥—ã—Ä—É             </button>

            <p id="choiceResult" class="result" style="margin-top: 15px;"></p>
        </div>

        <button id="finishDay27" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">27-–ö“Æ–ù “ö–û–†–´–¢–ù–î–´–°–´ –ñ”ò–ù–ï 28-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –¢–ê“¢–î–ê–£ –õ–û–ì–ò–ö–ê–°–´ ===
    let decisionMade = false;

    document.querySelectorAll(".d27-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            if (decisionMade) return;
            
            const choiceNum = btn.dataset.choice;
            const cost = parseInt(btn.dataset.cost) || 0;
            const nextProfit = parseInt(btn.dataset.nextProfit) || 0;
            const totalChange = -cost; 
            
            // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–®—ã“ì—ã–Ω“ì–∞ –¥–µ–π—ñ–Ω)
            if (capital + totalChange < 0) {
                 alert(`‚ùå –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! –ë“±–ª ”©—Å—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Å—ã —Å—ñ–∑–¥—ñ –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç–∞–¥—ã.`);
                 return;
            }

            // 2. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += totalChange; 
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            // 3. –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ –Ω”ô—Ç–∏–∂–µ–Ω—ñ —Å–∞“õ—Ç–∞—É
            // 28-–∫“Ø–Ω–≥–µ –±“±–ª —Ç–∞“£–¥–∞—É–¥—ã“£ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω –∂”ô–Ω–µ 26-–∫“Ø–Ω–Ω–µ–Ω –∫–µ–ª–≥–µ–Ω –±–æ–Ω—É—Å—Ç—ã “õ–æ—Å–∞–º—ã–∑.
            const totalNextDayProfit = nextProfit + d28_bonus; 
            localStorage.setItem('d28_growth_profit', totalNextDayProfit);
            
            // 4. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            let resultText = '';
            if (choiceNum === '1') resultText = "“ö—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä –∂–∞–ª–¥–∞—É“ì–∞ —à—ã“ì—ã–Ω –∂“±–º—Å–∞–ª–¥—ã. ”®–Ω–¥—ñ—Ä—ñ—Å “õ—É–∞—Ç—ã –∞—Ä—Ç—Ç—ã—Ä—ã–ª–¥—ã.";
            if (choiceNum === '2') resultText = "–ë—ñ—Ä –±”©–ª—ñ–º —Ç–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä –∫–µ–π—ñ–Ω–≥–µ “õ–∞–ª–¥—ã—Ä—ã–ª–¥—ã. –ö–æ–º–∞–Ω–¥–∞ —Ç—ã–Ω—ã—à—Ç–∞–Ω–¥—ã.";
            if (choiceNum === '3') resultText = "–ï—à“õ–∞–Ω–¥–∞–π ”©–∑–≥–µ—Ä—ñ—Å –∂–æ“õ. “ö—ã—Å—ã–º —Å–∞“õ—Ç–∞–ª–∞–¥—ã.";

            const finalResult = `
                <p>‚úÖ –®–µ—à—ñ–º –±–µ–∫—ñ—Ç—ñ–ª–¥—ñ: –°—ñ–∑ ${choiceNum}-–Ω“±—Å“õ–∞–Ω—ã —Ç–∞“£–¥–∞–¥—ã“£—ã–∑.</p>
                <p>${resultText}</p>
                <p style="color: ${totalChange < 0 ? 'salmon' : 'lightgreen'};">–ë“Ø–≥—ñ–Ω–≥—ñ —à—ã“ì—ã–Ω: ${totalChange.toLocaleString()} ‚Ç∏</p>
                <p>–ï—Ä—Ç–µ“£–≥—ñ –∫“Ø—Ç—ñ–ª–µ—Ç—ñ–Ω –∂–∞–ª–ø—ã —Å–∞—Ç—ã–ª—ã–º ”©–∑–≥–µ—Ä—ñ—Å—ñ: **+${totalNextDayProfit.toLocaleString()} ‚Ç∏**</p>
                <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            `;
            document.getElementById('choiceResult').innerHTML = finalResult;
            document.getElementById('d27-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏';
            
            // 5. –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(".d27-opt").forEach(b => b.disabled = true);
            decisionMade = true;
            document.getElementById('finishDay27').disabled = false;
            
            // 6. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            checkBankruptcy();
        });
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –¢—ã–º –∂—ã–ª–¥–∞–º ”©—Å—É–¥—ñ –±–∞—Å“õ–∞—Ä—É –º“Ø–º–∫—ñ–Ω –±–æ–ª–º–∞–¥—ã. –ö–æ–º–ø–∞–Ω–∏—è –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay27").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 28
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay27").textContent = "28-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay27").disabled = true;

        location.reload(); // 28-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}



// === –î–ï–ù–¨ 28 –õ–û–ì–ò–ö–ê (–ñ–ê“¢–ê –ù–ê“ö–¢–´–õ–´“ö –ñ”ò–ù–ï –ë–û–õ–ê–®–ê“ö –°–¢–†–ê–¢–ï–ì–ò–Ø–°–´) ===
function setupDay28() {
    const day = 28;
    const day28 = document.getElementById(`day${day}`);
    
    // 27-–∫“Ø–Ω–Ω—ñ“£ ”©—Å—É –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω –∞–ª—É (26-–∫“Ø–Ω–Ω–µ–Ω –∫–µ–ª–≥–µ–Ω –±–æ–Ω—É—Å—Ç—ã “õ–æ—Å–∞ –∞–ª“ì–∞–Ω–¥–∞)
    const growthProfit = parseInt(localStorage.getItem('d28_growth_profit')) || 0;
    
    // 28-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000;
    let todayIncome = baseIncome + growthProfit; // –ê–ª–¥—ã“£“ì—ã –∫“Ø–Ω–Ω—ñ“£ ”ô—Å–µ—Ä—ñ–Ω “õ–æ—Å—É
    
    let incomeMessage = growthProfit !== 0 ? 
        `<li style="color: ${growthProfit > 0 ? 'lightgreen' : 'salmon'};">üöÄ **”®—Å—É –ù”ô—Ç–∏–∂–µ—Å—ñ (27-–∫“Ø–Ω):** ${growthProfit.toLocaleString()} ‚Ç∏</li>` : '';

    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É (–¢–µ–∫ –±—ñ—Ä —Ä–µ—Ç)
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; 

    // –ñ–∞“£–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–ª–∞—Ä
    const choices = {
        '1': { cost: 10000, nextDayChange: 30000, text: '–¢“±—Ä–∞“õ—Ç—ã–ª—ã“õ + –®–∞“ì—ã–Ω –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥' },
        '2': { cost: 5000, nextDayChange: 10000, text: '–¢”ô—É–µ–∫–µ–ª—Å—ñ–∑ —Ç“±—Ä–∞“õ—Ç—ã–ª—ã“õ' },
        '3': { cost: 50000, nextDayChange: 100000, text: '–ê–≥—Ä–µ—Å—Å–∏–≤—Ç—ñ —ç–∫—Å–ø–∞–Ω—Å–∏—è (–¢”ô—É–µ–∫–µ–ª)' } // 50/50 —ã“õ—Ç–∏–º–∞–ª–¥—ã“õ
    };
    
    // –ê–ª–¥—ã“£“ì—ã –∫“Ø–Ω–Ω—ñ“£ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω —Ç–∞–∑–∞–ª–∞—É
    localStorage.removeItem('d28_growth_profit');
    localStorage.removeItem('d28_blogger_profit'); // –ï–Ω–¥—ñ –±“±–ª –±–æ–Ω—É—Å “õ–æ–ª–¥–∞–Ω—ã–ª–¥—ã

    day28.innerHTML = `
        <h3>üóìÔ∏è ${day}-–ö“Æ–ù: –ñ–ê“¢–ê –ù–ê“ö–¢–´–õ–´“ö –ñ”ò–ù–ï –ë–û–õ–ê–®–ê“ö –°–¢–†–ê–¢–ï–ì–ò–Ø–°–´</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –ö–æ–º–ø–∞–Ω–∏—è –µ“£ —Ç–∞–±—ã—Å—Ç—ã –∫–µ–∑–µ“£–¥—ñ –±–∞—Å—Ç–∞–Ω –∫–µ—à—É–¥–µ. –ï–Ω–¥—ñ –∞–ª–¥–∞“ì—ã –∞–ø—Ç–∞“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –±–∞—Å—Ç—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–Ω—ã —Ç–∞“£–¥–∞—É –∫–µ—Ä–µ–∫.</p>
        
        <p>üí∞ –ö–Ü–†–Ü–° –ï–°–ï–ë–Ü:</p>
        <ul style="list-style-type: none; padding-left: 10px;">
            <li>–ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: ${baseIncome.toLocaleString()} ‚Ç∏</li>
            ${incomeMessage}
            <li>–ë“Ø–≥—ñ–Ω–≥—ñ —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å: ${Math.round(todayIncome).toLocaleString()} ‚Ç∏</li>
        </ul>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d28-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="strategy-choice-section">
            <h4>üìà –ë–æ–ª–∞—à–∞“õ“õ–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:</h4>
            
            <button class="d28-opt" data-choice="1" data-cost="${choices['1'].cost}" data-next-profit="${choices['1'].nextDayChange}">
                1Ô∏è‚É£ –¢“±—Ä–∞“õ—Ç—ã ”©—Å—É             </button>
            <button class="d28-opt" data-choice="2" data-cost="${choices['2'].cost}" data-next-profit="${choices['2'].nextDayChange}">
                2Ô∏è‚É£ –¢”ô—É–µ–∫–µ–ª—Å—ñ–∑ —Å–∞“õ—Ç–∞—É            </button>
            <button class="d28-opt" data-choice="3" data-cost="${choices['3'].cost}" data-next-profit="${choices['3'].nextDayChange}">
                3Ô∏è‚É£ –ê–≥—Ä–µ—Å—Å–∏–≤—Ç—ñ —ç–∫—Å–ø–∞–Ω—Å–∏—è             </button>

            <p id="choiceResult" class="result" style="margin-top: 15px;"></p>
        </div>

        <button id="finishDay28" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">28-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 29-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –¢–ê“¢–î–ê–£ –õ–û–ì–ò–ö–ê–°–´ ===
    let decisionMade = false;

    document.querySelectorAll(".d28-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            if (decisionMade) return;
            
            const choiceNum = btn.dataset.choice;
            const cost = parseInt(btn.dataset.cost) || 0;
            let nextProfit = parseInt(btn.dataset.nextProfit) || 0;
            let totalChange = -cost; 
            let resultText = '';
            
            // 3-–Ω“±—Å“õ–∞ “Ø—à—ñ–Ω 50/50 —Ç”ô—É–µ–∫–µ–ª–¥—ñ –µ—Å–µ–ø—Ç–µ—É
            if (choiceNum === '3') {
                if (Math.random() < 0.5) { // 50% —Å”ô—Ç—Ç—ñ–ª—ñ–∫
                    nextProfit = choices['3'].nextDayChange;
                    resultText = "üî• –°”ô—Ç—Ç—ñ–ª—ñ–∫! –≠–∫—Å–ø–∞–Ω—Å–∏—è –∂–æ—Å–ø–∞—Ä—ã ”©—Ç–µ —Å”ô—Ç—Ç—ñ –±–æ–ª–¥—ã, –Ω–∞—Ä—ã“õ—Ç–∞“ì—ã “Ø–ª–µ—Å—ñ“£—ñ–∑ –∞—Ä—Ç—Ç—ã.";
                } else {
                    nextProfit = -70000; // –ù”ô—Ç–∏–∂–µ –∂–æ“õ, “Ø–ª–∫–µ–Ω —à—ã“ì—ã–Ω
                    resultText = "‚ùå –°”ô—Ç—Å—ñ–∑–¥—ñ–∫. –≠–∫—Å–ø–∞–Ω—Å–∏—è —Ç—ã–º –∞–≥—Ä–µ—Å—Å–∏–≤—Ç—ñ –±–æ–ª–¥—ã, “Ø–ª–∫–µ–Ω —à—ã“ì—ã–Ω ”ô–∫–µ–ª–¥—ñ.";
                }
            } else if (choiceNum === '1') {
                resultText = "–¢“±—Ä–∞“õ—Ç—ã, –±—ñ—Ä–∞“õ –±–µ–ª—Å–µ–Ω–¥—ñ ”©—Å—É –∂–æ–ª—ã —Ç–∞“£–¥–∞–ª–¥—ã. –ñ–µ—Ç–∫—ñ–ª—ñ–∫—Ç—ñ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –∂–∞—Å–∞–ª–¥—ã.";
            } else {
                resultText = "“ö–∞—Ä–∞–∂–∞—Ç—Ç—ã —Å–∞“õ—Ç–∞—É –∂”ô–Ω–µ —Ç”ô—É–µ–∫–µ–ª–¥—ñ –∞–∑–∞–π—Ç—É –∂–æ–ª—ã —Ç–∞“£–¥–∞–ª–¥—ã.";
            }
            
            // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–®—ã“ì—ã–Ω“ì–∞ –¥–µ–π—ñ–Ω)
            if (capital + totalChange < 0) {
                 alert(`‚ùå –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! –ë“±–ª —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å—ñ–∑–¥—ñ –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç–∞–¥—ã.`);
                 return;
            }

            // 2. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += totalChange; 
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            // 3. –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ –Ω”ô—Ç–∏–∂–µ–Ω—ñ —Å–∞“õ—Ç–∞—É
            localStorage.setItem('d29_strategy_profit', nextProfit);
            
            // 4. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            const finalResult = `
                <p>‚úÖ –®–µ—à—ñ–º –±–µ–∫—ñ—Ç—ñ–ª–¥—ñ: –°—ñ–∑ ${choiceNum}-–Ω“±—Å“õ–∞–Ω—ã —Ç–∞“£–¥–∞–¥—ã“£—ã–∑.</p>
                <p>${resultText}</p>
                <p style="color: ${totalChange < 0 ? 'salmon' : 'lightgreen'};">–ë“Ø–≥—ñ–Ω–≥—ñ —à—ã“ì—ã–Ω: ${totalChange.toLocaleString()} ‚Ç∏</p>
                <p>–ï—Ä—Ç–µ“£–≥—ñ –∫“Ø—Ç—ñ–ª–µ—Ç—ñ–Ω —Å–∞—Ç—ã–ª—ã–º ”©–∑–≥–µ—Ä—ñ—Å—ñ: <b style="color: ${nextProfit >= 0 ? 'lightgreen' : 'salmon'};">${nextProfit.toLocaleString()} ‚Ç∏</b></p>
                <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            `;
            document.getElementById('choiceResult').innerHTML = finalResult;
            document.getElementById('d28-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏';
            
            // 5. –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(".d28-opt").forEach(b => b.disabled = true);
            decisionMade = true;
            document.getElementById('finishDay28').disabled = false;
            
            // 6. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            checkBankruptcy();
        });
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ –¢–∞“£–¥–∞–ª“ì–∞–Ω —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–Ω—ã“£ —à—ã“ì—ã–Ω–¥–∞—Ä—ã —Ç—ã–º –∞—É—ã—Ä –±–æ–ª–¥—ã. –ö–æ–º–ø–∞–Ω–∏—è –±–∞–Ω–∫—Ä–æ—Ç –±–æ–ª–¥—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay28").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 29
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay28").textContent = "29-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay28").disabled = true;

        location.reload(); // 29-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}


// === –î–ï–ù–¨ 29 –õ–û–ì–ò–ö–ê (–°–¢–†–ê–¢–ï–ì–ò–Ø–ù–´“¢ –°–ê–õ–î–ê–†–´ –ñ”ò–ù–ï –ù–ê–†–´“ö–¢–´“¢ –ñ–ê–£–ê–ë–´) ===
function setupDay29() {
    const day = 29;
    const day29 = document.getElementById(`day${day}`);
    
    // 28-–∫“Ø–Ω–Ω—ñ“£ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–ª—ã“õ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω –∞–ª—É
    const strategyProfit = parseInt(localStorage.getItem('d29_strategy_profit')) || 0;
    
    // 29-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000;
    let todayIncome = baseIncome + strategyProfit; // –°—Ç—Ä–∞—Ç–µ–≥–∏—è–Ω—ã“£ ”ô—Å–µ—Ä—ñ–Ω “õ–æ—Å—É
    
    let incomeMessage = strategyProfit !== 0 ? 
        `<li style="color: ${strategyProfit >= 0 ? 'lightgreen' : 'salmon'};">üìà **–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ù”ô—Ç–∏–∂–µ—Å—ñ (28-–∫“Ø–Ω):** ${strategyProfit.toLocaleString()} ‚Ç∏</li>` : '';

    // –ö—ñ—Ä—ñ—Å—Ç—ñ –∫–∞–ø–∏—Ç–∞–ª“ì–∞ “õ–æ—Å—É (–¢–µ–∫ –±—ñ—Ä —Ä–µ—Ç)
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    let currentCapital = capital; // –ö—ñ—Ä—ñ—Å “õ–æ—Å—ã–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫–∞–ø–∏—Ç–∞–ª

    // –ê–π —Å–æ“£—ã–Ω–∞ –¥–∞–π—ã–Ω–¥—ã“õ —à—ã“ì—ã–Ω–¥–∞—Ä—ã
    const choices = {
        '1': { cost: 15000, nextDayChange: 10000, text: '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–ª—ñ–∫ –∞—É–¥–∏—Ç + –†–µ–∑–µ—Ä–≤ “õ–æ—Ä—ã' },
        '2': { cost: 0, nextDayChange: -5000, text: '–ï—à“õ–∞–Ω–¥–∞–π –¥–∞–π—ã–Ω–¥—ã“õ—Å—ã–∑' }
    };
    
    // –ê–ª–¥—ã“£“ì—ã –∫“Ø–Ω–Ω—ñ“£ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω —Ç–∞–∑–∞–ª–∞—É
    localStorage.removeItem('d29_strategy_profit');

    day29.innerHTML = `
        <h3>üóìÔ∏è ${day}-–ö“Æ–ù: –°–¢–†–ê–¢–ï–ì–ò–Ø–ù–´“¢ –°–ê–õ–î–ê–†–´ –ñ”ò–ù–ï –ù–ê–†–´“ö–¢–´“¢ –ñ–ê–£–ê–ë–´</h3>
        <p><strong>“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£, –¥–∏—Ä–µ–∫—Ç–æ—Ä!</strong> –°—ñ–∑–¥—ñ“£ ”©—Ç–∫–µ–Ω –∫“Ø–Ω–≥—ñ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–ª—ã“õ —Ç–∞“£–¥–∞—É—ã“£—ã–∑–¥—ã“£ –Ω–∞“õ—Ç—ã –Ω”ô—Ç–∏–∂–µ—Å—ñ: ${strategyProfit.toLocaleString()} ‚Ç∏.</p>
        
        <p>üí∞ –ö–Ü–†–Ü–° –ï–°–ï–ë–Ü:</p>
        <ul style="list-style-type: none; padding-left: 10px;">
            <li>–ë–∞–∑–∞–ª—ã“õ –∫—ñ—Ä—ñ—Å: ${baseIncome.toLocaleString()} ‚Ç∏</li>
            ${incomeMessage}
            <li>–ë“Ø–≥—ñ–Ω–≥—ñ —Ç–∞–∑–∞ –∫—ñ—Ä—ñ—Å: ${Math.round(todayIncome).toLocaleString()} ‚Ç∏</li>
        </ul>
        <hr>

        <p>üí∞ “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª (–ö—ñ—Ä—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω): <b id="d29-capital-display" style="color: lightgreen;">${Math.round(currentCapital).toLocaleString()} ‚Ç∏</b></p>
        <hr>

        <div id="preparation-choice-section">
            <h4>üí° –ê–π —Å–æ“£—ã–Ω–∞ (30-–∫“Ø–Ω–≥–µ) –¥–∞–π—ã–Ω–¥—ã“õ:</h4>
            <p>–ê–π–ª—ã“õ “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã–ª–∞—É –∞–ª–¥—ã–Ω–¥–∞ “õ–∞—Ä–∂—ã–ª—ã“õ —Ç”ô—É–µ–∫–µ–ª–¥—ñ –∞–∑–∞–π—Ç—É “Ø—à—ñ–Ω –Ω–µ —ñ—Å—Ç–µ–π—Å—ñ–∑?</p>
            
            <button class="d29-opt" data-choice="1" data-cost="${choices['1'].cost}" data-next-profit="${choices['1'].nextDayChange}">
                1Ô∏è‚É£ –ê—É–¥–∏—Ç –∂“Ø—Ä–≥—ñ–∑—É + –†–µ–∑–µ—Ä–≤             </button>
            <button class="d29-opt" data-choice="2" data-cost="${choices['2'].cost}" data-next-profit="${choices['2'].nextDayChange}">
                2Ô∏è‚É£ –ï—à“õ–∞–Ω–¥–∞–π –¥–∞–π—ã–Ω–¥—ã“õ—Å—ã–∑             </button>

            <p id="choiceResult" class="result" style="margin-top: 15px;"></p>
        </div>

        <button id="finishDay29" disabled style="padding: 10px 20px; font-weight: bold; margin-top: 20px;">29-–ö“Æ–ù “ö–û–†–´–¢–´–ù–î–´–°–´ –ñ”ò–ù–ï 30-–ö“Æ–ù–ì–ï ”®–¢–£</button>
    `;

    // === –¢–ê“¢–î–ê–£ –õ–û–ì–ò–ö–ê–°–´ ===
    let decisionMade = false;

    document.querySelectorAll(".d29-opt").forEach(btn => {
        btn.addEventListener("click", () => {
            if (decisionMade) return;
            
            const choiceNum = btn.dataset.choice;
            const cost = parseInt(btn.dataset.cost) || 0;
            const nextProfit = parseInt(btn.dataset.nextProfit) || 0;
            const totalChange = -cost; 
            
            // 1. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É (–®—ã“ì—ã–Ω“ì–∞ –¥–µ–π—ñ–Ω)
            if (capital + totalChange < 0) {
                 alert(`‚ùå –ö–∞–ø–∏—Ç–∞–ª –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑! –ê—É–¥–∏—Ç —à—ã“ì—ã–Ω—ã —Å—ñ–∑–¥—ñ –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç–∞–¥—ã.`);
                 return;
            }

            // 2. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
            capital += totalChange; 
            localStorage.setItem("capital", capital);
            updateCapitalDisplay(capital);
            
            // 3. –ö–µ–ª–µ—Å—ñ –∫“Ø–Ω–≥–µ –Ω”ô—Ç–∏–∂–µ–Ω—ñ —Å–∞“õ—Ç–∞—É
            localStorage.setItem('d30_preparation_profit', nextProfit);
            
            // 4. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
            let resultText = '';
            if (choiceNum === '1') resultText = "–ê—É–¥–∏—Ç –∂“Ø—Ä–≥—ñ–∑—ñ–ª–¥—ñ. “ö–∞—Ä–∂—ã–ª—ã“õ —Ç”ô—É–µ–∫–µ–ª–¥–µ—Ä –∞–∑–∞–π—Ç—ã–ª–¥—ã, —Ä–µ–∑–µ—Ä–≤ “õ–æ—Ä—ã –∂–∏–Ω–∞–ª–¥—ã.";
            if (choiceNum === '2') resultText = "–î–∞–π—ã–Ω–¥—ã“õ—Å—ã–∑ “õ–∞–ª–¥—ã. –ï—Ä—Ç–µ“£–≥—ñ –∫“Ø–Ω –±–µ–ª–≥—ñ—Å—ñ–∑–¥—ñ–∫–ø–µ–Ω –±–∞—Å—Ç–∞–ª–∞–¥—ã.";

            const finalResult = `
                <p>‚úÖ –®–µ—à—ñ–º –±–µ–∫—ñ—Ç—ñ–ª–¥—ñ: –°—ñ–∑ ${choiceNum}-–Ω“±—Å“õ–∞–Ω—ã —Ç–∞“£–¥–∞–¥—ã“£—ã–∑.</p>
                <p>${resultText}</p>
                <p style="color: ${totalChange < 0 ? 'salmon' : 'lightgreen'};">–ë“Ø–≥—ñ–Ω–≥—ñ —à—ã“ì—ã–Ω: ${totalChange.toLocaleString()} ‚Ç∏</p>
                <p>–ï—Ä—Ç–µ“£–≥—ñ –∫“Ø—Ç—ñ–ª–µ—Ç—ñ–Ω “õ–æ—Å—ã–º—à–∞ —Ç–∞–±—ã—Å: <b style="color: ${nextProfit >= 0 ? 'lightgreen' : 'salmon'};">${nextProfit.toLocaleString()} ‚Ç∏</b></p>
                <p>–ñ–∞“£–∞ –ö–∞–ø–∏—Ç–∞–ª: <b style="color: lightgreen;">${Math.round(capital).toLocaleString()} ‚Ç∏</b></p>
            `;
            document.getElementById('choiceResult').innerHTML = finalResult;
            document.getElementById('d29-capital-display').innerHTML = Math.round(capital).toLocaleString() + ' ‚Ç∏';
            
            // 5. –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É
            document.querySelectorAll(".d29-opt").forEach(b => b.disabled = true);
            decisionMade = true;
            document.getElementById('finishDay29').disabled = false;
            
            // 6. –ë–∞–Ω–∫—Ä–æ—Ç—Ç—ã“õ —Ç–µ–∫—Å–µ—Ä—É
            checkBankruptcy();
        });
    });

    // === –§–£–ù–ö–¶–ò–Ø–õ–ê–† ===
    function checkBankruptcy() {
        if (capital <= 0) {
            alert("üí∏ ”®—Ç–∫–µ–Ω –∫“Ø–Ω–Ω—ñ“£ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–ª—ã“õ “õ–∞—Ç–µ–ª—ñ–≥—ñ –º–µ–Ω –±“Ø–≥—ñ–Ω–≥—ñ –¥–∞–π—ã–Ω–¥—ã“õ—Å—ã–∑–¥—ã“õ –∫–æ–º–ø–∞–Ω–∏—è–Ω—ã –±–∞–Ω–∫—Ä–æ—Ç“õ–∞ “±—à—ã—Ä–∞—Ç—Ç—ã. –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞“£—ã–∑.");
            localStorage.clear();
            location.reload();
            return true;
        }
        return false;
    }

    // === –ö“Ø–Ω–¥—ñ –∞—è“õ—Ç–∞—É –±–∞—Ç—ã—Ä–º–∞—Å—ã ===
    document.getElementById("finishDay29").addEventListener("click", () => {
        const nextDay = day + 1; // nextDay = 30
        
        if (checkBankruptcy()) return; 

        if (typeof unlockNextDay === 'function') {
            unlockNextDay(nextDay);
        } else {
            localStorage.setItem("currentDay", nextDay);
        }
        
        document.getElementById("finishDay29").textContent = "30-–ö“Æ–ù–ì–ï ”®–¢–£–î–ï...";
        document.getElementById("finishDay29").disabled = true;

        location.reload(); // 30-–∫“Ø–Ω–¥—ñ –∂“Ø–∫—Ç–µ—É
    });
}



// === –î–ï–ù–¨ 30 –õ–û–ì–ò–ö–ê (–ê–ô–õ–´“ö “ö–û–†–´–¢–´–ù–î–´ –ñ”ò–ù–ï –ñ–ï“¢–Ü–°) ===
function setupDay30() {
    const day = 30;
    const day30 = document.getElementById(`day${day}`);
    
    // 29-–∫“Ø–Ω–Ω—ñ“£ –¥–∞–π—ã–Ω–¥—ã“õ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω –∞–ª—É
    const preparationProfit = parseInt(localStorage.getItem('d30_preparation_profit')) || 0;
    
    // 30-–∫“Ø–Ω–Ω—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ—Ä—ñ—Å—ñ–Ω –µ—Å–µ–ø—Ç–µ—É
    const baseIncome = 18000;
    let todayIncome = baseIncome + preparationProfit; 
    
    // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
    capital += todayIncome;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);
    
    // –°–æ“£“ì—ã –∫–∞–ø–∏—Ç–∞–ª–¥—ã –∞–ª—É
    const finalCapital = Math.round(capital);
    
    // –ê–ª–¥—ã“£“ì—ã –∫“Ø–Ω–Ω—ñ“£ –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω —Ç–∞–∑–∞–ª–∞—É
    localStorage.removeItem('d30_preparation_profit');
    
    // –û–π—ã–Ω–Ω—ã“£ –±–∞—Å—Ç–∞–ø“õ—ã –∫–∞–ø–∏—Ç–∞–ª—ã–Ω (—à–∞–º–∞–º–µ–Ω) –∞–ª—É
    const initialCapital = 100000; // –û–π—ã–Ω –±–∞—Å—ã–Ω–¥–∞“ì—ã –∫–∞–ø–∏—Ç–∞–ª–¥—ã –æ—Å—ã–ª–∞–π –±–µ–ª–≥—ñ–ª–µ–π–º—ñ–∑
    const totalProfit = finalCapital - initialCapital;
    const profitColor = totalProfit >= 0 ? 'lightgreen' : 'salmon';
    const profitSign = totalProfit >= 0 ? '+' : '';

    // === CSS –°–ê–õ–Æ–¢ –°–¢–ò–õ–î–ï–†–Ü–ù “ö–û–°–£ ===
    // –ë“±–ª —Å—Ç–∏–ª—å–¥–µ—Ä–¥—ñ HTML-–¥—ñ“£ <style> —Ç–µ–≥—ñ–Ω–µ –Ω–µ–º–µ—Å–µ style.css —Ñ–∞–π–ª—ã–Ω–∞ “õ–æ—Å—É –∫–µ—Ä–µ–∫
    const saluteStyle = `
        <style>
            .confetti-container {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                overflow: hidden;
                z-index: 1000;
            }

            .confetti {
                position: absolute;
                width: 10px;
                height: 10px;
                background-color: var(--color); /* CSS Variables for colors */
                opacity: 0;
                animation: confetti-fall 3s ease-in-out forwards;
            }

            @keyframes confetti-fall {
                0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
                100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
            }
        </style>
    `;

    day30.innerHTML = `
        ${saluteStyle}
        <div class="confetti-container" id="confetti-area"></div>

        <h3 style="text-align: center; color: yellow; font-size: 2.5em; text-shadow: 2px 2px #000;">
            üéâ 30-–ö“Æ–ù: “ö“∞–¢–¢–´“ö–¢–ê–ô–ú–´–ó, –î–ò–†–ï–ö–¢–û–†! üéâ
        </h3>
        <p style="text-align: center; font-size: 1.2em;">
            –°—ñ–∑ 30 –∫“Ø–Ω–¥—ñ–∫ —Å—ã–Ω–∞“õ—Ç—ã —Å”ô—Ç—Ç—ñ –∞—è“õ—Ç–∞–¥—ã“£—ã–∑.
            –ë“±–ª —É–∞“õ—ã—Ç —ñ—à—ñ–Ω–¥–µ —Å—ñ–∑ “õ–∞—Ä–∂—ã–Ω—ã –±–∞—Å“õ–∞—Ä—É, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—Ç—ñ–∫ –¥–∞“ì–¥–∞—Ä—ã—Å—Ç–∞—Ä–¥—ã —à–µ—à—É –∂”ô–Ω–µ –∫–æ–º–∞–Ω–¥–∞–Ω—ã –±–∞—Å“õ–∞—Ä—É –±–æ–π—ã–Ω—à–∞ –º–∏–ª–ª–∏–æ–Ω–¥–∞“ì–∞–Ω —à–µ—à—ñ–º–¥–µ—Ä “õ–∞–±—ã–ª–¥–∞–¥—ã“£—ã–∑.
        </p>
        <hr style="border-color: yellow;">

        <div style="background-color: rgba(40, 44, 52, 0.8); padding: 25px; border-radius: 10px; text-align: center; margin: 20px 0;">
            <h4>üèÜ –ê–ô–õ–´“ö “ö–û–†–´–¢–´–ù–î–´ (–ú”ò–†–ï)</h4>
            
            <p style="font-size: 1.8em; font-weight: bold; margin: 15px 0;">
                –°–û“¢“í–´ –ö–ê–ü–ò–¢–ê–õ: <b style="color: yellow; text-shadow: 1px 1px #000;">${finalCapital.toLocaleString()} ‚Ç∏</b>
            </p>
            
            <p style="font-size: 1.4em; font-weight: bold; color: ${profitColor};">
                –ñ–ê–õ–ü–´ –ü–ê–ô–î–ê: ${profitSign}${totalProfit.toLocaleString()} ‚Ç∏
            </p>
            
            <p style="margin-top: 25px;">
                –°—ñ–∑–¥—ñ“£ –∫–∞–ø–∏—Ç–∞–ª—ã“£—ã–∑–¥—ã“£ ”©—Å—É—ñ **${(finalCapital / initialCapital * 100).toFixed(2)}%** “õ“±—Ä–∞–¥—ã!
            </p>
<img src="ser.png" alt="–ú–∏–Ω–∏–º–∞–ª–∏–∑–º" class="design-image minimalism-img">

        </div>
        
        <div style="margin-top: 30px; text-align: center;">
            <h4>üôè –¢–Ü–õ–ï–ö</h4>
            <p style="font-style: italic; font-size: 1.1em; color: #ccc;">
                "–ë–∏–∑–Ω–µ—Å ‚Äî –±“±–ª –æ–π—ã–Ω, –∞–ª —Å—ñ–∑ ‚Äî –æ–Ω—ã“£ “Ø–∑–¥—ñ–∫ –æ–π—ã–Ω—à—ã—Å—ã. ”ò—Ä–±—ñ—Ä —à–µ—à—ñ–º—ñ“£—ñ–∑ –∫–µ–ª–µ—à–µ–∫—Ç–µ–≥—ñ —Ç–∞–±—ã—Å—ã“£—ã–∑–¥—ã“£ –Ω–µ–≥—ñ–∑—ñ –±–æ–ª—Å—ã–Ω. “ö–∞–¥–∞–º—ã“£—ã–∑“ì–∞ –Ω“±—Ä –∂–∞—É—Å—ã–Ω!"
            </p>
            <button id="resetGame" style="padding: 15px 30px; margin-top: 20px; background-color: #e74c3c; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">
                –û–ô–´–ù–î–´ “ö–ê–ô–¢–ê –ë–ê–°–¢–ê–£
            </button>
        </div>
    `;

    // === –°–ê–õ–Æ–¢ (–ö–û–ù–§–ï–¢–¢–ò) –≠–§–§–ï–ö–¢–Ü–°–Ü–ù –Ü–°–ö–ï “ö–û–°–£ JS-–ø–µ–Ω ===
    function launchConfetti() {
        const confettiArea = document.getElementById('confetti-area');
        const colors = ['#f1c40f', '#e67e22', '#e74c3c', '#9b59b6', '#3498db', '#2ecc71'];

        for (let i = 0; i < 50; i++) {
            const confetti = document.createElement('div');
            confetti.classList.add('confetti');
            confetti.style.setProperty('--color', colors[Math.floor(Math.random() * colors.length)]);
            confetti.style.left = `${Math.random() * 100}%`;
            confetti.style.top = `${Math.random() * 100}%`;
            confetti.style.animationDelay = `${Math.random() * 2}s`;
            confettiArea.appendChild(confetti);
        }
    }
    
    // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏–¥—ñ –±—ñ—Ä–¥–µ–Ω —ñ—Å–∫–µ “õ–æ—Å—É
    launchConfetti();


    // === –û–π—ã–Ω–¥—ã “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É –ª–æ–≥–∏–∫–∞—Å—ã ===
    document.getElementById("resetGame").addEventListener("click", () => {
        if (confirm("–û–π—ã–Ω–Ω—ã“£ –±–∞—Ä–ª—ã“õ –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ–Ω ”©—à—ñ—Ä—ñ–ø, “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É–¥—ã —Ä–∞—Å—Ç–∞–π—Å—ã–∑ –±–∞?")) {
            localStorage.clear();
            location.reload(); 
        }
    });

    // 30-–∫“Ø–Ω–Ω–µ–Ω –∫–µ–π—ñ–Ω –∂–∞“£–∞ –∫“Ø–Ω–≥–µ ”©—Ç—É –∂–æ“õ
    // “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –±”©–ª—ñ–º–¥—ñ –∞—à—ã“õ “õ–∞–ª–¥—ã—Ä–∞–º—ã–∑
}












</script>


<script>


// === –ö”®–ú–ï–ö –ë–õ–û–ì–´–ù–´“¢ –î–ï–†–ï–ö–¢–ï–†–Ü (30 –∫“Ø–Ω–≥–µ –±—ñ—Ä —Ä–µ—Ç) ===
const helpOptions = [
    // üõë –°–Ü–ó–î–Ü“¢ –ë–Ü–†–Ü–ù–®–Ü –ë–õ–û–ì–´“¢–´–ó–î–´“¢ –¢–û–õ–´“ö –î–ï–†–ï–ì–Ü
    { 
        icon: 'üë®üèª‚Äçüíº', 
        title: '–¢—É—ã—Å –ê“ì–∞ –ö”©–º–µ–∫—Ç–µ—Å—Ç—ñ', 
        result: 20000, 
        message: "–ê“ì–∞“£–∞ —Ö–∞–±–∞—Ä–ª–∞—Å—Ç—ã“£. “∞–∑–∞“õ “Ø–Ω—Å—ñ–∑–¥—ñ–∫—Ç–µ–Ω –∫–µ–π—ñ–Ω: '–ñ–∞—Ä–∞–π–¥—ã, –º—ñ–Ω–µ 20000 ‚Ç∏, –±—ñ—Ä–∞“õ –µ–Ω–¥—ñ –∂–∏—ñ –∂–∞–∑!' –¥–µ–π–¥—ñ." 
    },
    
    // –¢–µ–∫—Å–µ—Ä—É “Ø—à—ñ–Ω “õ–æ—Å—ã–º—à–∞ –±–ª–æ–∫—Ç–∞—Ä–¥—ã –æ—Å—ã –∂–µ—Ä–¥–µ “±—Å—Ç–∞–π–º—ã–∑ –Ω–µ–º–µ—Å–µ —Ç–æ–ª—ã“õ—Ç—ã—Ä–∞–º—ã–∑
    { 
        icon: 'üß†', 
        title: '–ñ–∞“õ—Å—ã –ö–µ“£–µ—Å', 
        result: 0, 
        message: "–î–æ—Å—ã“£ –∞–π—Ç“õ–∞–Ω –∫–µ“£–µ—Å –∫–µ—Ä–µ–º–µ—Ç –µ–¥—ñ: '–°–∞–±—ã—Ä ‚Äì –∫”ô—Å—ñ–ø—Ç—ñ“£ –∂–∞—Ä—Ç—ã—Å—ã.' –ë—ñ—Ä–∞“õ, –æ–ª –∞“õ—à–∞ –µ–º–µ—Å..." 
    },
    { 
        icon: '‚ú®', 
        title: '–ö“Ø—Ç–ø–µ–≥–µ–Ω –û“õ–∏“ì–∞', 
        result: 10000, 
        message: "–ö”©—à–µ–¥–µ –∫–µ–∑–¥–µ–π—Å–æ“õ –±–∏–∑–Ω–µ—Å —Ñ–æ—Ä—É–º ”©—Ç—ñ–ø –∂–∞—Ç—ã—Ä –µ–∫–µ–Ω, –∫—ñ—Ä—ñ–ø –∫–µ—Ç—ñ–ø, “±—Ç—ã—Å“õ–∞ —ñ–ª—ñ–Ω–¥—ñ“£!" 
    },
    { 
        icon: 'ü§ù', 
        title: '–ö–ª–∏–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ –ê–ª“ì—ã—Å—ã', 
        result: 20000, 
        message: "–ë—ñ—Ä –∫–ª–∏–µ–Ω—Ç: '–°—ñ–∑–¥—ñ“£ “õ—ã–∑–º–µ—Ç—ñ“£—ñ–∑–≥–µ —Ä–∏–∑–∞ –±–æ–ª–¥—ã–º!' ‚Äì –¥–µ–ø, —Å—ã–π–∞“õ—ã “õ–∞–ª–¥—ã—Ä–¥—ã." 
    },
    { 
        icon: 'üíª', 
        title: '–ï—Å–∫—ñ –ó–∞—Ç –°–∞—Ç—Ç—ã“£', 
        result: 8000, 
        message: "–ñ“±–º—ã—Å “Ø—Å—Ç–µ–ª—ñ–Ω–µ–Ω –µ—Å–∫—ñ –Ω–æ—É—Ç–±—É–∫ —Ç–∞—É—ã–ø, –æ–Ω–ª–∞–π–Ω —Å–∞—Ç—Ç—ã“£." 
    },
    { 
        icon: 'üçÄ', 
        title: '–°”ô—Ç—Ç—ñ–ª—ñ–∫ –û“õ–∏“ì–∞—Å—ã', 
        result: 15000, 
        message: "–¢–∞“£–µ—Ä—Ç–µ“£ –∫–µ–∑–¥–µ–π—Å–æ“õ –µ—Å–∫—ñ –¥–æ—Å—ã“£–º–µ–Ω –∂–æ–ª—ã“õ—Ç—ã“£. –û–ª: '–ú—ã–Ω–∞ –∂–æ–±–∞“£–¥—ã “õ–æ–ª–¥–∞–π–º—ã–Ω!' ‚Äì –¥–µ–ø –∫”©–º–µ–∫—Ç–µ—Å—Ç—ñ." 
    },
];

function handleHelpRequest(blockId) {
    // 1. –ë“±—Ä—ã–Ω “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω –±–∞, —Ç–µ–∫—Å–µ—Ä—É
    if (localStorage.getItem(`help_used_${blockId}`) === 'true') {
        alert("–ë“±–ª –∫”©–º–µ–∫ –±–ª–æ–≥—ã –±“±—Ä—ã–Ω “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω.");
        return;
    }

    // 2. –†–∞–Ω–¥–æ–º–¥—ã –Ω”ô—Ç–∏–∂–µ —Ç–∞“£–¥–∞—É
    const randomIndex = Math.floor(Math.random() * helpOptions.length);
    const result = helpOptions[randomIndex];
    
    // 3. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
    capital += result.result;
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);

    // 4. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
    const blockElement = document.getElementById(blockId);
    
    let resultColor = result.result > 0 ? 'lightgreen' : (result.result < 0 ? 'salmon' : 'yellow');
    let sign = result.result > 0 ? '+' : '';

    blockElement.innerHTML = `
        <div class="help-content-open">
            <h4 style="color: ${resultColor}; margin-top: 5px;">${result.icon} ${result.title}</h4>
            <p>${result.message}</p>
            <p style="font-weight: bold; color: ${resultColor};">
                 –ù”ô—Ç–∏–∂–µ: ${sign}${result.result.toLocaleString()} ‚Ç∏
            </p>
        </div>
    `;
    
    // 5. –ë–ª–æ–∫—Ç—ã –±—ñ—Ä —Ä–µ—Ç—Ç—ñ–∫ “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω –¥–µ–ø –±–µ–ª–≥—ñ–ª–µ—É
    localStorage.setItem(`help_used_${blockId}`, 'true');
    blockElement.classList.add('used-help');
    
    // 6. –í–∏–∑—É–∞–ª–¥—ã –∞–Ω–∏–º–∞—Ü–∏—è–Ω—ã —à–∞“õ—ã—Ä—É (–ï–≥–µ—Ä –±–∞—Ä –±–æ–ª—Å–∞)
    // launchMagicEffect(result.result > 0); 
}

// updateCapitalDisplay —Ñ—É–Ω–∫—Ü–∏—è—Å—ã –∫–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç–∞—Ç—ã–Ω—ã–Ω–∞ –∫”©–∑ –∂–µ—Ç–∫—ñ–∑—ñ“£—ñ–∑
// function updateCapitalDisplay(currentCapital) { ... }
</script>






<audio id="sound-loss" src="loss.mp3" preload="auto"></audio>
<audio id="sound-gain" src="gain.mp3" preload="auto"></audio>

<script>

// =======================================================
// üõë –î–´–ë–´–° –û–ô–ù–ê–¢–£ –§–£–ù–ö–¶–ò–Ø–°–´ (PlayMoneySound)
// =======================================================
function playMoneySound(amount) {
    let audioId;
    
    if (amount < 0) {
        audioId = 'sound-loss'; // –®—ã“ì—ã–Ω –¥—ã–±—ã—Å—ã
    } else if (amount > 0) {
        audioId = 'sound-gain';  // –ü–∞–π–¥–∞ –¥—ã–±—ã—Å—ã
    } else {
        return;
    }

    const audio = document.getElementById(audioId);
    
    if (audio) {
        audio.currentTime = 0; 
        audio.volume = 0.5; // “ö–∞—Ç—Ç—ã–ª—ã“õ—Ç—ã —Ä–µ—Ç—Ç–µ“£—ñ–∑ (0.0 - 1.0)
        
        audio.play().catch(error => {
            // –ï–≥–µ—Ä –±—Ä–∞—É–∑–µ—Ä–¥—ñ“£ Auto-play –µ—Ä–µ–∂–µ—Å—ñ–Ω–µ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã “õ–∞—Ç–µ —à—ã“õ—Å–∞, –æ—Å—ã –∂–µ—Ä–¥–µ –∫”©—Ä–µ—Å—ñ–∑.
            console.error("–î—ã–±—ã—Å—Ç—ã –æ–π–Ω–∞—Ç—É –º“Ø–º–∫—ñ–Ω –±–æ–ª–º–∞–¥—ã:", error);
        });
    } else {
        console.error(`–ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ñ —Ç–∞–±—ã–ª–º–∞–¥—ã: ${audioId}`);
    }
}

// =======================================================
// üõë “ö–û–õ–î–ê–ù–£ –ú–´–°–ê–õ–´ (–°—ñ–∑–¥—ñ“£ HandleOptionClick —Ñ—É–Ω–∫—Ü–∏—è“£—ã–∑–¥–∞)
// =======================================================
function handleOptionClick(event) {
    // ... (–±–∞—Å“õ–∞ –ª–æ–≥–∏–∫–∞) ...
    const cost = parseInt(button.getAttribute('data-cost'));
    
    if (!isNaN(cost)) {
        
        // üõë –î—ã–±—ã—Å—Ç—ã —à–∞“õ—ã—Ä—É: cost —Ç–µ—Ä—ñ—Å —Å–∞–Ω (-3000), —Å–æ–Ω–¥—ã“õ—Ç–∞–Ω loss.mp3 –æ–π–Ω–∞—É—ã –∫–µ—Ä–µ–∫
        playMoneySound(cost); 
        
        // –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É:
        capital += cost; 
        // ... (“õ–∞–ª“ì–∞–Ω –ª–æ–≥–∏–∫–∞) ...
    }
}
// ...

</script>











<script>


// === –û“¢ –ñ–ê“ö –ë–õ–û–ö (–ú“Æ–ú–ö–Ü–ù–î–Ü–ö–¢–ï–†) –î–ï–†–ï–ö–¢–ï–†–Ü ===
const opportunityOptions = [
    // 1. –ñ–æ“ì–∞—Ä—ã —Ç”ô—É–µ–∫–µ–ª, –∂–æ“ì–∞—Ä—ã –ø–∞–π–¥–∞
    { 
        icon: 'üìà', 
        title: '–®–µ—Ç–µ–ª–¥—ñ–∫ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è', 
        cost: 50000, 
        result: 120000, 
        message: "–ê–ª—ã—Å –µ–ª–¥–µ—Ä–¥–µ–Ω –∏–Ω–≤–µ—Å—Ç–æ—Ä —Ç–∞–ø—Ç—ã“£—ã–∑. 50 000 ‚Ç∏ —Å–∞–ª—ã–º –∂–∞—Å–∞–¥—ã“£—ã–∑. –ü–∞–π–¥–∞ ‚Äì 120 000 ‚Ç∏. –¢”ô—É–µ–∫–µ–ª –∞“õ—Ç–∞–ª–¥—ã!",
        type: 'profit'
    },
    // 2. –¢”©–º–µ–Ω —Ç”ô—É–µ–∫–µ–ª, –±—ñ—Ä–∞“õ —à—ã“ì—ã–Ω
    { 
        icon: 'üìù', 
        title: '“ö“±“õ—ã“õ—Ç—ã“õ –ö–µ“£–µ—Å', 
        cost: 15000, 
        result: -5000, 
        message: "–ñ–∞“£–∞ –∑–∞“£–≥–µ—Ä–ª—ñ–∫ –∫–µ“£–µ—Å—à—ñ –∂–∞–ª–¥–∞–¥—ã“£—ã–∑. –ë“±–ª 15 000 ‚Ç∏ —Ç“±—Ä–¥—ã, –±—ñ—Ä–∞“õ –æ–ª –±—ñ—Ä “õ–∞—Ç–µ–ª—ñ–∫—Ç—ñ –∂—ñ–±–µ—Ä—ñ–ø, —Ç–∞“ì—ã 5 000 ‚Ç∏ —à—ã“ì—ã–Ω ”ô–∫–µ–ª–¥—ñ.",
        type: 'loss'
    },
    // 3. –ñ–∞–ª–ø—ã –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—Ç—ñ–∫ –ø–∞–π–¥–∞
    { 
        icon: 'üöÄ', 
        title: '–í–∏—Ä—É—Å—Ç—ã“õ –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', 
        cost: 30000, 
        result: 75000, 
        message: "–ö—ñ—à–∫–µ–Ω—Ç–∞–π –∞–∫—Ü–∏—è –≤–∏—Ä—É—Å—Ç—ã“õ —Å–∏–ø–∞—Ç –∞–ª–¥—ã! 30 000 ‚Ç∏ —Å–∞–ª—ã–º 75 000 ‚Ç∏ –ø–∞–π–¥–∞ ”ô–∫–µ–ª–¥—ñ.",
        type: 'profit'
    },
    // 4. –¢”ô—É–µ–∫–µ–ª—Å—ñ–∑, –±—ñ—Ä–∞“õ –∫—ñ—à–∫–µ–Ω—Ç–∞–π –ø–∞–π–¥–∞
    { 
        icon: 'üí°', 
        title: '“ö—ã–∑–º–µ—Ç—Ç—ñ –û“£—Ç–∞–π–ª–∞–Ω–¥—ã—Ä—É', 
        cost: 0, 
        result: 10000, 
        message: "–ñ“±–º—ã—Å –ø—Ä–æ—Ü–µ—Å—ñ–Ω –æ“£—Ç–∞–π–ª–∞–Ω–¥—ã—Ä–¥—ã“£—ã–∑. –ë“±–ª –∞“õ—à–∞ –∂“±–º—Å–∞–º–∞–π, 10 000 ‚Ç∏ “Ø–Ω–µ–º–¥–µ—É–≥–µ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–¥—ñ.",
        type: 'profit'
    },
];

function handleOpportunity(blockId) {
    // 1. –¢–µ–∫—Å–µ—Ä—É
    if (localStorage.getItem(`opp_used_${blockId}`) === 'true') {
        alert("–ë“±–ª –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–ª–æ–≥—ã –±“±—Ä—ã–Ω “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω.");
        return;
    }

    // 2. –†–∞–Ω–¥–æ–º–¥—ã –Ω”ô—Ç–∏–∂–µ —Ç–∞“£–¥–∞—É
    const randomIndex = Math.floor(Math.random() * opportunityOptions.length);
    const result = opportunityOptions[randomIndex];
    
    // –ö–∞–ø–∏—Ç–∞–ª–¥—ã —Ç–µ–∫—Å–µ—Ä—É (—Å–∞–ª—ã–º –∂–∞—Å–∞—É “Ø—à—ñ–Ω)
    if (capital < result.cost) {
        alert(`–°–∞–ª—ã–º –∂–∞—Å–∞—É “Ø—à—ñ–Ω ${result.cost.toLocaleString()} ‚Ç∏ “õ–∞–∂–µ—Ç. “ö–∞–∑—ñ—Ä–≥—ñ –∫–∞–ø–∏—Ç–∞–ª—ã“£—ã–∑ –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑.`);
        return;
    }

    // 3. –ö–∞–ø–∏—Ç–∞–ª–¥—ã –∂–∞“£–∞—Ä—Ç—É
    capital = capital - result.cost + result.result; // –°–∞–ª—ã–º–¥—ã —à–µ–≥–µ—Ä—É –∂”ô–Ω–µ –Ω”ô—Ç–∏–∂–µ–Ω—ñ “õ–æ—Å—É
    localStorage.setItem("capital", capital);
    updateCapitalDisplay(capital);

    // 4. –ù”ô—Ç–∏–∂–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—É
    const blockElement = document.getElementById(blockId);
    
    let resultColor = result.type === 'profit' ? 'lightgreen' : (result.type === 'loss' ? 'salmon' : 'yellow');
    let finalResult = result.result - result.cost; // –¢–∞–∑–∞ –Ω”ô—Ç–∏–∂–µ
    let sign = finalResult >= 0 ? '+' : '';

    blockElement.innerHTML = `
        <div class="help-content-open">
            <h4 style="color: ${resultColor}; margin-top: 5px;">${result.icon} ${result.title}</h4>
            <p>${result.message}</p>
            <p style="font-weight: bold; color: ${resultColor};">
                 –¢–∞–∑–∞ –ù”ô—Ç–∏–∂–µ: ${sign}${finalResult.toLocaleString()} ‚Ç∏
            </p>
        </div>
    `;
    
    // 5. –ë–ª–æ–∫—Ç—ã –±—ñ—Ä —Ä–µ—Ç—Ç—ñ–∫ “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω –¥–µ–ø –±–µ–ª–≥—ñ–ª–µ—É
    localStorage.setItem(`opp_used_${blockId}`, 'true');
    blockElement.classList.add('used-help');
}



</script>







</body>
</html>
